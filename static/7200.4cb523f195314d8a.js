"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[7200],{822:(Z,C,p)=>{p.d(C,{k:()=>A});var d=p(529),y=p(2529),m=p(9300),_=p(4004),T=p(4650),b=p(5060);let A=(()=>{class e extends y.b{constructor(s,a){super(s,a)}listRegistryProviderTypesResponse(s){let a=this.newParams(),i=new d.WM;null!=s&&(i=i.set("X-Request-Id",s.toString()));let h=new d.aW("GET",this.rootUrl+"/replication/adapters",null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}listRegistryProviderTypes(s){return this.listRegistryProviderTypesResponse(s).pipe((0,_.U)(a=>a.body))}listRegistryProviderInfosResponse(s){let a=this.newParams(),i=new d.WM;null!=s&&(i=i.set("X-Request-Id",s.toString()));let h=new d.aW("GET",this.rootUrl+"/replication/adapterinfos",null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}listRegistryProviderInfos(s){return this.listRegistryProviderInfosResponse(s).pipe((0,_.U)(a=>a.body))}createRegistryResponse(s){let a=this.newParams(),i=new d.WM,g=null;g=s.registry,null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("POST",this.rootUrl+"/registries",g,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}createRegistry(s){return this.createRegistryResponse(s).pipe((0,_.U)(a=>a.body))}listRegistriesResponse(s){let a=this.newParams(),i=new d.WM;null!=s.sort&&(a=a.set("sort",s.sort.toString())),null!=s.q&&(a=a.set("q",s.q.toString())),null!=s.pageSize&&(a=a.set("page_size",s.pageSize.toString())),null!=s.page&&(a=a.set("page",s.page.toString())),null!=s.name&&(a=a.set("name",s.name.toString())),null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("GET",this.rootUrl+"/registries",null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}listRegistries(s){return this.listRegistriesResponse(s).pipe((0,_.U)(a=>a.body))}pingRegistryResponse(s){let a=this.newParams(),i=new d.WM,g=null;g=s.registry,null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("POST",this.rootUrl+"/registries/ping",g,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}pingRegistry(s){return this.pingRegistryResponse(s).pipe((0,_.U)(a=>a.body))}getRegistryResponse(s){let a=this.newParams(),i=new d.WM;null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("GET",this.rootUrl+`/registries/${s.id}`,null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}getRegistry(s){return this.getRegistryResponse(s).pipe((0,_.U)(a=>a.body))}deleteRegistryResponse(s){let a=this.newParams(),i=new d.WM;null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("DELETE",this.rootUrl+`/registries/${s.id}`,null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}deleteRegistry(s){return this.deleteRegistryResponse(s).pipe((0,_.U)(a=>a.body))}updateRegistryResponse(s){let a=this.newParams(),i=new d.WM,g=null;g=s.registry,null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("PUT",this.rootUrl+`/registries/${s.id}`,g,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}updateRegistry(s){return this.updateRegistryResponse(s).pipe((0,_.U)(a=>a.body))}getRegistryInfoResponse(s){let a=this.newParams(),i=new d.WM;null!=s.XRequestId&&(i=i.set("X-Request-Id",s.XRequestId.toString()));let h=new d.aW("GET",this.rootUrl+`/registries/${s.id}/info`,null,{headers:i,params:a,responseType:"json"});return this.http.request(h).pipe((0,m.h)(c=>c instanceof d.Zn),(0,_.U)(c=>c))}getRegistryInfo(s){return this.getRegistryInfoResponse(s).pipe((0,_.U)(a=>a.body))}}return e.listRegistryProviderTypesPath="/replication/adapters",e.listRegistryProviderInfosPath="/replication/adapterinfos",e.createRegistryPath="/registries",e.listRegistriesPath="/registries",e.pingRegistryPath="/registries/ping",e.getRegistryPath="/registries/{id}",e.deleteRegistryPath="/registries/{id}",e.updateRegistryPath="/registries/{id}",e.getRegistryInfoPath="/registries/{id}/info",e.\u0275fac=function(s){return new(s||e)(T.LFG(b.p),T.LFG(d.eN))},e.\u0275prov=T.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7200:(Z,C,p)=>{p.r(C),p.d(C,{EndpointModule:()=>de});var d=p(858),y=p(6296),m=p(4128),_=p(2843),T=p(8746),b=p(4004),A=p(262),e=p(4650),O=p(2421),s=p(3526),a=p(8486),i=p(9375),g=p(2443),h=p(2466),c=p(529),x=p(8025),E=p(4006),v=p(6895);const D=["targetForm"];function P(l,u){1&l&&(e.TgZ(0,"div",38)(1,"div",39)(2,"span",40),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&l&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"DESTINATION.CANNOT_EDIT")," "))}const L=function(l){return{hidden:l}};function U(l,u){if(1&l&&(e.TgZ(0,"option",41),e._uU(1),e.qZA()),2&l){const t=u.$implicit,n=e.oxw();e.s9C("value",t),e.Q6J("ngClass",e.VKq(3,L,n.shouldHide(t))),e.xp6(1),e.hij(" ",n.getAdapterText(t)," ")}}function q(l,u){1&l&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DESTINATION.NAME_IS_REQUIRED")," "))}function w(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"clr-icon",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.showEndpointList=!0)}),e.qZA()}}function F(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"li",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.selectedEndpoint(r.value))}),e._uU(1),e.qZA()}if(2&l){const t=u.$implicit;e.xp6(1),e.hij(" ",t.key," ")}}function J(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"div",43),e.NdJ("mouseleave",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.endpointOnHover=!1)})("mouseover",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.endpointOnHover=!0)}),e.TgZ(1,"ul"),e.YNc(2,F,2,1,"li",44),e.qZA()()}if(2&l){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.endpointList)}}function k(l,u){1&l&&e._UZ(0,"clr-icon",46)}function Q(l,u){1&l&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"DESTINATION.URL_IS_REQUIRED")," "))}function B(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"input",47,48),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.target.credential.access_secret=o)}),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("disabled",t.testOngoing)("readonly",!t.editable)("ngModel",t.target.credential.access_secret)}}function G(l,u){if(1&l){const t=e.EpF();e.TgZ(0,"textarea",49,48),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.target.credential.access_secret=o)}),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("disabled",t.testOngoing)("readonly",!t.editable)("ngModel",t.target.credential.access_secret)}}function Y(l,u){1&l&&(e.TgZ(0,"clr-tooltip-content",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CONFIG.TOOLTIP.VERIFY_REMOTE_CERT")," "))}const N="rjGcfuRu",S="No Change",j=s.S$+"/replication/adapterinfos",M="EndpointPatternTypeFix";let R=(()=>{class l{constructor(t,n,o,r,f){this.endpointService=t,this.errorHandler=n,this.translateService=o,this.http=r,this.appConfigService=f,this.urlDisabled=!1,this.editDisabled=!1,this.controlEnabled=!1,this.staticBackdrop=!0,this.closable=!1,this.endpointList=[],this.target=this.initEndpoint(),this.reload=new e.vpe,this.showEndpointList=!1,this.endpointOnHover=!1,this.testButtonState=i.xp5.DEFAULT,this.okButtonState=i.xp5.DEFAULT}ngOnInit(){this.getAdapters(),this.getAdapterInfo()}getAdapters(){this.endpointService.getAdapters().subscribe(t=>{if(this.adapterList=t||[],!this.appConfigService.getConfig().with_chartmuseum)for(let n=0;n<this.adapterList.length;n++)this.adapterList[n]===a.Cw&&this.adapterList.splice(n,1)},t=>{this.errorHandler.error(t)})}getAdapterInfo(){this.http.get(j).pipe((0,A.K)(t=>(0,_._)(t))).subscribe(t=>{this.adapterInfo=t},t=>{this.errorHandler.error(t)})}isNormalCredential(){return!(this.adapterInfo&&this.target&&this.target.type&&this.adapterInfo[this.target.type]&&this.adapterInfo[this.target.type].credential_pattern)}selectedEndpoint(t){this.targetForm.controls.endpointUrl.reset(t),this.showEndpointList=!1,this.endpointOnHover=!1}blur(){this.endpointOnHover||(this.showEndpointList=!1)}get isValid(){return!this.testOngoing&&!this.onGoing&&this.targetForm&&this.targetForm.valid&&this.editable&&!(0,s.jy)(this.target,this.initVal)}get inProgress(){return this.onGoing||this.testOngoing}setInsecureValue(t){this.target.insecure=!t}ngOnDestroy(){this.valueChangesSub&&this.valueChangesSub.unsubscribe()}initEndpoint(){return{credential:{access_key:"",access_secret:"",type:"basic"},description:"",insecure:!1,name:"",type:"harbor",url:""}}initPingEndpoint(){return{access_key:"",access_secret:"",description:"",insecure:!1,name:"",type:"harbor",url:""}}open(){this.createEditDestinationOpened=!0}close(){this.createEditDestinationOpened=!1}reset(){this.testOngoing=!1,this.onGoing=!1,this.targetForm&&this.targetForm.controls&&this.targetForm.controls.targetName&&this.targetForm.controls.targetName.reset(),this.target=this.initEndpoint(),this.initVal=this.initEndpoint(),this.formValues=null,this.endpointId="",this.inlineAlert.close()}openCreateEditTarget(t,n){this.editable=t,this.reset(),n?(this.endpointId=n,this.translateService.get("DESTINATION.TITLE_EDIT").subscribe(o=>this.modalTitle=o),this.endpointService.getEndpoint(n).subscribe(o=>{this.target=o,this.urlDisabled=this.adapterInfo&&this.adapterInfo[this.target.type]&&this.adapterInfo[this.target.type].endpoint_pattern&&this.adapterInfo[this.target.type].endpoint_pattern.endpoint_type===M,this.initVal=(0,s.d9)(o),this.initVal.credential.access_secret="google-gcr"===this.target.type?S:N,this.target.credential.access_secret="google-gcr"===this.target.type?S:N,this.open(),this.editDisabled=!0},o=>this.errorHandler.error(o))):(this.urlDisabled=!1,this.endpointId="",this.translateService.get("DESTINATION.TITLE_ADD").subscribe(o=>this.modalTitle=o),this.open(),this.editDisabled=!1)}adapterChange(t){this.targetForm.controls.endpointUrl.reset("");let n=this.targetForm.controls.adapter.value;this.urlDisabled=!1,this.isNormalCredential()?this.targetForm.controls.access_key.setValue(""):this.targetForm.controls.access_key.setValue(this.adapterInfo[this.target.type].credential_pattern.access_key_data),this.adapterInfo&&this.adapterInfo[n]&&this.adapterInfo[n].endpoint_pattern&&this.adapterInfo[n].endpoint_pattern.endpoints?(this.endpointList=this.adapterInfo[n].endpoint_pattern.endpoints,1===this.endpointList.length&&(this.target.url=this.endpointList[0].value),this.adapterInfo[n].endpoint_pattern.endpoint_type===M&&(this.urlDisabled=!0)):this.endpointList=[]}testConnection(){let t=this.initPingEndpoint();if(this.endpointId){let n=this.getChanges();for(let o of Object.keys(t))delete t[o];t.id=this.target.id,(0,s.Qr)(n)||Object.keys(this.getChanges()).forEach(r=>{t[r]=n[r]})}else t.name=this.target.name,t.description=this.target.description,t.type=this.target.type,t.url=this.target.url,t.access_key=this.target.credential.access_key,t.access_secret=this.target.credential.access_secret,t.insecure=this.target.insecure;this.testOngoing=!0,this.testButtonState=i.xp5.LOADING,this.endpointService.pingEndpoint(t).subscribe(n=>{this.inlineAlert.showInlineSuccess({message:"DESTINATION.TEST_CONNECTION_SUCCESS"}),this.testOngoing=!1,this.testButtonState=i.xp5.SUCCESS},n=>{this.inlineAlert.showInlineError("DESTINATION.TEST_CONNECTION_FAILURE"),this.testOngoing=!1,this.testButtonState=i.xp5.ERROR})}onSubmit(){this.endpointId?this.updateEndpoint():this.addEndpoint()}addEndpoint(){this.onGoing||(this.onGoing=!0,this.okButtonState=i.xp5.LOADING,this.endpointService.createEndpoint(this.target).subscribe(t=>{this.translateService.get("DESTINATION.CREATED_SUCCESS").subscribe(n=>this.errorHandler.info(n)),this.reload.emit(!0),this.onGoing=!1,this.okButtonState=i.xp5.SUCCESS,this.close()},t=>{this.onGoing=!1,this.okButtonState=i.xp5.ERROR,this.inlineAlert.showInlineError(t)}))}updateEndpoint(){if(this.onGoing)return;let t=this.initEndpoint();for(let r of Object.keys(t))delete t[r];let n=this.getChanges();(0,s.Qr)(n)||(Object.keys(n).forEach(r=>{t[r]=n[r]}),!this.target.id)||(this.onGoing=!0,this.okButtonState=i.xp5.LOADING,this.endpointService.updateEndpoint(this.target.id,t).subscribe(r=>{this.translateService.get("DESTINATION.UPDATED_SUCCESS").subscribe(f=>this.errorHandler.info(f)),this.reload.emit(!0),this.close(),this.onGoing=!1,this.okButtonState=i.xp5.SUCCESS},r=>{this.inlineAlert.showInlineError(r),this.onGoing=!1,this.okButtonState=i.xp5.ERROR}))}onCancel(){let t=this.getChanges();(0,s.Qr)(t)?(this.close(),this.targetForm&&this.targetForm.reset()):this.inlineAlert.showInlineConfirmation({message:"ALERT.FORM_CHANGE_CONFIRMATION"})}confirmCancel(t){this.inlineAlert.close(),this.close()}ngAfterViewChecked(){this.targetForm!==this.currentForm&&(this.targetForm=this.currentForm,this.targetForm&&(this.valueChangesSub=this.targetForm.valueChanges.subscribe(t=>{if(t){let n=0;for(let o in t)null!==t[o]&&n++;if(5!==n)return;(0,s.jy)(this.formValues,t)||(this.formValues=t)}})))}getChanges(){let t={};if(!this.target||!this.initVal)return t;for(let n of Object.keys(Object.assign({},this.target,this.initVal))){let o=this.initVal[n];if("object"!=typeof o)(0,s.jy)(o,this.target[n])||(t[n]=this.target[n],"number"==typeof o&&(t[n]=+t[n]),"string"==typeof o&&(t[n]=(""+t[n]).trim()));else for(let r of Object.keys(Object.assign({},o,this.target[n])))(0,s.jy)(o[r],this.target[n][r])||(t[r]=this.target[n][r],"number"==typeof o[r]&&(t[r]=+t[r]),"string"==typeof o[r]&&(t[r]=(""+t[r]).trim()))}return t}getAdapterText(t){return this.endpointService.getAdapterText(t)}shouldHide(t){return t===a.Cw&&!this.endpointId}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(a.BO),e.Y36(g.q),e.Y36(h.sK),e.Y36(c.eN),e.Y36(x._))},l.\u0275cmp=e.Xpm({type:l,selectors:[["hbr-create-edit-endpoint"]],viewQuery:function(t,n){if(1&t&&(e.Gf(D,5),e.Gf(O.l,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.currentForm=o.first),e.iGM(o=e.CRH())&&(n.inlineAlert=o.first)}},outputs:{reload:"reload"},decls:74,vars:64,consts:[[3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body","overflow-visible"],[1,"modal-title",3,"confirmEvt"],["class","alert alert-warning",4,"ngIf"],[1,"clr-form","clr-form-horizontal"],["targetForm","ngForm"],[1,"required"],["clrSelect","","name","adapter","id","adapter",3,"ngModel","disabled","change","ngModelChange"],[3,"ngClass","value",4,"ngFor","ngForOf"],["autocomplete","off","clrInput","","type","text","id","destination_name","name","targetName","size","30","required","",3,"disabled","readonly","ngModel","ngModelChange"],["targetName","ngModel"],[4,"ngIf"],["clrTextarea","","type","text","row","3","name","description",1,"inputWidth",3,"ngModel","ngModelChange"],[1,"clr-form-control"],["for","destination_url",1,"required","clr-control-label"],[1,"clr-control-container"],[1,"clr-input-wrapper","position-relative"],["class","down","shape","caret","dir","down",3,"click",4,"ngIf"],["autocomplete","off","type","text","id","destination_url","size","28","name","endpointUrl","required","","placeholder","http(s)://192.168.1.1",1,"clr-input","endpoint-input",3,"disabled","readonly","ngModel","blur","focus","ngModelChange"],["targetEndpoint","ngModel"],["class","selectBox",3,"mouseleave","mouseover",4,"ngIf"],["class","clr-validate-icon","shape","exclamation-circle",4,"ngIf"],["autocomplete","off","clrInput","","type","text","placeholder","Access ID","id","destination_access_key","size","30","name","access_key",3,"disabled","readonly","ngModel","ngModelChange"],["access_key","ngModel"],["for","destination_password",1,"clr-control-label"],[1,"clr-textarea-wrapper","mt-0"],["autocomplete","off","class","clr-input","type","password","placeholder","Access Secret","id","destination_password","size","30","name","access_secret",3,"disabled","readonly","ngModel","ngModelChange",4,"ngIf","ngIfElse"],["gcr_secret",""],["id","destination_insecure_checkbox","for","destination_insecure",1,"destination-insecure-label"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","md",4,"clrIfOpen"],["type","checkbox","clrCheckbox","","id","destination_insecure","name","insecure",3,"disabled","ngModel","ngModelChange"],["insecure",""],[1,"modal-footer"],["type","button",1,"btn","btn-outline",3,"clrLoading","disabled","click"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","submit",1,"btn","btn-primary",3,"clrLoading","disabled","click"],[1,"alert","alert-warning"],[1,"alert-item","static"],[1,"alert-text"],[3,"ngClass","value"],["shape","caret","dir","down",1,"down",3,"click"],[1,"selectBox",3,"mouseleave","mouseover"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["shape","exclamation-circle",1,"clr-validate-icon"],["autocomplete","off","type","password","placeholder","Access Secret","id","destination_password","size","30","name","access_secret",1,"clr-input",3,"disabled","readonly","ngModel","ngModelChange"],["access_secret","ngModel"],["autocomplete","off","type","text","row","3","placeholder","Json Secret","id","destination_password","name","access_secret",1,"clr-textarea",3,"disabled","readonly","ngModel","ngModelChange"],["clrPosition","top-right","clrSize","md"]],template:function(t,n){if(1&t&&(e.TgZ(0,"clr-modal",0),e.NdJ("clrModalOpenChange",function(r){return n.createEditDestinationOpened=r}),e.TgZ(1,"h3",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"inline-alert",3),e.NdJ("confirmEvt",function(r){return n.confirmCancel(r)}),e.qZA(),e.YNc(5,P,5,3,"div",4),e.TgZ(6,"form",5,6)(8,"clr-select-container")(9,"label",7),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"select",8),e.NdJ("change",function(r){return n.adapterChange(r)})("ngModelChange",function(r){return n.target.type=r}),e.YNc(13,U,2,5,"option",9),e.qZA()(),e.TgZ(14,"clr-input-container")(15,"label",7),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"input",10,11),e.NdJ("ngModelChange",function(r){return n.target.name=r}),e.qZA(),e.YNc(20,q,3,3,"clr-control-error",12),e.qZA(),e.TgZ(21,"clr-textarea-container")(22,"label"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"textarea",13),e.NdJ("ngModelChange",function(r){return n.target.description=r}),e.qZA()(),e.TgZ(26,"div",14)(27,"label",15),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",16)(31,"div",17),e.YNc(32,w,1,0,"clr-icon",18),e.TgZ(33,"input",19,20),e.NdJ("blur",function(){return n.blur()})("focus",function(){return n.showEndpointList=!0})("ngModelChange",function(r){return n.target.url=r}),e.qZA(),e.YNc(35,J,3,1,"div",21),e.YNc(36,k,1,0,"clr-icon",22),e.qZA(),e.YNc(37,Q,3,3,"clr-control-error",12),e.qZA()(),e.TgZ(38,"clr-input-container")(39,"label"),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"input",23,24),e.NdJ("ngModelChange",function(r){return n.target.credential.access_key=r}),e.qZA()(),e.TgZ(44,"div",14)(45,"label",25),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"div",16)(49,"div",26),e.YNc(50,B,2,3,"input",27),e.YNc(51,G,2,3,"ng-template",null,28,e.W1O),e.qZA()()(),e.TgZ(53,"clr-checkbox-container")(54,"label",29)(55,"span"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"clr-tooltip"),e._UZ(59,"clr-icon",30),e.YNc(60,Y,3,3,"clr-tooltip-content",31),e.qZA()(),e.TgZ(61,"clr-checkbox-wrapper")(62,"input",32,33),e.NdJ("ngModelChange",function(r){return n.setInsecureValue(r)}),e.qZA()()()()(),e.TgZ(64,"div",34)(65,"button",35),e.NdJ("click",function(){return n.testConnection()}),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"button",36),e.NdJ("click",function(){return n.onCancel()}),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"button",37),e.NdJ("click",function(){return n.onSubmit()}),e._uU(72),e.ALo(73,"translate"),e.qZA()()()),2&t){const o=e.MAs(19),r=e.MAs(34),f=e.MAs(52);e.Q6J("clrModalOpen",n.createEditDestinationOpened)("clrModalStaticBackdrop",n.staticBackdrop)("clrModalClosable",n.closable),e.xp6(2),e.Oqu(n.modalTitle),e.xp6(3),e.Q6J("ngIf",!n.editable),e.xp6(5),e.Oqu(e.lcZ(11,44,"DESTINATION.PROVIDER")),e.xp6(2),e.Q6J("ngModel",n.target.type)("disabled",n.testOngoing||n.editDisabled),e.xp6(1),e.Q6J("ngForOf",n.adapterList),e.xp6(3),e.Oqu(e.lcZ(17,46,"DESTINATION.NAME")),e.xp6(2),e.Q6J("disabled",n.testOngoing)("readonly",!n.editable)("ngModel",n.target.name),e.xp6(2),e.Q6J("ngIf",o.errors&&o.errors.required&&(o.dirty||o.touched)),e.xp6(3),e.Oqu(e.lcZ(24,48,"REPLICATION.DESCRIPTION")),e.xp6(2),e.Q6J("ngModel",n.target.description),e.xp6(3),e.Oqu(e.lcZ(29,50,"DESTINATION.URL")),e.xp6(2),e.ekj("clr-error",(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(2),e.Q6J("ngIf",!(!n.showEndpointList&&null!=r&&r.errors&&r.errors.required&&(r.dirty||r.touched))&&(null==n.endpointList?null:n.endpointList.length)),e.xp6(1),e.Q6J("disabled",n.testOngoing||n.urlDisabled)("readonly",!n.editable)("ngModel",n.target.url),e.xp6(2),e.Q6J("ngIf",(null==n.endpointList?null:n.endpointList.length)&&n.showEndpointList),e.xp6(1),e.Q6J("ngIf",!n.showEndpointList&&(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(1),e.Q6J("ngIf",!n.showEndpointList&&(null==r?null:r.errors)&&r.errors.required&&(r.dirty||r.touched)),e.xp6(3),e.Oqu(e.lcZ(41,52,"DESTINATION.ACCESS_ID")),e.xp6(2),e.Q6J("disabled",n.testOngoing)("readonly","google-gcr"===n.target.type||!n.editable)("ngModel",n.target.credential.access_key),e.xp6(4),e.Oqu(e.lcZ(47,54,"DESTINATION.ACCESS_SECRET")),e.xp6(4),e.Q6J("ngIf",n.isNormalCredential())("ngIfElse",f),e.xp6(6),e.Oqu(e.lcZ(57,56,"CONFIG.VERIFY_REMOTE_CERT")),e.xp6(6),e.Q6J("disabled",n.testOngoing||!n.editable)("ngModel",!n.target.insecure),e.xp6(3),e.Q6J("clrLoading",n.testButtonState)("disabled",n.inProgress||(null==r?null:r.errors)),e.xp6(1),e.hij(" ",e.lcZ(67,58,"DESTINATION.TEST_CONNECTION")," "),e.xp6(2),e.Q6J("disabled",n.inProgress),e.xp6(1),e.hij(" ",e.lcZ(70,60,"BUTTON.CANCEL")," "),e.xp6(2),e.Q6J("clrLoading",n.okButtonState)("disabled",!n.isValid),e.xp6(1),e.hij(" ",e.lcZ(73,62,"BUTTON.OK")," ")}},dependencies:[E._Y,E.YN,E.Kr,E.Fj,E.Wl,E.EJ,E.JJ,E.JL,E.Q7,E.On,E.F,i.I9z,i.qvL,i.qAN,i.VLi,i.cCV,i.nqY,i.MPb,i.MgK,i.VqA,i.KKC,i.Y_4,i.PEh,i.xRP,i.G55,i.otW,i.dTv,i.XE5,i.LAP,i.Jmj,i.bMv,i.zDF,v.mk,v.sg,v.O5,O.l,h.X$],styles:[".form-group-label-override[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.form-height[_ngcontent-%COMP%]{height:30px}.inputWidth[_ngcontent-%COMP%]{width:216px}.display-none[_ngcontent-%COMP%]{display:none}.selectBox[_ngcontent-%COMP%]{position:absolute;width:173px;height:auto;border:1px solid #ccc;background-color:#fff;border-right-width:2px;border-bottom-width:2px;border-radius:6px;box-shadow:0 5px 10px #0003;z-index:100}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{overflow-y:auto;max-height:260px}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:0 18px;height:20px;line-height:18px;cursor:pointer}.selectBox[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:#262626;background-image:linear-gradient(180deg,#f5f5f5 0,#e8e8e8);background-repeat:repeat-x}.position-relative[_ngcontent-%COMP%]{position:relative}.overflow-visible[_ngcontent-%COMP%]{overflow:visible}.down[_ngcontent-%COMP%]{position:absolute;top:.2917rem;right:0;margin:0;width:12px;height:12px;color:#a4a4a4;cursor:pointer}.endpoint-input[_ngcontent-%COMP%]{padding-right:21px}.destination-insecure-label[_ngcontent-%COMP%]{display:flex;align-items:center}.hidden[_ngcontent-%COMP%]{display:none}"]}),l})();var I=p(3819),H=p(5832),z=p(8726),W=p(822),V=p(312),K=p(8348),X=p(4241),$=p(3046);const ee=["confirmationDialog"];function te(l,u){1&l&&(e.TgZ(0,"span",32),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.HEALTHY")))}function ne(l,u){1&l&&(e.TgZ(0,"span",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SCANNER.UNHEALTHY")))}function ie(l,u){1&l&&(e.TgZ(0,"clr-signpost-content")(1,"a",36),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DESTINATION.DEPRECATED")))}function re(l,u){1&l&&(e.TgZ(0,"clr-signpost"),e._UZ(1,"clr-icon",34),e.YNc(2,ie,4,3,"clr-signpost-content",35),e.qZA())}function oe(l,u){if(1&l&&(e.TgZ(0,"clr-dg-row",28)(1,"clr-dg-cell",17),e._uU(2),e.qZA(),e.TgZ(3,"clr-dg-cell",17),e.YNc(4,te,3,3,"span",29),e.YNc(5,ne,3,3,"ng-template",null,30,e.W1O),e.qZA(),e.TgZ(7,"clr-dg-cell",17),e._uU(8),e.qZA(),e.TgZ(9,"clr-dg-cell")(10,"span",31),e._uU(11),e.qZA(),e.YNc(12,re,3,0,"clr-signpost",24),e.qZA(),e.TgZ(13,"clr-dg-cell"),e._uU(14),e.qZA(),e.TgZ(15,"clr-dg-cell"),e._uU(16),e.qZA(),e.TgZ(17,"clr-dg-cell"),e._uU(18),e.ALo(19,"harborDatetime"),e.qZA()()),2&l){const t=u.$implicit,n=e.MAs(6),o=e.oxw();e.Q6J("clrDgItem",t),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("ngIf","healthy"===t.status)("ngIfElse",n),e.xp6(4),e.Oqu(t.url),e.xp6(3),e.Oqu(o.getAdapterText(t.type)),e.xp6(1),e.Q6J("ngIf",o.isHelmHub(t.type)),e.xp6(2),e.hij(" ",!t.insecure," "),e.xp6(2),e.Oqu(t.credential.type),e.xp6(2),e.Oqu(e.xi3(19,10,t.creation_time,"short"))}}function se(l,u){if(1&l&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){e.oxw();const t=e.MAs(54);e.xp6(1),e.lnq("",t.firstItem+1," - ",t.lastItem+1," ",e.lcZ(2,3,"DESTINATION.OF"),"")}}const le=function(){return[15,25,50]},ae=[{path:"",component:(()=>{class l{constructor(t,n,o,r,f){this.endpointService=t,this.errorHandlerEntity=n,this.translateService=o,this.operationService=r,this.oldEndpointService=f,this.loading=!0,this.creationTimeComparator=new s.sH("creation_time","date"),this.selectedRow=[],this.pageSize=(0,s.tb)(s.V2.SYSTEM_ENDPOINT_COMPONENT),this.page=1,this.total=0}get initEndpoint(){return{credential:{access_key:"",access_secret:"",type:""},description:"",insecure:!1,name:"",type:"",url:""}}ngOnInit(){this.targetName=""}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}retrieve(t){this.selectedRow=[];let o,n="";t&&t.filters&&t.filters.length?(this.targetName="",n=encodeURIComponent(`${t.filters[0].property}=~${t.filters[0].value}`)):this.targetName&&(n=`name=~${this.targetName}`),t&&t.page&&(this.pageSize=t.page.size,(0,s.Pe)(s.V2.SYSTEM_ENDPOINT_COMPONENT,this.pageSize)),o=t&&t.sort&&t.sort.by?(0,s.td)(t):"-creation_time",this.loading=!0,this.endpointService.listRegistriesResponse({q:n,pageSize:this.pageSize,page:this.page,sort:o}).pipe((0,T.x)(()=>{this.loading=!1})).subscribe(r=>{if(r.headers){let f=r.headers.get("X-Total-Count");f&&(this.total=parseInt(f,0))}this.targets=r.body||[]},r=>{this.errorHandlerEntity.error(r)})}doSearchTargets(t){this.targetName=t,this.page=1,this.total=0,this.selectedRow=[],this.retrieve()}refreshTargets(){this.targetName="",this.page=1,this.total=0,this.selectedRow=[],this.retrieve()}openModal(){this.createEditEndpointComponent.openCreateEditTarget(!0),this.target=this.initEndpoint}editTargets(t){if(t&&1===t.length){let n=t[0];if(!n.id)return;this.createEditEndpointComponent.openCreateEditTarget(!0,n.id)}}deleteTargets(t){if(t&&t.length){let n=[];t.forEach(r=>{n.push(r.name)});let o=new z.c("REPLICATION.DELETION_TITLE_TARGET","REPLICATION.DELETION_SUMMARY_TARGET",n.join(", ")||"",t,7,2);this.confirmationDialogComponent.open(o)}}confirmDeletion(t){if(t&&7===t.source&&1===t.state){let n=t.data;if(n&&n.length){let o=[];n.forEach(r=>{o.push(this.delOperate(r))}),(0,m.D)(...o).pipe((0,T.x)(()=>{this.refreshTargets()})).subscribe(r=>{},r=>{this.errorHandlerEntity.error(r)})}}}delOperate(t){let n=new I.gB;return n.name="OPERATION.DELETE_REGISTRY",n.data.id=t.id,n.state=I.yb.progressing,n.data.name=t.name,this.operationService.publishInfo(n),this.endpointService.deleteRegistry({id:t.id}).pipe((0,b.U)(o=>{this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(r=>{(0,I.hm)(n,I.yb.success)})}),(0,A.K)(o=>{const r=(0,H.Po)(o);return this.translateService.get(r).subscribe(f=>(0,I.hm)(n,I.yb.failure,f)),(0,_._)(o)}))}getAdapterText(t){return this.oldEndpointService.getAdapterText(t)}isHelmHub(t){return t===a.Cw}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(W.k),e.Y36(g.q),e.Y36(h.sK),e.Y36(V.f9),e.Y36(a.BO))},l.\u0275cmp=e.Xpm({type:l,selectors:[["hbr-endpoint"]],viewQuery:function(t,n){if(1&t&&(e.Gf(R,5),e.Gf(ee,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.createEditEndpointComponent=o.first),e.iGM(o=e.CRH())&&(n.confirmationDialogComponent=o.first)}},decls:64,vars:63,consts:[[1,"custom-h2"],[1,"content-top"],[1,"row","endpoint-view"],[1,"row","flex-items-xs-between","rightPos"],[1,"flex-items-xs-middle","option-right"],[3,"withDivider","filterPlaceholder","currentValue","filterEvt"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["id","add","type","button",1,"btn","btn-secondary",3,"click"],["shape","plus","size","16"],["id","edit","type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","pencil","size","16"],["id","delete","type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","times","size","16"],[1,"flex-min-width",3,"clrDgSortBy"],[1,"flex-min-width"],[1,"flex-min-width",3,"clrDgField"],[3,"clrDgSortBy"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPageSize","clrDgPage","clrDgTotalItems","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],[3,"reload"],[3,"clrDgItem"],["class","label label-success",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"margin-right-2px"],[1,"label","label-success"],[1,"label","label-danger"],["clrSignpostTrigger","","shape","error-standard",1,"color-red"],[4,"clrIfOpen"],["href","https://helm.sh/blog/helm-hub-moving-to-artifact-hub","target","_blank","rel","noopener noreferrer"]],template:function(t,n){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"div")(6,"div",3)(7,"div",4)(8,"hbr-filter",5),e.NdJ("filterEvt",function(r){return n.doSearchTargets(r)}),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"span",6),e.NdJ("click",function(){return n.refreshTargets()}),e._UZ(11,"clr-icon",7),e.qZA()()()(),e.TgZ(12,"div",8)(13,"clr-datagrid",9),e.NdJ("clrDgRefresh",function(r){return n.retrieve(r)})("clrDgSelectedChange",function(r){return n.selectedRow=r}),e.TgZ(14,"clr-dg-action-bar")(15,"button",10),e.NdJ("click",function(){return n.openModal()}),e._UZ(16,"clr-icon",11),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){return n.editTargets(n.selectedRow)}),e._UZ(20,"clr-icon",13),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",14),e.NdJ("click",function(){return n.deleteTargets(n.selectedRow)}),e._UZ(24,"clr-icon",15),e._uU(25),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"clr-dg-column",16),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"clr-dg-column",17),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"clr-dg-column",18),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"clr-dg-column"),e._uU(37),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"clr-dg-column",19),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"clr-dg-column"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"clr-dg-column",19),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"clr-dg-placeholder"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.YNc(51,oe,20,13,"clr-dg-row",20),e.TgZ(52,"clr-dg-footer")(53,"clr-dg-pagination",21,22),e.NdJ("clrDgPageChange",function(r){return n.page=r}),e.TgZ(55,"clr-dg-page-size",23),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.YNc(58,se,3,5,"span",24),e._uU(59),e.ALo(60,"translate"),e.qZA()()()()(),e.TgZ(61,"confirmation-dialog",25,26),e.NdJ("confirmAction",function(r){return n.confirmDeletion(r)}),e.qZA(),e.TgZ(63,"hbr-create-edit-endpoint",27),e.NdJ("reload",function(){return n.refreshTargets()}),e.qZA()()),2&t&&(e.xp6(1),e.Oqu(e.lcZ(2,32,"SIDE_NAV.SYSTEM_MGMT.REGISTRY")),e.xp6(7),e.s9C("filterPlaceholder",e.lcZ(9,34,"REPLICATION.FILTER_TARGETS_PLACEHOLDER")),e.Q6J("withDivider",!0)("currentValue",n.targetName),e.xp6(5),e.Q6J("clrDgLoading",n.loading)("clrDgSelected",n.selectedRow),e.xp6(4),e.hij("\xa0",e.lcZ(18,36,"DESTINATION.NEW_ENDPOINT")," "),e.xp6(2),e.Q6J("disabled",1!==n.selectedRow.length),e.xp6(2),e.hij("\xa0",e.lcZ(22,38,"DESTINATION.EDIT")," "),e.xp6(2),e.Q6J("disabled",!n.selectedRow.length),e.xp6(2),e.hij("\xa0",e.lcZ(26,40,"DESTINATION.DELETE")," "),e.xp6(2),e.Q6J("clrDgSortBy","name"),e.xp6(1),e.Oqu(e.lcZ(29,42,"DESTINATION.NAME")),e.xp6(3),e.Oqu(e.lcZ(32,44,"DESTINATION.STATUS")),e.xp6(2),e.Q6J("clrDgField","url"),e.xp6(1),e.Oqu(e.lcZ(35,46,"DESTINATION.URL")),e.xp6(3),e.Oqu(e.lcZ(38,48,"DESTINATION.PROVIDER")),e.xp6(2),e.Q6J("clrDgSortBy","insecure"),e.xp6(1),e.Oqu(e.lcZ(41,50,"CONFIG.VERIFY_REMOTE_CERT")),e.xp6(3),e.Oqu(e.lcZ(44,52,"DESTINATION.AUTHENTICATION")),e.xp6(2),e.Q6J("clrDgSortBy","creation_time"),e.xp6(1),e.Oqu(e.lcZ(47,54,"DESTINATION.CREATION_TIME")),e.xp6(3),e.Oqu(e.lcZ(50,56,"DESTINATION.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",n.targets),e.xp6(2),e.Q6J("clrDgPageSize",n.pageSize)("clrDgPage",n.page)("clrDgTotalItems",n.total),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(62,le)),e.xp6(1),e.Oqu(e.lcZ(57,58,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",n.total),e.xp6(1),e.AsE(" ",n.total," ",e.lcZ(60,60,"DESTINATION.ITEMS")," "))},dependencies:[i.C9t,i.Gwl,i.m4W,i.Z4N,i.fv_,i.dRQ,i.Ltv,i.YYR,i.F7K,i.PDs,i.KHL,i.Gcc,i.jND,i.Nh1,i.dml,i.K8c,i.qvL,i.nqY,i.EuU,i.hQ,i.QH5,v.sg,v.O5,K.z,X.z,R,h.X$,$.Z],styles:[".option-left[_ngcontent-%COMP%]{padding-left:16px;margin-top:-6px}.option-right[_ngcontent-%COMP%]{padding-right:16px}.refresh-btn[_ngcontent-%COMP%]{cursor:pointer}.refresh-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:14px;height:24px}.endpoint-view[_ngcontent-%COMP%]{position:relative}.flex-min-width[_ngcontent-%COMP%]{min-width:180px}.margin-right-2px[_ngcontent-%COMP%]{margin-right:2px}.content-top[_ngcontent-%COMP%]{margin-top:4px}"]}),l})()}];let de=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[y.m,d.Bz.forChild(ae)]}),l})()},8348:(Z,C,p)=>{p.d(C,{z:()=>O});var d=p(4650),y=p(7579),m=p(8372),_=p(4006),T=p(6895),b=p(9375);const A=["inputElement"];function e(s,a){1&s&&d._UZ(0,"span",4)}let O=(()=>{class s{constructor(i){this.cd=i,this.placeHolder="",this.filterTerms=new y.x,this.isExpanded=!1,this.filterEvt=new d.vpe,this.openFlag=new d.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}set filterPlaceholder(i){this.placeHolder=i}ngOnInit(){this.filterTerms.pipe((0,m.b)(500)).subscribe(i=>{this.filterEvt.emit(i)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return s.\u0275fac=function(i){return new(i||s)(d.Y36(d.sBO))},s.\u0275cmp=d.Xpm({type:s,selectors:[["hbr-filter"]],viewQuery:function(i,g){if(1&i&&d.Gf(A,5),2&i){let h;d.iGM(h=d.CRH())&&(g.inputElement=h.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(i,g){1&i&&(d.TgZ(0,"span")(1,"clr-icon",0),d.NdJ("click",function(){return g.onClick()}),d.qZA(),d.TgZ(2,"input",1,2),d.NdJ("keyup",function(){return g.valueChange()})("focus",function(){return g.inputFocus()})("ngModelChange",function(c){return g.currentValue=c}),d.qZA(),d.YNc(4,e,1,0,"span",3),d.qZA()),2&i&&(d.xp6(1),d.ekj("filter-icon",g.isShowSearchBox),d.xp6(1),d.Udp("width",g.width,"px"),d.s9C("placeholder",g.placeHolder),d.Q6J("hidden",!g.isShowSearchBox)("ngModel",g.currentValue),d.uIk("readOnly",g.readonly),d.xp6(2),d.Q6J("ngIf",g.withDivider))},dependencies:[_.Fj,_.JJ,_.On,T.O5,b.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),s})()}}]);