"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[8564],{8564:(L,T,o)=>{o.r(T),o.d(T,{HelmChartListModule:()=>W});var e=o(4650),f=o(858),E=o(1992),u=o(4128),A=o(2843),v=o(8746),M=o(4004),x=o(262),g=o(268),h=o(3526),m=o(3819),d=o(6742),p=o(5832),_=o(8726),O=o(2443),Z=o(2466),b=o(6508),D=o(312),C=o(4006),a=o(9375),H=o(6895),U=o(8348),w=o(4241),R=o(3046);const I=["chartUploadForm"],N=["confirmationDialog"];function y(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"clr-dg-row",47)(1,"clr-dg-cell")(2,"span",48)(3,"img",49),e.NdJ("error",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.getDefaultIcon(l))}),e.qZA()(),e.TgZ(4,"a",50),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onChartClick(l))}),e._uU(5),e.qZA()(),e.TgZ(6,"clr-dg-cell",51),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"clr-dg-cell",51),e._uU(10),e.qZA(),e.TgZ(11,"clr-dg-cell",51),e._uU(12),e.ALo(13,"harborDatetime"),e.qZA()()}if(2&i){const t=c.$implicit,n=e.oxw(2);e.Q6J("clrDgItem",t),e.xp6(3),e.Q6J("src",t.icon?t.icon:n.chartDefaultIcon,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(e.lcZ(8,6,n.getStatusString(t))),e.xp6(3),e.Oqu(t.total_versions),e.xp6(2),e.Oqu(e.lcZ(13,8,t.created))}}function F(i,c){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){e.oxw();const t=e.MAs(33);e.xp6(1),e.lnq(" ",t.firstItem+1," - ",t.lastItem+1," ",e.lcZ(2,3,"HELM_CHART.OF")," ")}}const S=function(){return[15,25,50]};function J(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"clr-datagrid",36),e.NdJ("clrDgRefresh",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.clrLoad(r))})("clrDgSelectedChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.selectedRows=r)}),e.TgZ(2,"clr-dg-action-bar")(3,"button",37),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onChartUpload())}),e._UZ(4,"clr-icon",38),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.openChartDeleteModal())}),e._UZ(8,"clr-icon",40),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.downloadLatestVersion())}),e._UZ(12,"clr-icon",41),e._uU(13),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"clr-dg-column"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"clr-dg-column"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"clr-dg-column"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"clr-dg-column"),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"clr-dg-placeholder"),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.YNc(30,y,14,10,"clr-dg-row",42),e.TgZ(31,"clr-dg-footer")(32,"clr-dg-pagination",43,44)(34,"clr-dg-page-size",45),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,F,3,5,"span",46),e._uU(38),e.ALo(39,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("clrDgLoading",t.loading)("clrDgSelected",t.selectedRows),e.xp6(2),e.Q6J("disabled",!t.hasUploadHelmChartsPermission),e.xp6(2),e.hij("",e.lcZ(6,21,"HELM_CHART.UPLOAD")," "),e.xp6(2),e.Q6J("disabled",!t.hasDeleteHelmChartsPermission||t.selectedRows.length<1),e.xp6(2),e.hij("",e.lcZ(10,23,"BUTTON.DELETE")," "),e.xp6(2),e.Q6J("disabled",!t.hasDownloadHelmChartsPermission||1!==t.selectedRows.length),e.xp6(2),e.hij("",e.lcZ(14,25,"HELM_CHART.DOWNLOAD")," "),e.xp6(3),e.Oqu(e.lcZ(17,27,"HELM_CHART.NAME")),e.xp6(3),e.Oqu(e.lcZ(20,29,"HELM_CHART.STATUS")),e.xp6(3),e.Oqu(e.lcZ(23,31,"HELM_CHART.CHARTVERSIONS")),e.xp6(3),e.Oqu(e.lcZ(26,33,"HELM_CHART.CREATED")),e.xp6(3),e.Oqu(e.lcZ(29,35,"HELM_CHART.PLACEHOLDER")),e.xp6(2),e.Q6J("clrDgItemsOf",t.charts),e.xp6(2),e.Q6J("clrDgPageSize",t.pageSize)("clrDgTotalItems",t.totalCount),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(41,S)),e.xp6(1),e.Oqu(e.lcZ(36,37,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",t.totalCount),e.xp6(1),e.AsE(" ",t.totalCount," ",e.lcZ(39,39,"HELM_CHART.ITEMS")," ")}}function j(i,c){1&i&&(e.TgZ(0,"label",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"HELM_CHART.CHARTVERSIONS")," "))}function k(i,c){1&i&&(e.TgZ(0,"label",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"HELM_CHART.VERSION")," "))}function q(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",55)(1,"a",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onChartClick(l))}),e.TgZ(2,"div",57)(3,"div",58)(4,"img",59),e.NdJ("error",function(){const l=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.getDefaultIcon(l))}),e.qZA()(),e.TgZ(5,"div",60),e._uU(6),e.qZA()(),e.TgZ(7,"div",61)(8,"div",62)(9,"div")(10,"span",63),e._uU(11),e.qZA(),e.YNc(12,j,3,3,"label",64),e.YNc(13,k,3,3,"label",64),e.qZA(),e.TgZ(14,"div")(15,"span",65),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()()()}if(2&i){const t=c.$implicit,n=e.oxw(2);e.xp6(4),e.Q6J("src",t.icon?t.icon:n.chartDefaultIcon,e.LSH),e.xp6(2),e.Oqu(t.name),e.xp6(5),e.Oqu(t.total_versions),e.xp6(1),e.Q6J("ngIf",1!==t.total_versions),e.xp6(1),e.Q6J("ngIf",1===t.total_versions),e.xp6(2),e.ekj("label-danger",t.deprecated)("label-success",!t.deprecated),e.xp6(1),e.Oqu(e.lcZ(17,10,n.getStatusString(t)))}}function Q(i,c){1&i&&(e.TgZ(0,"div",67),e._UZ(1,"span",68)(2,"span",69),e.qZA())}function V(i,c){if(1&i&&(e.TgZ(0,"div",52),e.YNc(1,q,18,12,"div",53),e.YNc(2,Q,3,0,"div",54),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.charts),e.xp6(1),e.Q6J("ngIf",t.loading)}}function Y(i,c){1&i&&(e.TgZ(0,"span",70),e._uU(1," Loading... "),e.qZA())}const P=function(i){return{"is-highlight":i}};let z=(()=>{class i{constructor(t,n,r,l,s,$){this.errorHandlerEntity=t,this.translateService=n,this.systemInfoService=r,this.helmChartService=l,this.userPermissionService=s,this.operationService=$,this.signedCon={},this.projectName="unknown",this.projectRoleID=d.G7.OTHER,this.chartClickEvt=new e.vpe,this.chartDownloadEve=new e.vpe,this.chartDefaultIcon=d.PO,this.charts=[],this.chartsCopy=[],this.selectedRows=[],this.loading=!0,this.isUploading=!1,this.isUploadModalOpen=!1,this.cardHover=!1,this.listHover=!1,this.pageSize=(0,h.tb)(h.V2.HELM_CHART_COMPONENT),this.currentPage=1,this.totalCount=0}get registryUrl(){return this.systemInfo?this.systemInfo.registry_url:""}ngOnInit(){this.systemInfoService.getSystemInfo().subscribe(t=>this.systemInfo=t,t=>this.errorHandlerEntity.error(t)),this.lastFilteredChartName="",this.refresh(),this.getHelmPermissionRule(this.projectId)}getHelmPermissionRule(t){let n=this.userPermissionService.getPermission(t,g._W.HELM_CHART.KEY,g._W.HELM_CHART.VALUE.UPLOAD),r=this.userPermissionService.getPermission(t,g._W.HELM_CHART.KEY,g._W.HELM_CHART.VALUE.DOWNLOAD),l=this.userPermissionService.getPermission(t,g._W.HELM_CHART.KEY,g._W.HELM_CHART.VALUE.DELETE);(0,u.D)(n,r,l).subscribe(s=>{this.hasUploadHelmChartsPermission=s[0],this.hasDownloadHelmChartsPermission=s[1],this.hasDeleteHelmChartsPermission=s[2]},s=>this.errorHandlerEntity.error(s))}updateFilterValue(t){this.lastFilteredChartName=t,this.refresh()}refresh(){this.loading=!0,this.selectedRows=[],this.helmChartService.getHelmCharts(this.projectName).pipe((0,v.x)(()=>{this.loading=!1})).subscribe(t=>{this.charts=t.filter(n=>n.name.includes(this.lastFilteredChartName)),this.chartsCopy=t.map(n=>Object.assign({},n)),this.totalCount=t.length},t=>{this.errorHandlerEntity.error(t)})}onChartClick(t){this.chartClickEvt.emit(t.name)}resetUploadForm(){this.chartFile=null,this.provFile=null,this.uploadForm.reset()}onChartUpload(){this.resetUploadForm(),this.isUploadModalOpen=!0}cancelUpload(){this.resetUploadForm(),this.isUploadModalOpen=!1}upload(){!this.chartFile&&!this.provFile||this.isUploading||(this.isUploading=!0,this.helmChartService.uploadChart(this.projectName,this.chartFile,this.provFile).pipe((0,v.x)(()=>{this.isUploading=!1,this.isUploadModalOpen=!1,this.refresh()})).subscribe(()=>{this.translateService.get("HELM_CHART.FILE_UPLOADED").subscribe(t=>this.errorHandlerEntity.info(t))},t=>this.errorHandlerEntity.error(t)))}onChartFileChangeEvent(t){t.target.files&&t.target.files.length>0&&(this.chartFile=t.target.files[0])}onProvFileChangeEvent(t){t.target.files&&t.target.files.length>0&&(this.provFile=t.target.files[0])}deleteChart(t){let n=new m.gB;return n.name="OPERATION.DELETE_CHART",n.data.id=t,n.state=m.yb.progressing,n.data.name=t,this.operationService.publishInfo(n),this.helmChartService.deleteHelmChart(this.projectName,t).pipe((0,M.U)(()=>(0,m.hm)(n,m.yb.success)),(0,x.K)(r=>{const l=(0,p.Po)(r);return this.translateService.get(l).subscribe(s=>(0,m.hm)(n,m.yb.failure,s)),(0,A._)(r)}))}deleteCharts(t){if(t&&t.length<1)return;let n=t.map(r=>this.deleteChart(r.name));(0,u.D)(n).pipe((0,v.x)(()=>{this.refresh(),this.selectedRows=[]})).subscribe(()=>{},r=>{this.errorHandlerEntity.error(r)})}downloadLatestVersion(t,n){let r;if(t&&t.stopPropagation(),n)r=n;else{if(this.selectedRows.length<1)return;r=this.selectedRows[0]}r&&this.helmChartService.downloadChart(this.projectName,`charts/${r.name}-${r.latest_version}.tgz`).subscribe(s=>{(0,h.Sv)(s)},s=>{this.errorHandlerEntity.error(s)})}openChartDeleteModal(){let t=this.selectedRows.map(r=>r.name).join(","),n=new _.c("HELM_CHART.DELETE_CHART_VERSION_TITLE","HELM_CHART.DELETE_CHART_VERSION",t,this.selectedRows,13,2);this.confirmationDialog.open(n)}confirmDeletion(t){t&&13===t.source&&1===t.state&&this.deleteCharts(t.data)}showCard(t){this.isCardView!==t&&(this.isCardView=t)}mouseEnter(t){"card"===t?this.cardHover=!0:this.listHover=!0}mouseLeave(t){"card"===t?this.cardHover=!1:this.listHover=!1}isHovering(t){return"card"===t?this.cardHover:this.listHover}getDefaultIcon(t){t.icon=this.chartDefaultIcon}getStatusString(t){return t.deprecated?"HELM_CHART.DEPRECATED":"HELM_CHART.ACTIVE"}clrLoad(t){t?.page?.size&&(0,h.Pe)(h.V2.HELM_CHART_COMPONENT,t.page.size)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(O.q),e.Y36(Z.sK),e.Y36(g.Ob),e.Y36(b.Ph),e.Y36(g.Hx),e.Y36(D.f9))},i.\u0275cmp=e.Xpm({type:i,selectors:[["hbr-helm-chart"]],viewQuery:function(t,n){if(1&t&&(e.Gf(I,5),e.Gf(N,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.uploadForm=r.first),e.iGM(r=e.CRH())&&(n.confirmationDialog=r.first)}},inputs:{projectId:"projectId",projectName:"projectName",urlPrefix:"urlPrefix",hasSignedIn:"hasSignedIn",projectRoleID:"projectRoleID",chartDefaultIcon:"chartDefaultIcon"},outputs:{chartClickEvt:"chartClickEvt",chartDownloadEve:"chartDownloadEve"},decls:59,vars:48,consts:[[1,"row","chart-tool"],[1,"toolbar"],[1,"row","flex-items-xs-right","option-right","rightPos"],[1,"flex-xs-middle"],[3,"withDivider","filterPlaceholder","currentValue","filterEvt"],[1,"card-btn",3,"click","mouseenter","mouseleave"],["shape","view-cards",3,"ngClass"],[1,"list-btn",3,"click","mouseenter","mouseleave"],["shape","view-list",3,"ngClass"],[1,"filter-divider"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"row"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],["class","row card-container version-position",4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],[3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"modal-body"],["clrForm","","enctype","multipart/form-data"],["chartUploadForm","ngForm"],[1,"clr-form-control"],[1,"filename-label","clr-control-label","clr-col-md-3"],[1,"clr-input-wrapper"],["type","text","disabled","",1,"filename-input","clr-input",3,"placeholder"],["for","chart",1,"btn","btn-secondary","file-browser-btn"],["type","file","id","chart","name","chart","ngModel","",1,"file-input",3,"change"],[1,"clr-form-control","mb-10"],["for","prov",1,"btn","btn-secondary","file-browser-btn"],["type","file","id","prov","name","prov","ngModel","",1,"file-input",3,"change"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"disabled","click"],["type","submit","id","upload-chart",1,"btn","btn-primary",3,"disabled","click"],["class","spinner spinner-inline",4,"ngIf"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["type","button","id","helm-chart-upload",1,"btn","btn-secondary",3,"disabled","click"],["shape","upload","size","16"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","trash","size","16"],["shape","download","size","16"],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"clrDgItem"],[1,"list-img"],[1,"size-24","margin-right-12",3,"src","error"],["href","javascript:void(0)",3,"click"],[1,"table-center"],[1,"row","card-container","version-position"],["class","chart-card",4,"ngFor","ngForOf"],["class","center-x",4,"ngIf"],[1,"chart-card"],["let","","i","index;",1,"card","clickable",3,"click"],[1,"card-header"],[1,"card-icon"],[1,"size-60",3,"src","error"],[1,"card-title"],[1,"card-footer"],[1,"row","flex-items-xs-between"],[1,"version-text"],["class","card-label",4,"ngIf"],[1,"label"],[1,"card-label"],[1,"center-x"],[1,"vertical-helper"],[1,"spinner"],[1,"spinner","spinner-inline"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"hbr-filter",4),e.NdJ("filterEvt",function(l){return n.updateFilterValue(l)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",5),e.NdJ("click",function(){return n.showCard(!0)})("mouseenter",function(){return n.mouseEnter("card")})("mouseleave",function(){return n.mouseLeave("card")}),e._UZ(8,"clr-icon",6),e.qZA(),e.TgZ(9,"span",7),e.NdJ("click",function(){return n.showCard(!1)})("mouseenter",function(){return n.mouseEnter("list")})("mouseleave",function(){return n.mouseLeave("list")}),e._UZ(10,"clr-icon",8),e.qZA(),e._UZ(11,"span",9),e.TgZ(12,"span",10),e.NdJ("click",function(){return n.refresh()}),e._UZ(13,"clr-icon",11),e.qZA()()()()(),e.TgZ(14,"div",12),e.YNc(15,J,40,42,"div",13),e.qZA(),e.YNc(16,V,3,2,"div",14),e.TgZ(17,"confirmation-dialog",15,16),e.NdJ("confirmAction",function(l){return n.confirmDeletion(l)}),e.qZA(),e.TgZ(19,"clr-modal",17),e.NdJ("clrModalOpenChange",function(l){return n.isUploadModalOpen=l}),e.TgZ(20,"h3",18),e._uU(21),e.ALo(22,"titlecase"),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",19)(25,"form",20,21)(27,"div",22)(28,"label",23),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"div",24),e._UZ(32,"input",25),e.ALo(33,"translate"),e.TgZ(34,"label",26),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"input",27),e.NdJ("change",function(l){return n.onChartFileChangeEvent(l)}),e.qZA()()(),e.TgZ(38,"div",28)(39,"label",23),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",24),e._UZ(43,"input",25),e.ALo(44,"translate"),e.TgZ(45,"label",29),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"input",30),e.NdJ("change",function(l){return n.onProvFileChangeEvent(l)}),e.qZA()()()()(),e.TgZ(49,"div",31)(50,"button",32),e.NdJ("click",function(){return n.cancelUpload()}),e.TgZ(51,"span"),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"button",33),e.NdJ("click",function(){return n.upload()}),e.TgZ(55,"span"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.YNc(58,Y,2,0,"span",34),e.qZA()()()()),2&t&&(e.xp6(5),e.s9C("filterPlaceholder",e.lcZ(6,22,"HELM_CHART.FILTER_FOR_CHARTS")),e.Q6J("withDivider",!0)("currentValue",n.lastFilteredChartName),e.xp6(3),e.Q6J("ngClass",e.VKq(44,P,n.isCardView||n.isHovering("card"))),e.xp6(2),e.Q6J("ngClass",e.VKq(46,P,!n.isCardView||n.isHovering("list"))),e.xp6(5),e.Q6J("ngIf",!n.isCardView),e.xp6(1),e.Q6J("ngIf",n.isCardView),e.xp6(3),e.Q6J("clrModalOpen",n.isUploadModalOpen)("clrModalStaticBackdrop",!0)("clrModalClosable",!1),e.xp6(2),e.hij(" ",e.lcZ(22,24,e.lcZ(23,26,"HELM_CHART.UPLOAD_TITLE"))," "),e.xp6(8),e.hij(" ",e.lcZ(30,28,"HELM_CHART.CHART_FILE"),""),e.xp6(3),e.s9C("placeholder",e.lcZ(33,30,(null==n.chartFile?null:n.chartFile.name)||"BUTTON.NO_FILE")),e.xp6(3),e.hij("",e.lcZ(36,32,"BUTTON.BROWSE")," "),e.xp6(5),e.hij(" ",e.lcZ(41,34,"HELM_CHART.CHART_PROV")," "),e.xp6(3),e.s9C("placeholder",e.lcZ(44,36,(null==n.provFile?null:n.provFile.name)||"BUTTON.NO_FILE")),e.xp6(3),e.hij("",e.lcZ(47,38,"BUTTON.BROWSE")," "),e.xp6(4),e.Q6J("disabled",n.isUploading),e.xp6(2),e.Oqu(e.lcZ(53,40,"BUTTON.CANCEL")),e.xp6(2),e.Q6J("disabled",n.isUploading),e.xp6(2),e.Oqu(e.lcZ(57,42,"HELM_CHART.UPLOAD")),e.xp6(2),e.Q6J("ngIf",n.isUploading))},dependencies:[C._Y,C.Fj,C.JJ,C.JL,C.On,C.F,a.C9t,a.Gwl,a.m4W,a.f6,a.Z4N,a.fv_,a.dRQ,a.Ltv,a.YYR,a.F7K,a.PDs,a.KHL,a.Gcc,a.jND,a.Nh1,a.dml,a.K8c,a.qvL,a.qAN,a.VLi,a.MgK,a.YAP,H.mk,H.sg,H.O5,U.z,w.z,Z.X$,H.rS,R.Z],styles:[".chart-tool[_ngcontent-%COMP%]{position:relative;margin-top:5px}.chart-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{overflow:hidden}.chart-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:20px}.chart-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .rightPos[_ngcontent-%COMP%]   .filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.card-container[_ngcontent-%COMP%]{margin-top:40px}.card-container[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%]{width:200px;margin:10px}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;white-space:nowrap;text-align:center;margin:15px}.card-container[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background-color:#d7d7d7}.card-container[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .version-text[_ngcontent-%COMP%]{font-size:1.1rem}.card-container[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{width:60px;display:inline-block}.vertical-helper[_ngcontent-%COMP%]{display:inline-block;height:100%;vertical-align:middle}.size-24[_ngcontent-%COMP%]{width:24px;height:24px}.size-60[_ngcontent-%COMP%]{height:60px;max-width:100%}.margin-right-12[_ngcontent-%COMP%]{margin-right:12px}.file-input[_ngcontent-%COMP%]{display:none}.filename-span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;white-space:nowrap;display:inline-block;width:50%;vertical-align:top}clr-modal[_ngcontent-%COMP%]   .filename-label[_ngcontent-%COMP%]{padding-top:9px}clr-modal[_ngcontent-%COMP%]   .filename-input[_ngcontent-%COMP%]{margin-top:12px;width:68%}clr-modal[_ngcontent-%COMP%]   .file-browser-btn[_ngcontent-%COMP%]{margin-left:15px;max-width:34%}button[_ngcontent-%COMP%]   clr-icon[_ngcontent-%COMP%]{margin-right:6px}.mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.table-center[_ngcontent-%COMP%]{display:flex;align-items:center}.center-x[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;top:2.5rem;left:50%;transform:translate(-50%)}.version-position[_ngcontent-%COMP%]{position:relative}"]}),i})(),K=(()=>{class i{constructor(t,n,r){this.route=t,this.router=n,this.session=r}ngOnInit(){this.projectId=+this.route.snapshot.parent.parent.params.id,this.currentUser=this.session.getCurrentUser();let t=this.route.snapshot.parent.parent.data;if(t){let n=t.projectResolver;this.projectName=n.name,this.project_member_role_id=n.current_user_role_id}}onChartClick(t){this.router.navigateByUrl(`${this.router.url}/${t}/versions`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.gz),e.Y36(f.F0),e.Y36(E.m))},i.\u0275cmp=e.Xpm({type:i,selectors:[["project-list-charts"]],decls:1,vars:5,consts:[[3,"projectId","projectName","urlPrefix","hasSignedIn","projectRoleID","chartClickEvt"]],template:function(t,n){1&t&&(e.TgZ(0,"hbr-helm-chart",0),e.NdJ("chartClickEvt",function(l){return n.onChartClick(l)}),e.qZA()),2&t&&e.Q6J("projectId",n.projectId)("projectName",n.projectName)("urlPrefix",n.urlPrefix)("hasSignedIn",n.hasSignedIn)("projectRoleID",n.project_member_role_id)},dependencies:[z]}),i})();var B=o(6296);const G=[{path:"",component:K}];let W=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[B.m,f.Bz.forChild(G)]}),i})()},8348:(L,T,o)=>{o.d(T,{z:()=>g});var e=o(4650),f=o(7579),E=o(8372),u=o(4006),A=o(6895),v=o(9375);const M=["inputElement"];function x(h,m){1&h&&e._UZ(0,"span",4)}let g=(()=>{class h{constructor(d){this.cd=d,this.placeHolder="",this.filterTerms=new f.x,this.isExpanded=!1,this.filterEvt=new e.vpe,this.openFlag=new e.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}set filterPlaceholder(d){this.placeHolder=d}ngOnInit(){this.filterTerms.pipe((0,E.b)(500)).subscribe(d=>{this.filterEvt.emit(d)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return h.\u0275fac=function(d){return new(d||h)(e.Y36(e.sBO))},h.\u0275cmp=e.Xpm({type:h,selectors:[["hbr-filter"]],viewQuery:function(d,p){if(1&d&&e.Gf(M,5),2&d){let _;e.iGM(_=e.CRH())&&(p.inputElement=_.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(d,p){1&d&&(e.TgZ(0,"span")(1,"clr-icon",0),e.NdJ("click",function(){return p.onClick()}),e.qZA(),e.TgZ(2,"input",1,2),e.NdJ("keyup",function(){return p.valueChange()})("focus",function(){return p.inputFocus()})("ngModelChange",function(O){return p.currentValue=O}),e.qZA(),e.YNc(4,x,1,0,"span",3),e.qZA()),2&d&&(e.xp6(1),e.ekj("filter-icon",p.isShowSearchBox),e.xp6(1),e.Udp("width",p.width,"px"),e.s9C("placeholder",p.placeHolder),e.Q6J("hidden",!p.isShowSearchBox)("ngModel",p.currentValue),e.uIk("readOnly",p.readonly),e.xp6(2),e.Q6J("ngIf",p.withDivider))},dependencies:[u.Fj,u.JJ,u.On,A.O5,v.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),h})()}}]);