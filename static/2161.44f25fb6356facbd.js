"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[2161],{2752:(w,C,l)=>{l.d(C,{b:()=>g});var e=l(529),s=l(2529),m=l(9300),_=l(4004),T=l(4650),M=l(5060);let g=(()=>{class p extends s.b{constructor(t,o){super(t,o)}ListRobotResponse(t){let o=this.newParams(),n=new e.WM;null!=t.sort&&(o=o.set("sort",t.sort.toString())),null!=t.q&&(o=o.set("q",t.q.toString())),null!=t.pageSize&&(o=o.set("page_size",t.pageSize.toString())),null!=t.page&&(o=o.set("page",t.page.toString())),null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("GET",this.rootUrl+"/robots",null,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}ListRobot(t){return this.ListRobotResponse(t).pipe((0,_.U)(o=>o.body))}CreateRobotResponse(t){let o=this.newParams(),n=new e.WM,a=null;a=t.robot,null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("POST",this.rootUrl+"/robots",a,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}CreateRobot(t){return this.CreateRobotResponse(t).pipe((0,_.U)(o=>o.body))}GetRobotByIDResponse(t){let o=this.newParams(),n=new e.WM;null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("GET",this.rootUrl+`/robots/${t.robotId}`,null,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}GetRobotByID(t){return this.GetRobotByIDResponse(t).pipe((0,_.U)(o=>o.body))}UpdateRobotResponse(t){let o=this.newParams(),n=new e.WM,a=null;a=t.robot,null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("PUT",this.rootUrl+`/robots/${t.robotId}`,a,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}UpdateRobot(t){return this.UpdateRobotResponse(t).pipe((0,_.U)(o=>o.body))}RefreshSecResponse(t){let o=this.newParams(),n=new e.WM,a=null;a=t.robotSec,null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("PATCH",this.rootUrl+`/robots/${t.robotId}`,a,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}RefreshSec(t){return this.RefreshSecResponse(t).pipe((0,_.U)(o=>o.body))}DeleteRobotResponse(t){let o=this.newParams(),n=new e.WM;null!=t.XRequestId&&(n=n.set("X-Request-Id",t.XRequestId.toString()));let u=new e.aW("DELETE",this.rootUrl+`/robots/${t.robotId}`,null,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}DeleteRobot(t){return this.DeleteRobotResponse(t).pipe((0,_.U)(o=>o.body))}}return p.ListRobotPath="/robots",p.CreateRobotPath="/robots",p.GetRobotByIDPath="/robots/{robot_id}",p.UpdateRobotPath="/robots/{robot_id}",p.RefreshSecPath="/robots/{robot_id}",p.DeleteRobotPath="/robots/{robot_id}",p.\u0275fac=function(t){return new(t||p)(T.LFG(M.p),T.LFG(e.eN))},p.\u0275prov=T.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},5538:(w,C,l)=>{l.d(C,{e:()=>g});var e=l(529),s=l(2529),m=l(9300),_=l(4004),T=l(4650),M=l(5060);let g=(()=>{class p extends s.b{constructor(t,o){super(t,o)}getSystemInfoResponse(t){let o=this.newParams(),n=new e.WM;null!=t&&(n=n.set("X-Request-Id",t.toString()));let u=new e.aW("GET",this.rootUrl+"/systeminfo",null,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}getSystemInfo(t){return this.getSystemInfoResponse(t).pipe((0,_.U)(o=>o.body))}getVolumesResponse(t){let o=this.newParams(),n=new e.WM;null!=t&&(n=n.set("X-Request-Id",t.toString()));let u=new e.aW("GET",this.rootUrl+"/systeminfo/volumes",null,{headers:n,params:o,responseType:"json"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}getVolumes(t){return this.getVolumesResponse(t).pipe((0,_.U)(o=>o.body))}getCertResponse(t){let o=this.newParams(),n=new e.WM;null!=t&&(n=n.set("X-Request-Id",t.toString()));let u=new e.aW("GET",this.rootUrl+"/systeminfo/getcert",null,{headers:n,params:o,responseType:"blob"});return this.http.request(u).pipe((0,m.h)(i=>i instanceof e.Zn),(0,_.U)(i=>i))}getCert(t){return this.getCertResponse(t).pipe((0,_.U)(o=>o.body))}}return p.getSystemInfoPath="/systeminfo",p.getVolumesPath="/systeminfo/volumes",p.getCertPath="/systeminfo/getcert",p.\u0275fac=function(t){return new(t||p)(T.LFG(M.p),T.LFG(e.eN))},p.\u0275prov=T.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1229:(w,C,l)=>{l.d(C,{B0:()=>T,I1:()=>g,IH:()=>_,Ji:()=>p,VT:()=>O,Y3:()=>M,sC:()=>e});var e=(()=>{return(t=e||(e={})).PROJECT="project",t.SYSTEM="system",e;var t})(),s=(()=>{return(t=s||(s={})).REPO="repository",t.HELM_CHART="helm-chart",t.HELM_CHART_VERSION="helm-chart-version",t.ARTIFACT="artifact",s;var t})(),m=(()=>{return(t=m||(m={})).PUSH="push",t.PULL="pull",t.READ="read",t.CREATE="create",t.LIST="list",t.STOP="stop",t.DELETE="delete",m;var t})();const _="*",T=[{resource:"repository",action:"list",checked:!0},{resource:"repository",action:"pull",checked:!0},{resource:"repository",action:"push",checked:!0},{resource:"repository",action:"delete",checked:!0},{resource:"artifact",action:"read",checked:!0},{resource:"artifact",action:"list",checked:!0},{resource:"artifact",action:"delete",checked:!0},{resource:"artifact-label",action:"create",checked:!0},{resource:"artifact-label",action:"delete",checked:!0},{resource:"tag",action:"create",checked:!0},{resource:"tag",action:"delete",checked:!0},{resource:"tag",action:"list",checked:!0},{resource:"scan",action:"create",checked:!0},{resource:"scan",action:"stop",checked:!0},{resource:"helm-chart",action:"read",checked:!0},{resource:"helm-chart-version",action:"create",checked:!0},{resource:"helm-chart-version",action:"delete",checked:!0},{resource:"helm-chart-version-label",action:"create",checked:!0},{resource:"helm-chart-version-label",action:"delete",checked:!0}],M={push:"SYSTEM_ROBOT.PUSH_AND_PULL",pull:"ROBOT_ACCOUNT.PULL",read:"SYSTEM_ROBOT.READ",create:"SYSTEM_ROBOT.CREATE",delete:"SYSTEM_ROBOT.DELETE",repository:"SYSTEM_ROBOT.REPOSITORY",artifact:"SYSTEM_ROBOT.ARTIFACT","helm-chart":"SYSTEM_ROBOT.HELM","helm-chart-version":"SYSTEM_ROBOT.HELM_VERSION",tag:"REPLICATION.TAG","artifact-label":"SYSTEM_ROBOT.ARTIFACT_LABEL","helm-chart-version-label":"SYSTEM_ROBOT.HELM_LABEL",scan:"SYSTEM_ROBOT.SCAN","scanner-pull":"SYSTEM_ROBOT.SCANNER_PULL",stop:"SYSTEM_ROBOT.STOP",list:"SYSTEM_ROBOT.LIST"};var g=(()=>{return(t=g||(g={})).DEFAULT="default",t.DAYS="days",t.NEVER="never",g;var t})();function p(t){if(t&&t.length){let o=!1,n=!1;if(t.forEach(a=>{a.action===m.PUSH&&a.resource===s.REPO&&(o=!0),a.action===m.PULL&&a.resource===s.REPO&&(n=!0)}),o&&!n)return!0}return!1}var O=(()=>{return(t=O||(O={})).GREEN="green",t.WARNING="yellow",t.EXPIRED="red",O;var t})()},8348:(w,C,l)=>{l.d(C,{z:()=>O});var e=l(4650),s=l(7579),m=l(8372),_=l(4006),T=l(6895),M=l(9375);const g=["inputElement"];function p(t,o){1&t&&e._UZ(0,"span",4)}let O=(()=>{class t{constructor(n){this.cd=n,this.placeHolder="",this.filterTerms=new s.x,this.isExpanded=!1,this.filterEvt=new e.vpe,this.openFlag=new e.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}set filterPlaceholder(n){this.placeHolder=n}ngOnInit(){this.filterTerms.pipe((0,m.b)(500)).subscribe(n=>{this.filterEvt.emit(n)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.sBO))},t.\u0275cmp=e.Xpm({type:t,selectors:[["hbr-filter"]],viewQuery:function(n,a){if(1&n&&e.Gf(g,5),2&n){let u;e.iGM(u=e.CRH())&&(a.inputElement=u.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(n,a){1&n&&(e.TgZ(0,"span")(1,"clr-icon",0),e.NdJ("click",function(){return a.onClick()}),e.qZA(),e.TgZ(2,"input",1,2),e.NdJ("keyup",function(){return a.valueChange()})("focus",function(){return a.inputFocus()})("ngModelChange",function(i){return a.currentValue=i}),e.qZA(),e.YNc(4,p,1,0,"span",3),e.qZA()),2&n&&(e.xp6(1),e.ekj("filter-icon",a.isShowSearchBox),e.xp6(1),e.Udp("width",a.width,"px"),e.s9C("placeholder",a.placeHolder),e.Q6J("hidden",!a.isShowSearchBox)("ngModel",a.currentValue),e.uIk("readOnly",a.readonly),e.xp6(2),e.Q6J("ngIf",a.withDivider))},dependencies:[_.Fj,_.JJ,_.On,T.O5,M.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),t})()},3580:(w,C,l)=>{l.d(C,{h:()=>u});var e=l(1229),s=l(4650),m=l(6895),_=l(9375),T=l(2466);function M(i,P){1&i&&s._UZ(0,"cds-icon",5)}function g(i,P){1&i&&s._UZ(0,"cds-icon",6)}function p(i,P){1&i&&s._UZ(0,"cds-icon",7)}const o=864e5,n=36e5;let u=(()=>{class i{constructor(){}ngOnInit(){this.intelVal||(this.intelVal=setInterval(()=>{this.refreshTimeRemain()},6e4))}ngOnDestroy(){this.intelVal&&(clearInterval(this.intelVal),this.intelVal=null)}ngOnChanges(E){E&&E.timeDiff&&E.deadline&&this.refreshTimeRemain()}refreshTimeRemain(){if(null!==this.timeDiff&&null!==this.deadline){if(-1===this.deadline)return this.color=e.VT.GREEN,void(this.timeRemain="ROBOT_ACCOUNT.NEVER_EXPIRED");const E=new Date(1e3*this.deadline).getTime()-new Date((new Date).getTime()-this.timeDiff).getTime();if(E>0){const R=Math.floor(E/o),b=Math.floor(E%o/n),y=Math.floor(E%n/6e4);this.timeRemain=`${R}d ${b}h ${y}m`,this.color=R>=7?e.VT.GREEN:e.VT.WARNING}else this.color=e.VT.EXPIRED,this.timeRemain="SYSTEM_ROBOT.EXPIRED"}}isError(){return this.color===e.VT.EXPIRED}isWarning(){return this.color===e.VT.WARNING}isSuccess(){return this.color===e.VT.GREEN}}return i.\u0275fac=function(E){return new(E||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-remaining-time"]],inputs:{timeDiff:"timeDiff",deadline:"deadline"},features:[s.TTD],decls:7,vars:6,consts:[[1,"container"],["class","error","shape","error-standard",4,"ngIf"],["size","20","class","warning","shape","exclamation-triangle",4,"ngIf"],["class","success","shape","success-standard",4,"ngIf"],[1,"ml-5px"],["shape","error-standard",1,"error"],["size","20","shape","exclamation-triangle",1,"warning"],["shape","success-standard",1,"success"]],template:function(E,R){1&E&&(s.TgZ(0,"span",0),s.YNc(1,M,1,0,"cds-icon",1),s.YNc(2,g,1,0,"cds-icon",2),s.YNc(3,p,1,0,"cds-icon",3),s.TgZ(4,"span",4),s._uU(5),s.ALo(6,"translate"),s.qZA()()),2&E&&(s.xp6(1),s.Q6J("ngIf",R.isError()),s.xp6(1),s.Q6J("ngIf",R.isWarning()),s.xp6(1),s.Q6J("ngIf",R.isSuccess()),s.xp6(2),s.Oqu(s.lcZ(6,4,R.timeRemain)))},dependencies:[m.O5,_.nkF,T.X$],styles:[".error[_ngcontent-%COMP%]{color:#e02200}.warning[_ngcontent-%COMP%]{color:#a36500}.success[_ngcontent-%COMP%]{color:#42810e}.container[_ngcontent-%COMP%]{display:flex;align-items:center}.ml-5px[_ngcontent-%COMP%]{margin-left:5px}"]}),i})()},8330:(w,C,l)=>{l.d(C,{N:()=>L});var e=l(4650),s=l(9375),m=l(3526),_=l(3819),T=l(2421),M=l(5832),g=l(2752),p=l(312),O=l(9151),t=l(1481),o=l(2466),n=l(4006),a=l(6895),u=l(7632);const i=["secretForm"],P=["copyInputComponent"];function E(h,S){if(1&h){const d=e.EpF();e.TgZ(0,"clr-icon",43),e.NdJ("click",function(){e.CHM(d);const c=e.oxw();return e.KtG(c.showNewPwd=!c.showNewPwd)}),e.qZA()}}function R(h,S){if(1&h){const d=e.EpF();e.TgZ(0,"clr-icon",44),e.NdJ("click",function(){e.CHM(d);const c=e.oxw();return e.KtG(c.showNewPwd=!c.showNewPwd)}),e.qZA()}}function b(h,S){1&h&&(e.TgZ(0,"clr-control-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SYSTEM_ROBOT.SECRET")," "))}function y(h,S){if(1&h){const d=e.EpF();e.TgZ(0,"clr-icon",43),e.NdJ("click",function(){e.CHM(d);const c=e.oxw();return e.KtG(c.showConfirmPwd=!c.showConfirmPwd)}),e.qZA()}}function A(h,S){if(1&h){const d=e.EpF();e.TgZ(0,"clr-icon",44),e.NdJ("click",function(){e.CHM(d);const c=e.oxw();return e.KtG(c.showConfirmPwd=!c.showConfirmPwd)}),e.qZA()}}function v(h,S){1&h&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SYSTEM_ROBOT.SECRET")))}function I(h,S){1&h&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&h&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"SYSTEM_ROBOT.INCONSISTENT")))}function U(h,S){if(1&h&&(e.TgZ(0,"clr-control-error"),e.YNc(1,v,3,3,"span",21),e.YNc(2,I,3,3,"span",21),e.qZA()),2&h){const d=e.oxw();e.xp6(1),e.Q6J("ngIf",!d.notSame()),e.xp6(1),e.Q6J("ngIf",d.notSame())}}let L=(()=>{class h{constructor(d,r,c,f,D){this.robotService=d,this.operationService=r,this.msgHandler=c,this.sanitizer=f,this.translate=D,this.showNewPwd=!1,this.showConfirmPwd=!1,this.tokenModalOpened=!1,this.btnState=s.xp5.DEFAULT,this.refreshSuccess=new e.vpe,this.copyToken=!1,this.downLoadFileName="",this.downLoadHref="",this.enableNewSecret=!1}cancel(){this.tokenModalOpened=!1}open(){this.showNewPwd=!1,this.showConfirmPwd=!1,this.tokenModalOpened=!0,this.inlineAlertComponent.close(),this.copyToken=!1,this.createSuccess=null,this.newSecret=null,this.confirmSecret=null,this.downLoadFileName="",this.downLoadHref="",this.secretForm.reset()}refreshToken(){this.btnState=s.xp5.LOADING;const d=(0,m.d9)(this.robot),r=new _.gB;r.name="SYSTEM_ROBOT.REFRESH_SECRET",r.data.id=d.id,r.state=_.yb.progressing,r.data.name=d.name,this.operationService.publishInfo(r),this.newSecret&&(d.secret=this.newSecret),this.robotService.RefreshSec({robotId:d.id,robotSec:{secret:d.secret}}).subscribe(c=>{if(this.btnState=s.xp5.SUCCESS,(0,_.hm)(r,_.yb.success),this.refreshSuccess.emit(!0),this.cancel(),c&&c.secret){this.robot.secret=c.secret,this.copyToken=!0,this.createSuccess="SYSTEM_ROBOT.REFRESH_SECRET_SUCCESS",d.secret=c.secret;const f=`data:text/json;charset=utf-8, ${encodeURIComponent(JSON.stringify(d))}`;this.downLoadHref=this.sanitizer.bypassSecurityTrustUrl(f),this.downLoadFileName=`${d.name}.json`}else this.msgHandler.showSuccess("SYSTEM_ROBOT.REFRESH_SECRET_SUCCESS")},c=>{this.btnState=s.xp5.ERROR,this.inlineAlertComponent.showInlineError(c),(0,_.hm)(r,_.yb.failure,(0,M.Po)(c))})}canRefresh(){return!(this.enableNewSecret&&!this.newSecret&&!this.confirmSecret)&&(!this.newSecret&&!this.confirmSecret||this.newSecret&&this.confirmSecret&&this.newSecret===this.confirmSecret&&this.secretForm.valid)}onCpSuccess(d){this.copyToken=!1,this.tokenModalOpened=!1,this.copyInputComponent&&this.copyInputComponent.reset(),this.translate.get("ROBOT_ACCOUNT.COPY_SUCCESS",{param:this.robot.name}).subscribe(r=>{this.msgHandler.showSuccess(r)})}closeModal(){this.copyToken=!1,this.tokenModalOpened=!1}notSame(){return this.secretForm.valid&&this.newSecret&&this.confirmSecret&&this.newSecret!==this.confirmSecret}changeEnableNewSecret(){this.secretForm.reset({enableNewSecret:this.enableNewSecret})}}return h.\u0275fac=function(d){return new(d||h)(e.Y36(g.b),e.Y36(p.f9),e.Y36(O.d),e.Y36(t.H7),e.Y36(o.sK))},h.\u0275cmp=e.Xpm({type:h,selectors:[["view-token"]],viewQuery:function(d,r){if(1&d&&(e.Gf(T.l,5),e.Gf(i,7),e.Gf(P,5)),2&d){let c;e.iGM(c=e.CRH())&&(r.inlineAlertComponent=c.first),e.iGM(c=e.CRH())&&(r.secretForm=c.first),e.iGM(c=e.CRH())&&(r.copyInputComponent=c.first)}},outputs:{refreshSuccess:"refreshSuccess"},decls:86,vars:74,consts:[[1,"copy-token",3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],[1,"modal-title"],[1,"nav-divider"],[1,"name"],[1,"modal-body"],[1,"mt-0","mb-1"],[1,"form-block","show-info"],[1,"clr-form","clr-form-horizontal"],["secretForm","ngForm"],[1,"mt-02"],["type","checkbox","clrToggle","","name","enableNewSecret","id","enable-new-secret",3,"ngModel","change","ngModelChange"],["for","enable-new-secret"],[1,"clr-form-control"],["for","new-token",1,"clr-control-label"],[1,"clr-control-container"],[1,"clr-input-wrapper"],["id","new-token","name","newToken","autocomplete","off","pattern","^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{8,128}$",1,"clr-input","pwd-input",3,"type","ngModel","placeholder","ngModelChange"],["newToken","ngModel"],["shape","eye","class","pw-eye",3,"click",4,"ngIf"],["shape","eye-hide","class","pw-eye",3,"click",4,"ngIf"],["shape","exclamation-circle",1,"clr-validate-icon"],[4,"ngIf"],["for","confirm-token",1,"clr-control-label"],["id","confirm-token","name","confirmToken","autocomplete","off","pattern","^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).{8,128}$",1,"clr-input","pwd-input",3,"type","ngModel","placeholder","ngModelChange"],["confirmToken","ngModel"],[1,"modal-footer"],["id","refresh-token-cancel","type","button",1,"btn","btn-outline",3,"click"],["id","refresh-token-refresh","type","button",1,"btn","btn-primary",3,"disabled","clrLoading","click"],["clrModalSize","lg",1,"copy-token",3,"clrModalOpen","clrModalStaticBackdrop","clrModalClosable","clrModalOpenChange"],["shape","check-circle","size","50",1,"alert-icon","success-icon"],["role","alert",1,"alert","alert-info"],[1,"alert-items"],[1,"alert-item","static"],[1,"alert-icon-wrapper"],["shape","info-circle",1,"alert-icon"],[1,"alert-text"],[1,"form-group","robot-name"],[1,"form-group-label-override"],[1,"form-group","robot-token"],["inputSize","50","headerTitle","",1,"copy-input",3,"defaultValue","onCopySuccess"],["copyInputComponent",""],[3,"href","download"],[1,"btn","mr-0",3,"click"],["shape","eye",1,"pw-eye",3,"click"],["shape","eye-hide",1,"pw-eye",3,"click"]],template:function(d,r){if(1&d&&(e.TgZ(0,"clr-modal",0),e.NdJ("clrModalOpenChange",function(f){return r.tokenModalOpened=f}),e.TgZ(1,"div",1)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"div",2),e.TgZ(6,"span",3),e._uU(7),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"inline-alert",1),e.TgZ(10,"p",5),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"section",6)(14,"form",7,8)(16,"clr-toggle-wrapper",9)(17,"input",10),e.NdJ("change",function(){return r.changeEnableNewSecret()})("ngModelChange",function(f){return r.enableNewSecret=f}),e.qZA(),e.TgZ(18,"label",11),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",12)(22,"label",13),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",14)(26,"div",15)(27,"input",16,17),e.NdJ("ngModelChange",function(f){return r.newSecret=f}),e.ALo(29,"translate"),e.qZA(),e.YNc(30,E,1,0,"clr-icon",18),e.YNc(31,R,1,0,"clr-icon",19),e._UZ(32,"clr-icon",20),e.qZA(),e.YNc(33,b,3,3,"clr-control-error",21),e.qZA()(),e.TgZ(34,"div",12)(35,"label",22),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"div",14)(39,"div",15)(40,"input",23,24),e.NdJ("ngModelChange",function(f){return r.confirmSecret=f}),e.ALo(42,"translate"),e.qZA(),e.YNc(43,y,1,0,"clr-icon",18),e.YNc(44,A,1,0,"clr-icon",19),e._UZ(45,"clr-icon",20),e.qZA(),e.YNc(46,U,3,2,"clr-control-error",21),e.qZA()()()()(),e.TgZ(47,"div",25)(48,"button",26),e.NdJ("click",function(){return r.cancel()}),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"button",27),e.NdJ("click",function(){return r.refreshToken()}),e._uU(52),e.ALo(53,"translate"),e.qZA()()(),e.TgZ(54,"clr-modal",28),e.NdJ("clrModalOpenChange",function(f){return r.copyToken=f}),e.TgZ(55,"div",1)(56,"h3",1),e._UZ(57,"clr-icon",29),e._uU(58),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",4)(61,"div",30)(62,"div",31)(63,"div",32)(64,"div",33),e._UZ(65,"clr-icon",34),e.qZA(),e.TgZ(66,"span",35),e._uU(67),e.ALo(68,"translate"),e.qZA()()()(),e.TgZ(69,"section",6)(70,"div",36)(71,"label",37),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"span"),e._uU(75),e.qZA()(),e.TgZ(76,"div",38)(77,"label",37),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.TgZ(80,"hbr-copy-input",39,40),e.NdJ("onCopySuccess",function(f){return r.onCpSuccess(f)}),e.qZA()(),e.TgZ(82,"a",41)(83,"button",42),e.NdJ("click",function(){return r.closeModal()}),e._uU(84),e.ALo(85,"translate"),e.qZA()()()()()),2&d){const c=e.MAs(28),f=e.MAs(41);e.Q6J("clrModalOpen",r.tokenModalOpened)("clrModalStaticBackdrop",!0)("clrModalClosable",!0),e.xp6(3),e.Oqu(e.lcZ(4,46,"SYSTEM_ROBOT.REFRESH_SECRET")),e.xp6(4),e.Oqu(null==r.robot?null:r.robot.name),e.xp6(4),e.hij(" ",e.lcZ(12,48,"SYSTEM_ROBOT.REFRESH_SECRET_SUMMARY")," "),e.xp6(6),e.Q6J("ngModel",r.enableNewSecret),e.xp6(2),e.Oqu(e.lcZ(20,50,"SYSTEM_ROBOT.ENABLE_NEW_SECRET")),e.xp6(2),e.Udp("visibility",r.enableNewSecret?"visible":"hidden"),e.xp6(2),e.Oqu(e.lcZ(24,52,"SYSTEM_ROBOT.NEW_TOKEN")),e.xp6(2),e.ekj("clr-error",(c.dirty||c.touched)&&c.invalid),e.xp6(2),e.s9C("placeholder",e.lcZ(29,54,"SYSTEM_ROBOT.PLACEHOLDER")),e.Q6J("type",r.showNewPwd?"text":"password")("ngModel",r.newSecret),e.xp6(3),e.Q6J("ngIf",!r.showNewPwd),e.xp6(1),e.Q6J("ngIf",r.showNewPwd),e.xp6(2),e.Q6J("ngIf",(c.dirty||c.touched)&&c.invalid),e.xp6(1),e.Udp("visibility",r.enableNewSecret?"visible":"hidden"),e.xp6(2),e.Oqu(e.lcZ(37,56,"SYSTEM_ROBOT.CONFIRM_SECRET")),e.xp6(2),e.ekj("clr-error",r.notSame()||(f.dirty||f.touched)&&f.invalid),e.xp6(2),e.s9C("placeholder",e.lcZ(42,58,"SYSTEM_ROBOT.SECRET_AGAIN")),e.Q6J("type",r.showConfirmPwd?"text":"password")("ngModel",r.confirmSecret),e.xp6(3),e.Q6J("ngIf",!r.showConfirmPwd),e.xp6(1),e.Q6J("ngIf",r.showConfirmPwd),e.xp6(2),e.Q6J("ngIf",r.notSame()||(f.dirty||f.touched)&&f.invalid),e.xp6(3),e.hij(" ",e.lcZ(50,60,"BUTTON.CANCEL")," "),e.xp6(2),e.Q6J("disabled",!r.canRefresh())("clrLoading",r.btnState),e.xp6(1),e.hij(" ",e.lcZ(53,62,"SYSTEM_ROBOT.REFRESH")," "),e.xp6(2),e.Q6J("clrModalOpen",r.copyToken)("clrModalStaticBackdrop",!0)("clrModalClosable",!1),e.xp6(4),e.hij(" ",e.lcZ(59,64,r.createSuccess)," "),e.xp6(9),e.Oqu(e.lcZ(68,66,"ROBOT_ACCOUNT.ALERT_TEXT")),e.xp6(5),e.Oqu(e.lcZ(73,68,"ROBOT_ACCOUNT.NAME")),e.xp6(3),e.Oqu(null==r.robot?null:r.robot.name),e.xp6(3),e.Oqu(e.lcZ(79,70,"ROBOT_ACCOUNT.TOKEN")),e.xp6(2),e.s9C("defaultValue",null==r.robot?null:r.robot.secret),e.xp6(2),e.Q6J("href",r.downLoadHref,e.LSH)("download",r.downLoadFileName),e.xp6(2),e.hij(" ",e.lcZ(85,72,"ROBOT_ACCOUNT.EXPORT_TO_FILE")," ")}},dependencies:[n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.c5,n.On,n.F,a.O5,s.I9z,s.qvL,s.qAN,s.VLi,s.cCV,s.MPb,s.MgK,s.VqA,s.KKC,s.PEh,T.l,u.s,o.X$],styles:['.copy-token[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{color:#318700}.copy-token[_ngcontent-%COMP%]   .show-info[_ngcontent-%COMP%]   .robot-name[_ngcontent-%COMP%]{margin:30px 0}.copy-token[_ngcontent-%COMP%]   .show-info[_ngcontent-%COMP%]   .robot-name[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:30px}.copy-token[_ngcontent-%COMP%]   .show-info[_ngcontent-%COMP%]   .robot-token[_ngcontent-%COMP%]{margin-bottom:20px}.copy-token[_ngcontent-%COMP%]   .show-info[_ngcontent-%COMP%]   .robot-token[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:24px}.copy-token[_ngcontent-%COMP%]   .show-info[_ngcontent-%COMP%]   .robot-token[_ngcontent-%COMP%]   .copy-input[_ngcontent-%COMP%]{display:inline-block}[_nghost-%COMP%]  hbr-copy-input .command-input{width:32rem}.nav-divider[_ngcontent-%COMP%]{display:inline-block;width:1px;height:30px;position:relative;top:10px;opacity:.15;content:"";margin-right:1rem;margin-left:1rem}.name[_ngcontent-%COMP%]{font-size:16px;opacity:.9}.align-center[_ngcontent-%COMP%]{align-items:center}.clr-form[_ngcontent-%COMP%]{padding-left:0}.pw-eye[_ngcontent-%COMP%]{margin-left:-20px;margin-right:8px;cursor:pointer}.pwd-input[_ngcontent-%COMP%]{padding-right:26px}']}),h})()}}]);