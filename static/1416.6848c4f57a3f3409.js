"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[1416],{7782:(b,L,s)=>{s.d(L,{D:()=>t});const t={USER_PROFILE:"USER_PROFILE",CHANGE_PWD:"CHANGE_PWD",ABOUT:"ABOUT"}},8274:(b,L,s)=>{s.d(L,{f:()=>E});var t=s(4650),C=s(8025),m=s(5900),v=s(6895),e=s(9375),A=s(858),x=s(2466);function _(u,f){1&u&&(t.TgZ(0,"div")(1,"p",9),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"p",9)(5,"a",10),t._uU(6),t.ALo(7,"translate"),t.qZA()()()),2&u&&(t.xp6(2),t.Oqu(t.lcZ(3,2,"ABOUT.COPYRIGHT")),t.xp6(4),t.Oqu(t.lcZ(7,4,"ABOUT.OPEN_SOURCE_LICENSE")))}function d(u,f){if(1&u&&(t.TgZ(0,"div")(1,"p",9),t._uU(2),t.qZA()()),2&u){const a=t.oxw();t.xp6(2),t.Oqu(a.customIntroduction)}}let E=(()=>{class u{constructor(a,g){this.appConfigService=a,this.skinableConfig=g,this.opened=!1,this.build="4276418"}ngOnInit(){let a=this.skinableConfig.getSkinConfig();a&&a.product&&(this.customLogo=a.product.logo,this.customName=a.product.name,this.customIntroduction=a.product.introduction)}get version(){return this.appConfigService.getConfig().harbor_version}open(){this.opened=!0}close(){this.opened=!1}}return u.\u0275fac=function(a){return new(a||u)(t.Y36(C._),t.Y36(m.s))},u.\u0275cmp=t.Xpm({type:u,selectors:[["about-dialog"]],decls:18,vars:16,consts:[[3,"clrModalOpen","clrModalClosable","clrModalStaticBackdrop","clrModalOpenChange"],[1,"modal-body","dialog-body"],[1,"harbor-logo-black"],[1,"harbor-icon",3,"src"],["tabindex","1",1,"content"],[1,"p5","about-version"],[4,"ngIf"],[1,"modal-footer","margin-left-override"],["type","button",1,"btn","btn-primary",3,"click"],[1,"p5"],["routerLink","/license","target","_blank","rel","noopener noreferrer"]],template:function(a,g){1&a&&(t.TgZ(0,"clr-modal",0),t.NdJ("clrModalOpenChange",function(T){return g.opened=T}),t.TgZ(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"div")(9,"span",5),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,_,8,6,"div",6),t.YNc(13,d,3,1,"div",6),t.qZA()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return g.close()}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()),2&a&&(t.Q6J("clrModalOpen",g.opened)("clrModalClosable",!1)("clrModalStaticBackdrop",!1),t.xp6(3),t.Q6J("src",g.customLogo?"images/"+g.customLogo:"images/harbor-logo.svg",t.LSH),t.xp6(3),t.hij(" ",g.customName?g.customName:t.lcZ(7,10,"APP_TITLE.HARBOR")," "),t.xp6(4),t.AsE("",t.lcZ(11,12,"ABOUT.VERSION")," ",g.version,""),t.xp6(2),t.Q6J("ngIf",!g.customIntroduction),t.xp6(1),t.Q6J("ngIf",g.customIntroduction),t.xp6(3),t.hij(" ",t.lcZ(17,14,"BUTTON.CLOSE")," "))},dependencies:[v.O5,e.qAN,e.VLi,A.yS,x.X$],styles:[".about-version[_ngcontent-%COMP%]{font-size:14px;color:#565656;font-weight:500}.dialog-body[_ngcontent-%COMP%]{display:flex;padding-left:0}.content[_ngcontent-%COMP%]{margin:0 10px 10px;outline:none;width:470px}.harbor-icon[_ngcontent-%COMP%]{width:56px;filter:drop-shadow(rgb(0,0,0) 58px 2px)}.harbor-logo-black[_ngcontent-%COMP%]{width:60px;overflow:hidden}"]}),u})()},2123:(b,L,s)=>{s.d(L,{q:()=>M});var t=s(2641),C=s(6742),m=s(3526),v=s(7863),e=s(4650),A=s(6294),x=s(858),_=s(2466),d=s(1992),E=s(6895),u=s(9375);function f(T,Z){if(1&T){const p=e.EpF();e.TgZ(0,"div",6)(1,"button",7),e.NdJ("click",function(){e.CHM(p);const O=e.oxw(2);return e.KtG(O.signIn())}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&T&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"BUTTON.LOG_IN")," "))}function a(T,Z){if(1&T){const p=e.EpF();e.TgZ(0,"div")(1,"clr-alert",2),e.NdJ("clrAlertClosedChange",function(O){e.CHM(p);const P=e.oxw();return e.KtG(!(P.globalMessageOpened=O))})("clrAlertClosedChange",function(){e.CHM(p);const O=e.oxw();return e.KtG(O.onClose())}),e.TgZ(2,"div",3)(3,"span",4),e._uU(4),e.qZA(),e.YNc(5,f,4,3,"div",5),e.qZA()()()}if(2&T){const p=e.oxw();e.ekj("alert-app-level",!p.isAppLevel),e.xp6(1),e.Q6J("clrAlertType",p.globalMessage.type)("clrAlertClosable",!p.needAuth)("clrAlertAppLevel",p.isAppLevel)("clrAlertClosed",!p.globalMessageOpened),e.xp6(3),e.Oqu(p.message),e.xp6(1),e.Q6J("ngIf",p.needAuth)}}function g(T,Z){1&T&&e._UZ(0,"div",8)}let M=(()=>{class T{constructor(p,l,O,P,y,R){this.elementRef=p,this.messageService=l,this.router=O,this.route=P,this.translate=y,this.session=R,this.globalMessage=new t.v,this.globalMessageOpened=!1,this.messageText="",this.timer=null}ngOnInit(){this.isAppLevel?this.appLevelMsgSub=this.messageService.appLevelAnnounced$.subscribe(p=>{this.globalMessageOpened=!0,this.globalMessage=p,this.checkLoginStatus(),this.messageText=p.message,this.translateMessage(p)}):this.msgSub=this.messageService.messageAnnounced$.subscribe(p=>{this.globalMessageOpened=!0,this.globalMessage=p,this.checkLoginStatus(),this.messageText=p.message,this.translateMessage(p),this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(()=>this.onClose(),C.Tk),setTimeout(()=>{let O=this.elementRef.nativeElement.getElementsByClassName("alert");O&&O.length>0&&(O[0].className+=" alert-global alert-global-align")},0)}),this.clearSub=this.messageService.clearChan$.subscribe(p=>{this.onClose()})}ngOnDestroy(){this.appLevelMsgSub&&this.appLevelMsgSub.unsubscribe(),this.msgSub&&this.msgSub.unsubscribe(),this.clearSub&&this.clearSub.unsubscribe()}translateMessage(p){let l="UNKNOWN_ERROR";p&&p.message&&(l="string"==typeof p.message?p.message.trim():p.message,""===l&&(l="UNKNOWN_ERROR")),this.translate.get(l,{param:""}).subscribe(P=>this.messageText=P)}get needAuth(){return!!this.globalMessage&&this.globalMessage.statusCode===C.EU.Unauthorized}get message(){return this.messageText}signIn(){const p=(0,m.ub)(this.router.url,v.jv);this.router.navigate([C.ZB.EMBEDDED_SIGN_IN],{queryParams:{redirect_url:p}})}onClose(){this.timer&&clearTimeout(this.timer),this.globalMessageOpened=!1}isFromGlobalSearch(){return this.route.snapshot.queryParams[v.jv]===v.gT}checkLoginStatus(){if(this.globalMessage.statusCode===C.EU.Unauthorized&&this.session.getCurrentUser()&&!this.isSignInUrl()&&this.route.snapshot.queryParams[v.jv]!==v.gT){const p=(0,m.ub)(this.router.url,v.jv);this.session.clear(),this.router.navigate([C.ZB.EMBEDDED_SIGN_IN],{queryParams:{redirect_url:p}})}}isSignInUrl(){return(-1===this.router.url?.indexOf("?")?this.router.url:this.router.url?.split("?")[0])===C.ZB.EMBEDDED_SIGN_IN}}return T.\u0275fac=function(p){return new(p||T)(e.Y36(e.SBq),e.Y36(A.e),e.Y36(x.F0),e.Y36(x.gz),e.Y36(_.sK),e.Y36(d.m))},T.\u0275cmp=e.Xpm({type:T,selectors:[["global-message"]],inputs:{isAppLevel:"isAppLevel"},decls:2,vars:2,consts:[[3,"alert-app-level",4,"ngIf"],["class","mask-layer",4,"ngIf"],[3,"clrAlertType","clrAlertClosable","clrAlertAppLevel","clrAlertClosed","clrAlertClosedChange"],[1,"alert-item"],[1,"alert-text"],["class","alert-actions alert-style",4,"ngIf"],[1,"alert-actions","alert-style"],[1,"btn","alert-action",3,"click"],[1,"mask-layer"]],template:function(p,l){1&p&&(e.YNc(0,a,6,8,"div",0),e.YNc(1,g,1,0,"div",1)),2&p&&(e.Q6J("ngIf",l.globalMessageOpened),e.xp6(1),e.Q6J("ngIf",l.globalMessageOpened&&l.needAuth&&!l.isFromGlobalSearch()))},dependencies:[E.O5,u.TIm,u.I9z,_.X$],styles:[".alert-style[_ngcontent-%COMP%]{display:inline}.mask-layer[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;z-index:1000}.alert-text[_ngcontent-%COMP%]{flex:0 1 auto!important}"]}),T})()},9039:(b,L,s)=>{s.d(L,{B:()=>B});var t=s(4004),C=s(262),m=s(2843),v=s(3526),e=s(4650),A=s(529);const x=v.S$+"/search";let _=(()=>{class c{constructor(r){this.http=r}doSearch(r){return this.http.get(x+"?q="+r,v.EX).pipe((0,t.U)(o=>o),(0,C.K)(o=>(0,m._)(o)))}}return c.\u0275fac=function(r){return new(r||c)(e.LFG(A.eN))},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac}),c})();class d{constructor(){this.project=[],this.repository=[],this.chart=[]}}var E=s(9300),u=s(3900),f=s(9151),a=s(5412),g=s(8025),M=s(6895),T=s(7863),Z=s(858),p=s(1992),l=s(9375),O=s(2466);function P(c,i){if(1&c&&(e.TgZ(0,"clr-dg-row",4)(1,"clr-dg-cell")(2,"a",5),e._uU(3),e.qZA()(),e.TgZ(4,"clr-dg-cell"),e._uU(5),e.qZA(),e.TgZ(6,"clr-dg-cell"),e._uU(7),e.qZA()()),2&c){const r=i.$implicit,n=e.oxw();e.Q6J("clrDgItem",r),e.xp6(2),e.Q6J("routerLink",n.getLink(r.project_id,r.name||r.repository_name))("queryParams",n.getQueryParams()),e.xp6(1),e.Oqu(r.name||r.repository_name),e.xp6(2),e.Oqu(r.artifact_count),e.xp6(2),e.Oqu(r.pull_count)}}function y(c,i){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&c){e.oxw();const r=e.MAs(19);e.xp6(1),e.lnq("",r.firstItem+1," - ",r.lastItem+1," ",e.lcZ(2,3,"REPOSITORY.OF")," ")}}let R=(()=>{class c{constructor(r,n,o){this.router=r,this.searchTrigger=n,this.sessionService=o}getLink(r,n){let o=n.split("/")[0];return["/harbor/projects",r,"repositories",o?n.substr(o.length+1):n]}getQueryParams(){return this.sessionService.getCurrentUser()?null:{[T.jv]:T.gT}}}return c.\u0275fac=function(r){return new(r||c)(e.Y36(Z.F0),e.Y36(a.V),e.Y36(p.m))},c.\u0275cmp=e.Xpm({type:c,selectors:[["list-repository-ro"]],inputs:{repositories:"repositories"},decls:20,vars:19,consts:[[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[4,"ngIf"],[3,"clrDgPageSize"],["pagination",""],[3,"clrDgItem"],["href","javascript:void(0)",3,"routerLink","queryParams"]],template:function(r,n){1&r&&(e.TgZ(0,"clr-datagrid")(1,"clr-dg-column"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"clr-dg-column"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"clr-dg-column"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,P,8,6,"clr-dg-row",0),e.TgZ(11,"clr-dg-placeholder"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"clr-dg-footer"),e.YNc(15,y,3,5,"span",1),e._uU(16),e.ALo(17,"translate"),e._UZ(18,"clr-dg-pagination",2,3),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,9,"REPOSITORY.NAME")),e.xp6(3),e.Oqu(e.lcZ(6,11,"REPOSITORY.ARTIFACTS_COUNT")),e.xp6(3),e.Oqu(e.lcZ(9,13,"REPOSITORY.PULL_COUNT")),e.xp6(2),e.Q6J("clrDgItemsOf",n.repositories),e.xp6(2),e.Oqu(e.lcZ(13,15,"REPOSITORY.PLACEHOLDER")),e.xp6(3),e.Q6J("ngIf",null==n.repositories?null:n.repositories.length),e.xp6(1),e.AsE(" ",null==n.repositories?null:n.repositories.length," ",e.lcZ(17,17,"REPOSITORY.ITEMS")," "),e.xp6(2),e.Q6J("clrDgPageSize",5))},dependencies:[M.O5,l.C9t,l.m4W,l.f6,l.Z4N,l.fv_,l.dRQ,l.Ltv,l.F7K,l.PDs,l.KHL,l.Gcc,l.jND,l.Nh1,l.dml,l.K8c,Z.yS,O.X$],encapsulation:2,changeDetection:0}),c})();var D=s(3046);function U(c,i){if(1&c&&(e.TgZ(0,"clr-dg-row",4)(1,"clr-dg-cell")(2,"a",5),e._uU(3),e.qZA()(),e.TgZ(4,"clr-dg-cell"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"clr-dg-cell"),e._uU(8),e.qZA(),e.TgZ(9,"clr-dg-cell"),e._uU(10),e.ALo(11,"harborDatetime"),e.qZA()()),2&c){const r=i.$implicit,n=e.oxw();e.Q6J("clrDgItem",r),e.xp6(2),e.Q6J("routerLink",n.getLink(r.project_id)),e.xp6(1),e.Oqu(r.name),e.xp6(2),e.Oqu(e.lcZ(6,6,"true"===r.metadata.public?"PROJECT.PUBLIC":"PROJECT.PRIVATE")),e.xp6(3),e.Oqu(r.repo_count),e.xp6(2),e.Oqu(e.xi3(11,8,r.creation_time,"short"))}}function N(c,i){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&c){e.oxw();const r=e.MAs(22);e.xp6(1),e.lnq("",r.firstItem+1," - ",r.lastItem+1," ",e.lcZ(2,3,"PROJECT.OF")," ")}}let w=(()=>{class c{constructor(){}getLink(r){return`/harbor/projects/${r}/repositories`}}return c.\u0275fac=function(r){return new(r||c)},c.\u0275cmp=e.Xpm({type:c,selectors:[["list-project-ro"]],inputs:{projects:"projects"},decls:23,vars:22,consts:[[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[4,"ngIf"],[3,"clrDgPageSize"],["pagination",""],[3,"clrDgItem"],["href","javascript:void(0)",3,"routerLink"]],template:function(r,n){1&r&&(e.TgZ(0,"clr-datagrid")(1,"clr-dg-column"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"clr-dg-column"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"clr-dg-column"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"clr-dg-column"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,U,12,11,"clr-dg-row",0),e.TgZ(14,"clr-dg-placeholder"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"clr-dg-footer"),e.YNc(18,N,3,5,"span",1),e._uU(19),e.ALo(20,"translate"),e._UZ(21,"clr-dg-pagination",2,3),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,10,"PROJECT.NAME")),e.xp6(3),e.Oqu(e.lcZ(6,12,"PROJECT.ACCESS_LEVEL")),e.xp6(3),e.Oqu(e.lcZ(9,14,"PROJECT.REPO_COUNT")),e.xp6(3),e.Oqu(e.lcZ(12,16,"PROJECT.CREATION_TIME")),e.xp6(2),e.Q6J("clrDgItemsOf",n.projects),e.xp6(2),e.Oqu(e.lcZ(16,18,"PROJECT.NO_PROJECT")),e.xp6(3),e.Q6J("ngIf",null==n.projects?null:n.projects.length),e.xp6(1),e.AsE(" ",null==n.projects?null:n.projects.length," ",e.lcZ(20,20,"PROJECT.ITEMS")," "),e.xp6(2),e.Q6J("clrDgPageSize",5))},dependencies:[M.O5,l.C9t,l.m4W,l.f6,l.Z4N,l.fv_,l.dRQ,l.Ltv,l.F7K,l.PDs,l.KHL,l.Gcc,l.jND,l.Nh1,l.dml,l.K8c,Z.yS,O.X$,D.Z],encapsulation:2,changeDetection:0}),c})();var H=s(268);function J(c,i){if(1&c){const r=e.EpF();e.TgZ(0,"clr-dg-row",4)(1,"clr-dg-cell")(2,"a",5),e.NdJ("click",function(){const h=e.CHM(r).$implicit,I=e.oxw();return e.KtG(I.gotoChartVersion(h.Chart))}),e._uU(3),e.qZA()(),e.TgZ(4,"clr-dg-cell"),e._uU(5),e.qZA(),e.TgZ(6,"clr-dg-cell"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"clr-dg-cell"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"clr-dg-cell"),e._uU(13),e.ALo(14,"harborDatetime"),e.qZA()()}if(2&c){const r=i.$implicit,n=e.oxw();e.Q6J("clrDgItem",r),e.xp6(3),e.Oqu(r.Name),e.xp6(2),e.Oqu(r.Chart.version),e.xp6(2),e.Oqu(e.lcZ(8,6,n.getStatusString(r.Chart))),e.xp6(3),e.Oqu(e.xi3(11,8,n.getMaintainerString(r.Chart.maintainers),n.getMaintainerTranslateInfo(r.Chart.maintainers))),e.xp6(3),e.Oqu(e.lcZ(14,11,r.Chart.created))}}function q(c,i){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&c){e.oxw();const r=e.MAs(22);e.xp6(1),e.lnq(" ",r.firstItem+1," - ",r.lastItem+1," ",e.lcZ(2,3,"HELM_CHART.OF")," ")}}let Y=(()=>{class c{constructor(r,n,o){this.searchTrigger=r,this.projectService=n,this.router=o}getStatusString(r){return r.deprecated?"HELM_CHART.DEPRECATED":"HELM_CHART.ACTIVE"}getMaintainerString(r){if(!r||r.length<1)return"";let n=r[0].name;return r.length>1&&(n="HELM_CHART.OTHER_MAINTAINERS"),n}getMaintainerTranslateInfo(r){return!r||r.length<1?{}:{name:r[0].name,number:r.length}}gotoChartVersion(r){this.searchTrigger.closeSearch(!0);let[n,o]=r.name.split("/");this.projectService.listProjects(n).subscribe(h=>{let I=h.body||[];(I||I.length>=1)&&this.router.navigate(["harbor","projects",I[0].project_id,"helm-charts",o,"versions",r.version])})}}return c.\u0275fac=function(r){return new(r||c)(e.Y36(a.V),e.Y36(H.Y4),e.Y36(Z.F0))},c.\u0275cmp=e.Xpm({type:c,selectors:[["list-chart-version-ro"]],inputs:{charts:"charts"},decls:26,vars:26,consts:[[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[4,"ngIf"],[3,"clrDgItem"],["href","javascript:void(0)",3,"click"]],template:function(r,n){1&r&&(e.TgZ(0,"clr-datagrid")(1,"clr-dg-column"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"clr-dg-column"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"clr-dg-column"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"clr-dg-column"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"clr-dg-column"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"clr-dg-placeholder"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,J,15,13,"clr-dg-row",0),e.TgZ(20,"clr-dg-footer")(21,"clr-dg-pagination",1,2),e.YNc(23,q,3,5,"span",3),e._uU(24),e.ALo(25,"translate"),e.qZA()()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,12,"HELM_CHART.NAME")),e.xp6(3),e.Oqu(e.lcZ(6,14,"HELM_CHART.VERSION")),e.xp6(3),e.Oqu(e.lcZ(9,16,"HELM_CHART.STATUS")),e.xp6(3),e.Oqu(e.lcZ(12,18,"HELM_CHART.MAINTAINERS")),e.xp6(3),e.Oqu(e.lcZ(15,20,"HELM_CHART.CREATED")),e.xp6(3),e.Oqu(e.lcZ(18,22,"HELM_CHART.NO_VERSION_PLACEHOLDER")),e.xp6(2),e.Q6J("clrDgItemsOf",n.charts),e.xp6(2),e.Q6J("clrDgPageSize",5)("clrDgTotalItems",null==n.charts?null:n.charts.length),e.xp6(2),e.Q6J("ngIf",null==n.charts?null:n.charts.length),e.xp6(1),e.AsE(" ",null==n.charts?null:n.charts.length," ",e.lcZ(25,24,"HELM_CHART.ITEMS")," "))},dependencies:[M.O5,l.C9t,l.m4W,l.f6,l.Z4N,l.fv_,l.dRQ,l.Ltv,l.F7K,l.PDs,l.KHL,l.Gcc,l.jND,l.Nh1,l.dml,l.K8c,O.X$,D.Z],encapsulation:2,changeDetection:0}),c})();function j(c,i){if(1&c&&(e.TgZ(0,"div",12)(1,"h2"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"list-chart-version-ro",13),e.qZA()),2&c){const r=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,2,"HELM_CHART.HELMCHARTS")),e.xp6(2),e.Q6J("charts",r.searchResults.chart)}}function k(c,i){if(1&c){const r=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"div",2),e.TgZ(2,"div",3)(3,"a",4),e.NdJ("click",function(){e.CHM(r);const o=e.oxw();return e.KtG(o.close())}),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",5),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",6)(10,"div",7)(11,"h2"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"list-project-ro",8),e.qZA(),e.TgZ(15,"div",9)(16,"h2"),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"list-repository-ro",10),e.qZA(),e.YNc(20,j,5,4,"div",11),e.qZA()()}if(2&c){const r=e.oxw();e.xp6(4),e.hij("<\xa0",e.lcZ(5,8,"SEARCH.BACK"),""),e.xp6(2),e.Q6J("hidden",r.done),e.xp6(1),e.hij(" ",e.lcZ(8,10,"SEARCH.IN_PROGRESS")," "),e.xp6(5),e.Oqu(e.lcZ(13,12,"PROJECT.PROJECTS")),e.xp6(2),e.Q6J("projects",r.searchResults.project),e.xp6(3),e.Oqu(e.lcZ(18,14,"PROJECT_DETAIL.REPOSITORIES")),e.xp6(2),e.Q6J("repositories",r.searchResults.repository),e.xp6(1),e.Q6J("ngIf",r.withHelmChart)}}let B=(()=>{class c{constructor(r,n,o,h){this.search=r,this.msgHandler=n,this.searchTrigger=o,this.appConfigService=h,this.searchResults=new d,this.currentTerm="",this.stateIndicator=!1,this.onGoing=!1,this.mouseOn=!1}ngOnInit(){this.searchSub=this.searchTrigger.searchTriggerChan$.pipe((0,E.h)(r=>(""===r&&(this.searchResults.project=[],this.searchResults.repository=[],this.withHelmChart&&(this.searchResults.chart=[])),!(!r||!r.trim()))),(0,u.w)(r=>(this.stateIndicator||this.show(),this.currentTerm=r,this.onGoing=!0,this.search.doSearch(r)))).subscribe(r=>{this.onGoing=!1,this.originalCopy=r,this.searchResults=this.clone(r)},r=>{this.onGoing=!1,this.msgHandler.handleError(r)}),this.closeSearchSub=this.searchTrigger.searchCloseChan$.subscribe(r=>{this.close()})}ngOnDestroy(){this.searchSub&&this.searchSub.unsubscribe(),this.closeSearchSub&&this.closeSearchSub.unsubscribe()}clone(r){let n=new d;return r&&(r.project.forEach(o=>n.project.push(Object.assign({},o))),r.repository.forEach(o=>n.repository.push(Object.assign({},o))),this.withHelmChart&&r.chart.forEach(o=>n.chart.push(JSON.parse(JSON.stringify(o))))),n}get state(){return this.stateIndicator}get done(){return!this.onGoing}get hover(){return this.mouseOn}show(){this.stateIndicator=!0}close(){this.stateIndicator=!1,this.searchTrigger.clear(!0)}doSearch(r){if(!r||""===r.trim())return this.searchResults.project=[],this.searchResults.repository=[],void(this.withHelmChart&&(this.searchResults.chart=[]));this.onGoing||(this.stateIndicator||this.show(),this.currentTerm=r,this.onGoing=!0,this.search.doSearch(r).subscribe(n=>{this.onGoing=!1,this.originalCopy=n,this.searchResults=this.clone(n)},n=>{this.onGoing=!1,this.msgHandler.handleError(n)}))}get withHelmChart(){return this.appConfigService.getConfig().with_chartmuseum}}return c.\u0275fac=function(r){return new(r||c)(e.Y36(_),e.Y36(f.d),e.Y36(a.V),e.Y36(g._))},c.\u0275cmp=e.Xpm({type:c,selectors:[["search-result"]],features:[e._Bn([_])],decls:1,vars:1,consts:[["class","search-overlay",4,"ngIf"],[1,"search-overlay"],["id","placeholder1"],[1,"search-header"],["href","javascript:void(0)",3,"click"],[1,"spinner","spinner-lg","search-spinner",3,"hidden"],["id","results"],["id","project-results"],[3,"projects"],["id","repo-results"],[3,"repositories"],["id","chart-results",4,"ngIf"],["id","chart-results"],[3,"charts"]],template:function(r,n){1&r&&e.YNc(0,k,21,16,"div",0),2&r&&e.Q6J("ngIf",n.state)},dependencies:[M.O5,R,w,Y,O.X$],styles:['.search-overlay[_ngcontent-%COMP%]{display:block;position:fixed;height:100%;width:100%;z-index:999;box-sizing:border-box;background:#fafafa;top:60px;left:0;padding-left:36px;padding-right:36px}.search-header[_ngcontent-%COMP%]{display:inline-block;width:100%;position:relative}.search-close[_ngcontent-%COMP%]{position:absolute;right:24px;cursor:pointer}.search-parent-override[_ngcontent-%COMP%]{position:relative!important}.search-spinner[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;z-index:1}.grid-header-wrapper[_ngcontent-%COMP%]{text-align:right}.grid-filter[_ngcontent-%COMP%]{position:relative;top:8px;margin:0 auto}.search-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.search[_ngcontent-%COMP%]:before{content:"";display:inline-block;background:#fafafa;opacity:.15;height:40px;width:1px;top:10px}#results[_ngcontent-%COMP%]{overflow-y:auto;max-height:85%}#placeholder1[_ngcontent-%COMP%]{height:24px}.search-input[_ngcontent-%COMP%]{outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#fafafa}']}),c})()},2421:(b,L,s)=>{s.d(L,{l:()=>E});var t=s(4650),C=s(5832),m=s(2466),v=s(2443),e=s(6895),A=s(9375);function x(u,f){if(1&u){const a=t.EpF();t.TgZ(0,"div",6)(1,"button",7),t.NdJ("click",function(){t.CHM(a);const M=t.oxw(3);return t.KtG(M.close())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",7),t.NdJ("click",function(){t.CHM(a);const M=t.oxw(3);return t.KtG(M.confirmCancel())}),t._uU(5),t.ALo(6,"translate"),t.qZA()()}2&u&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"BUTTON.NO")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"BUTTON.YES")," "))}function _(u,f){if(1&u&&(t.TgZ(0,"div",3)(1,"span",4),t._uU(2),t.qZA(),t.YNc(3,x,7,6,"div",5),t.qZA()),2&u){const a=t.oxw(2);t.xp6(1),t.ekj("alert-text-blink",a.blinking),t.xp6(1),t.hij(" ",a.errorMessage," "),t.xp6(1),t.Q6J("ngIf",a.showCancelAction)}}function d(u,f){if(1&u){const a=t.EpF();t.TgZ(0,"clr-alert",1),t.NdJ("clrAlertClosedChange",function(M){t.CHM(a);const T=t.oxw();return t.KtG(T.alertClose=M)}),t.YNc(1,_,4,4,"div",2),t.qZA()}if(2&u){const a=t.oxw();t.Q6J("clrAlertClosed",a.alertClose)("clrAlertType",a.inlineAlertType)("clrAlertClosable",a.inlineAlertClosable)("clrAlertAppLevel",a.useAppLevelStyle),t.xp6(1),t.Q6J("ngIf",!a.alertClose)}}let E=(()=>{class u{constructor(a,g){this.translate=a,this.errHandler=g,this.inlineAlertType="danger",this.inlineAlertClosable=!1,this.alertClose=!0,this.displayedText="",this.showCancelAction=!1,this.useAppLevelStyle=!1,this.timer=null,this.count=0,this.blinking=!1,this.confirmEvt=new t.vpe,this.closeEvt=new t.vpe}get errorMessage(){return this.displayedText}showInlineError(a){this.displayedText=(0,C.Po)(a),this.displayedText&&this.translate.get(this.displayedText).subscribe(g=>this.displayedText=g),this.errHandler.handleErrorPopupUnauthorized(a),this.inlineAlertType="danger",this.showCancelAction=!1,this.inlineAlertClosable=!0,this.alertClose=!1,this.useAppLevelStyle=!1}showInlineConfirmation(a){this.displayedText="",a&&a.message&&this.translate.get(a.message).subscribe(g=>this.displayedText=g),this.inlineAlertType="warning",this.showCancelAction=!0,this.inlineAlertClosable=!1,this.alertClose=!1,this.useAppLevelStyle=!1}showInlineSuccess(a){this.displayedText="",a&&a.message&&this.translate.get(a.message).subscribe(g=>this.displayedText=g),this.inlineAlertType="success",this.showCancelAction=!1,this.inlineAlertClosable=!0,this.alertClose=!1,this.useAppLevelStyle=!1}showInlineWarning(a){this.displayedText="",a&&a.message&&this.translate.get(a.message).subscribe(g=>this.displayedText=g),this.inlineAlertType="warning",this.showCancelAction=!1,this.inlineAlertClosable=!0,this.alertClose=!1,this.useAppLevelStyle=!1}close(){this.alertClose=!0}blink(){}confirmCancel(){this.confirmEvt.emit(!0)}}return u.\u0275fac=function(a){return new(a||u)(t.Y36(m.sK),t.Y36(v.q))},u.\u0275cmp=t.Xpm({type:u,selectors:[["inline-alert"]],outputs:{confirmEvt:"confirmEvt",closeEvt:"closeEvt"},decls:1,vars:1,consts:[[3,"clrAlertClosed","clrAlertType","clrAlertClosable","clrAlertAppLevel","clrAlertClosedChange",4,"ngIf"],[3,"clrAlertClosed","clrAlertType","clrAlertClosable","clrAlertAppLevel","clrAlertClosedChange"],["class","alert-item",4,"ngIf"],[1,"alert-item"],[1,"alert-text"],["class","alert-actions",4,"ngIf"],[1,"alert-actions"],[1,"btn","btn-link","alert-btn-link",3,"click"]],template:function(a,g){1&a&&t.YNc(0,d,2,5,"clr-alert",0),2&a&&t.Q6J("ngIf",!g.alertClose)},dependencies:[e.O5,A.TIm,A.I9z,m.X$],styles:[".alert-text-blink[_ngcontent-%COMP%]{color:red;font-weight:bolder}.alert-btn-link[_ngcontent-%COMP%]{padding:0!important;min-width:30px!important}.alert-item[_ngcontent-%COMP%]{text-align:center;align-items:center}[_nghost-%COMP%]  .alert-icon-wrapper{display:inline}"]}),u})()},7809:(b,L,s)=>{s.d(L,{S:()=>c});var t=s(4650),C=s(7782),m=s(6742),v=s(9739),e=s(5832),A=s(1992),x=s(858),_=s(6895),d=s(2466),E=s(8025),u=s(9151),f=s(5412),a=s(5900),g=s(9375),M=s(8372),T=s(7579),Z=s(4006);const l="globalSearch";let O=(()=>{class i{constructor(n,o,h,I,S,K,G){this.searchTrigger=n,this.router=o,this.activatedRoute=h,this.location=I,this.appConfigService=S,this.translate=K,this.skinableConfig=G,this.searchTerms=new T.x,this.isResPanelOpened=!1,this._searchTerm=""}ngOnInit(){let n=this.skinableConfig.getSkinConfig();n&&n.product&&n.product.name?this.translate.get("GLOBAL_SEARCH.PLACEHOLDER",{param:n.product.name}).subscribe(o=>{this.placeholderText=o}):this.translate.get("GLOBAL_SEARCH.PLACEHOLDER",{param:"Harbor"}).subscribe(o=>{this.placeholderText=o}),this.searchSub=this.searchTerms.pipe((0,M.b)(500)).subscribe(o=>{this.searchTrigger.triggerSearch(o)}),this.closeSub=this.searchTrigger.searchClearChan$.subscribe(o=>{this.searchTerm=""}),this.appConfigService.isIntegrationMode()&&(this.placeholderText="GLOBAL_SEARCH.PLACEHOLDER_VIC"),this._searchTerm=this.activatedRoute.snapshot.queryParams[l],this._searchTerm&&this.searchTerms.next(this._searchTerm)}ngOnDestroy(){this.searchSub&&this.searchSub.unsubscribe(),this.closeSub&&this.closeSub.unsubscribe()}search(n){this.searchTerms.next(n.trim())}get searchTerm(){return this._searchTerm}set searchTerm(n){let o;o=n?this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{[l]:n}}).toString():this.router.createUrlTree([],{relativeTo:this.activatedRoute}).toString(),this.location.replaceState(o),this._searchTerm=n}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(f.V),t.Y36(x.F0),t.Y36(x.gz),t.Y36(_.Ye),t.Y36(E._),t.Y36(d.sK),t.Y36(a.s))},i.\u0275cmp=t.Xpm({type:i,selectors:[["global-search"]],decls:5,vars:4,consts:[[1,"search"],["for","search_input"],["autocomplete","off","name","globalSearchBox","id","search_input","type","text",1,"search-input",3,"ngModel","placeholder","ngModelChange","keyup"],["globalSearchBox",""]],template:function(n,o){if(1&n){const h=t.EpF();t.TgZ(0,"form",0)(1,"label",1)(2,"input",2,3),t.NdJ("ngModelChange",function(S){return o.searchTerm=S})("keyup",function(){t.CHM(h);const S=t.MAs(3);return t.KtG(o.search(S.value))}),t.ALo(4,"translate"),t.qZA()()()}2&n&&(t.xp6(2),t.s9C("placeholder",t.lcZ(4,2,o.placeholderText)),t.Q6J("ngModel",o.searchTerm))},dependencies:[Z._Y,Z.Fj,Z.JJ,Z.JL,Z.On,Z.F,g.MgK,d.X$],styles:['.search-overlay[_ngcontent-%COMP%]{display:block;position:fixed;height:100%;width:100%;z-index:999;box-sizing:border-box;background:#fafafa;top:60px;left:0;padding-left:36px;padding-right:36px}.search-header[_ngcontent-%COMP%]{display:inline-block;width:100%;position:relative}.search-close[_ngcontent-%COMP%]{position:absolute;right:24px;cursor:pointer}.search-parent-override[_ngcontent-%COMP%]{position:relative!important}.search-spinner[_ngcontent-%COMP%]{top:50%;left:50%;position:absolute;z-index:1}.grid-header-wrapper[_ngcontent-%COMP%]{text-align:right}.grid-filter[_ngcontent-%COMP%]{position:relative;top:8px;margin:0 auto}.search-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.search[_ngcontent-%COMP%]:before{content:"";display:inline-block;background:#fafafa;opacity:.15;height:40px;width:1px;top:10px}#results[_ngcontent-%COMP%]{overflow-y:auto;max-height:85%}#placeholder1[_ngcontent-%COMP%]{height:24px}.search-input[_ngcontent-%COMP%]{outline:none}.search-input[_ngcontent-%COMP%]::placeholder{color:#fafafa}']}),i})();function P(i,r){if(1&i&&t._UZ(0,"img",15),2&i){const n=t.oxw();t.uIk("src","images/"+(null==n.customStyle||null==n.customStyle.product?null:n.customStyle.product.logo),t.LSH)}}function y(i,r){1&i&&t._UZ(0,"img",16),2&i&&t.Q6J("src","images/harbor-logo.svg",t.LSH)}function R(i,r){if(1&i&&(t.TgZ(0,"a",17)(1,"span",18),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&i){const n=t.oxw();t.s9C("href",n.admiralLink,t.LSH),t.xp6(2),t.Oqu(t.lcZ(3,2,"APP_TITLE.MGMT"))}}function D(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",19),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.registryAction())}),t.TgZ(1,"span",18),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"APP_TITLE.REG")))}function U(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",27),t.NdJ("click",function(){const I=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.switchLanguage(I[0]))}),t._uU(1),t.qZA()}if(2&i){const n=r.$implicit,o=t.oxw(3);t.ekj("lang-selected",o.matchLang(n[0])),t.xp6(1),t.Oqu(n[1])}}function N(i,r){if(1&i&&(t.TgZ(0,"clr-dropdown-menu"),t.YNc(1,U,2,3,"a",26),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.guiLanguages)}}function w(i,r){if(1&i&&(t.TgZ(0,"clr-dropdown",20)(1,"button",21),t._UZ(2,"clr-icon",22),t.TgZ(3,"span",23),t._uU(4),t.qZA(),t._UZ(5,"clr-icon",24),t.qZA(),t.YNc(6,N,2,1,"clr-dropdown-menu",25),t.qZA()),2&i){const n=t.oxw();t.xp6(4),t.Oqu(n.currentLang)}}function H(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",27),t.NdJ("click",function(){const I=t.CHM(n).$implicit,S=t.oxw(3);return t.KtG(S.switchDatetimeRendering(I[0]))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&i){const n=r.$implicit,o=t.oxw(3);t.ekj("locale-selected",o.matchDatetimeRendering(n[0])),t.xp6(1),t.Oqu(t.lcZ(2,3,n[1]))}}function J(i,r){if(1&i&&(t.TgZ(0,"clr-dropdown-menu"),t.YNc(1,H,3,5,"a",30),t.qZA()),2&i){const n=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",n.guiDatetimeRenderings)}}function q(i,r){if(1&i&&(t.TgZ(0,"clr-dropdown",28)(1,"button",21),t._UZ(2,"clr-icon",29),t.TgZ(3,"span",23),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"clr-icon",24),t.qZA(),t.YNc(7,J,2,1,"clr-dropdown-menu",25),t.qZA()),2&i){const n=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,1,n.currentDatetimeRendering))}}function Y(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",27),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(3);return t.KtG(h.openChangePwdModal())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACCOUNT_SETTINGS.CHANGE_PWD")))}function j(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"clr-dropdown-menu",36)(1,"a",27),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.openAccountSettingsModal())}),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.YNc(4,Y,3,3,"a",37),t.TgZ(5,"a",27),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.openAboutDialog())}),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"div",38),t.TgZ(9,"a",27),t.NdJ("click",function(){t.CHM(n);const h=t.oxw(2);return t.KtG(h.logOut())}),t._uU(10),t.ALo(11,"translate"),t.qZA()()}if(2&i){const n=t.oxw(2);t.Q6J("clrPosition","bottom-right"),t.xp6(2),t.Oqu(t.lcZ(3,5,"ACCOUNT_SETTINGS.PROFILE")),t.xp6(2),t.Q6J("ngIf",n.canChangePassword),t.xp6(2),t.Oqu(t.lcZ(7,7,"ACCOUNT_SETTINGS.ABOUT")),t.xp6(4),t.Oqu(t.lcZ(11,9,"ACCOUNT_SETTINGS.LOGOUT"))}}function k(i,r){if(1&i&&(t.TgZ(0,"clr-dropdown",31)(1,"button",32),t._UZ(2,"clr-icon",33),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._UZ(5,"clr-icon",34),t.qZA(),t.YNc(6,j,12,11,"clr-dropdown-menu",35),t.qZA()),2&i){const n=t.oxw();t.xp6(4),t.Oqu(n.accountName)}}function B(i,r){if(1&i){const n=t.EpF();t.TgZ(0,"a",39),t.NdJ("click",function(){t.CHM(n);const h=t.oxw();return t.KtG(h.openAboutDialog())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"ACCOUNT_SETTINGS.ABOUT")))}let c=(()=>{class i{constructor(n,o,h,I,S,K,G,F){this.session=n,this.router=o,this.location=h,this.translate=I,this.appConfigService=S,this.msgHandler=K,this.searchTrigger=G,this.skinableConfig=F,this.showAccountSettingsModal=new t.vpe,this.showDialogModalAction=new t.vpe,this.guiLanguages=Object.entries(m.a2),this.guiDatetimeRenderings=Object.entries(m.Nr),this.selectedLang=m.V6,this.selectedDatetimeRendering=m.e7,this.appTitle="APP_TITLE.HARBOR"}ngOnInit(){this.customStyle=this.skinableConfig.getSkinConfig(),this.selectedLang=this.translate.currentLang,this.selectedDatetimeRendering=(0,e.tY)(),this.appConfigService.isIntegrationMode()&&(this.appTitle="APP_TITLE.VIC"),this.appConfigService.getConfig().read_only&&this.msgHandler.handleReadOnly()}get isSessionValid(){return null!=this.session.getCurrentUser()}get accountName(){return this.session.getCurrentUser()?this.session.getCurrentUser().username:"N/A"}get currentLang(){return m.a2[this.selectedLang]}get currentDatetimeRendering(){return m.Nr[this.selectedDatetimeRendering]}get admiralLink(){return this.appConfigService.getAdmiralEndpoint(window.location.href)}get isIntegrationMode(){return this.appConfigService.isIntegrationMode()}get canDownloadCert(){return this.session.getCurrentUser()&&this.session.getCurrentUser().has_admin_role&&this.appConfigService.getConfig()&&this.appConfigService.getConfig().has_ca_root}get canChangePassword(){let n=this.session.getCurrentUser(),o=this.appConfigService.getConfig();return n&&(o&&!("ldap_auth"===o.auth_mode||"uaa_auth"===o.auth_mode||"oidc_auth"===o.auth_mode)||1===n.user_id&&"admin"===n.username)}matchLang(n){return n===this.selectedLang}matchDatetimeRendering(n){return n===this.selectedDatetimeRendering}openAccountSettingsModal(){this.showAccountSettingsModal.emit({modalName:C.D.USER_PROFILE,modalFlag:!0})}openChangePwdModal(){this.showDialogModalAction.emit({modalName:C.D.CHANGE_PWD,modalFlag:!0})}openAboutDialog(){this.showDialogModalAction.emit({modalName:C.D.ABOUT,modalFlag:!0})}logOut(){this.router.navigate([m.ZB.EMBEDDED_SIGN_IN],{queryParams:{signout:!0,redirect_url:this.location.pathname}}),this.searchTrigger.closeSearch(!0)}switchLanguage(n){this.selectedLang=n,localStorage.setItem(m.R4,n),this.translate.use(n).subscribe(()=>window.location.reload())}switchDatetimeRendering(n){this.selectedDatetimeRendering=n,localStorage.setItem(m.Vd,n),window.location.reload()}homeAction(){null!=this.session.getCurrentUser()?this.router.navigate([m.ZB.HARBOR_DEFAULT]):this.router.navigate([m.ZB.HARBOR_ROOT]),this.searchTrigger.closeSearch(!0)}registryAction(){this.searchTrigger.closeSearch(!0)}getBgColor(){if(this.customStyle&&this.customStyle.headerBgColor&&localStorage){if(localStorage.getItem(v.BJ)===v.XO.LIGHT)return`background-color:${this.customStyle.headerBgColor.lightMode} !important`;if(localStorage.getItem(v.BJ)===v.XO.DARK)return`background-color:${this.customStyle.headerBgColor.darkMode} !important`}return null}}return i.\u0275fac=function(n){return new(n||i)(t.Y36(A.m),t.Y36(x.F0),t.Y36(_.lw),t.Y36(d.sK),t.Y36(E._),t.Y36(u.d),t.Y36(f.V),t.Y36(a.s))},i.\u0275cmp=t.Xpm({type:i,selectors:[["navigator"]],outputs:{showAccountSettingsModal:"showAccountSettingsModal",showDialogModalAction:"showDialogModalAction"},decls:19,vars:12,consts:[[1,"header-5","header"],[1,"branding"],["href","javascript:void(0)",1,"nav-link",3,"click"],["class","headerLogo",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"title"],[1,"header-nav"],["class","nav-link",3,"href",4,"ngIf"],["href","javascript:void(0)","routerLink","/harbor","class","active nav-link",3,"click",4,"ngIf"],[1,"header-actions"],["class","dropdown-lang dropdown bottom-left",4,"ngIf"],["class","dropdown-locale dropdown bottom-left",4,"ngIf"],[1,"nav-divider"],["class","dropdown",4,"ngIf"],["href","javascript:void(0)","id","aboutMenu","class","nav-link nav-text nav-about-link",3,"click",4,"ngIf"],[1,"headerLogo"],[1,"harbor-logo",3,"src"],[1,"nav-link",3,"href"],[1,"nav-text"],["href","javascript:void(0)","routerLink","/harbor",1,"active","nav-link",3,"click"],[1,"dropdown-lang","dropdown","bottom-left"],["clrDropdownToggle","",1,"nav-icon","nav-icon-width"],["shape","world",1,"icon-left"],[1,"currentLocale"],["size","10","shape","caret down"],[4,"clrIfOpen"],["href","javascript:void(0)","clrDropdownItem","",3,"lang-selected","click",4,"ngFor","ngForOf"],["href","javascript:void(0)","clrDropdownItem","",3,"click"],[1,"dropdown-locale","dropdown","bottom-left"],["shape","date",1,"icon-left"],["href","javascript:void(0)","clrDropdownItem","",3,"locale-selected","click",4,"ngFor","ngForOf"],[1,"dropdown"],["clrDropdownToggle","",1,"nav-text"],["shape","user","size","24",1,"is-inverse","user-icon"],["size","10","shape","caret down",1,"user-down"],[3,"clrPosition",4,"clrIfOpen"],[3,"clrPosition"],["href","javascript:void(0)","clrDropdownItem","",3,"click",4,"ngIf"],[1,"dropdown-divider"],["href","javascript:void(0)","id","aboutMenu",1,"nav-link","nav-text","nav-about-link",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"clr-header",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return o.homeAction()}),t.YNc(3,P,1,1,"img",3),t.YNc(4,y,1,1,"ng-template",null,4,t.W1O),t.TgZ(6,"span",5),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.TgZ(9,"div",6),t.YNc(10,R,4,4,"a",7),t.YNc(11,D,4,3,"a",8),t.qZA(),t._UZ(12,"global-search"),t.TgZ(13,"div",9),t.YNc(14,w,7,1,"clr-dropdown",10),t.YNc(15,q,8,3,"clr-dropdown",11),t._UZ(16,"div",12),t.YNc(17,k,7,1,"clr-dropdown",13),t.YNc(18,B,3,3,"a",14),t.qZA()()),2&n){const h=t.MAs(5);t.uIk("style",o.getBgColor(),t.Ckj),t.xp6(3),t.Q6J("ngIf",null==o.customStyle||null==o.customStyle.product?null:o.customStyle.product.logo)("ngIfElse",h),t.xp6(4),t.Oqu(null!=o.customStyle&&null!=o.customStyle.product&&o.customStyle.product.name?null==o.customStyle||null==o.customStyle.product?null:o.customStyle.product.name:t.lcZ(8,10,o.appTitle)),t.xp6(3),t.Q6J("ngIf",o.isIntegrationMode),t.xp6(1),t.Q6J("ngIf",o.isIntegrationMode),t.xp6(3),t.Q6J("ngIf",!o.isIntegrationMode),t.xp6(1),t.Q6J("ngIf",!o.isIntegrationMode),t.xp6(2),t.Q6J("ngIf",o.isSessionValid),t.xp6(1),t.Q6J("ngIf",!o.isSessionValid)}},dependencies:[_.sg,_.O5,g.qvL,g.nqY,g.uUW,g.toC,g.f_W,g.zwp,g.ZUS,g.lU3,x.yS,O,d.X$],styles:['.sign-in-override[_ngcontent-%COMP%]{padding-left:0!important;padding-right:5px!important}.sign-up-override[_ngcontent-%COMP%]{padding-left:5px!important}.custom-divider[_ngcontent-%COMP%]{display:inline-block;border-right:2px inset snow;padding:2px 0;vertical-align:middle;height:24px}.locale-selected[_ngcontent-%COMP%]{font-weight:700}.nav-divider[_ngcontent-%COMP%]{display:inline-block;width:1px;height:40px;background-color:#fafafa;position:relative;top:10px;opacity:.15;content:""}.nav-about-link[_ngcontent-%COMP%]{padding-left:1.6rem!important;padding-right:1rem!important;min-width:125px;text-align:left!important}.harbor-logo[_ngcontent-%COMP%]{width:40px;margin-right:15px}.nav-icon-width[_ngcontent-%COMP%]{width:auto!important;padding-left:18px!important}.nav-icon-width[_ngcontent-%COMP%]   .icon-left[_ngcontent-%COMP%]{left:-8px}.nav-icon-width[_ngcontent-%COMP%]   .currentLocale[_ngcontent-%COMP%]{padding-right:40px}.user-icon[_ngcontent-%COMP%]{left:-2px}.headerLogo[_ngcontent-%COMP%]{width:36px;height:36px;object-fit:fill}.dropdown-item[_ngcontent-%COMP%]{outline:none}.dropdown-locale[_ngcontent-%COMP%]{padding-right:.5rem}.user-down[_ngcontent-%COMP%]{right:1rem!important}']}),i})()},1201:(b,L,s)=>{s.d(L,{GA:()=>e});var t=s(4006),C=s(4650);const m=/[\u4e00-\u9fa5]/;let e=(()=>{class A{constructor(){this.valFn=t.kI.nullValidator}ngOnChanges(_){const d=_.maxLengthExt;this.valFn=d?function v(A){return x=>{const _=x.value;if(!_||""===_.trim())return null;const d=new RegExp(m,"i");let E=0,u=_.length;for(let f=0;f<u;f++)d.test(_[f])?E+=3:E++;return E>A?{maxLengthExt:E}:null}}(d.currentValue):t.kI.nullValidator}validate(_){return this.valFn(_)}}return A.\u0275fac=function(_){return new(_||A)},A.\u0275dir=C.lG2({type:A,selectors:[["","maxLengthExt",""]],inputs:{maxLengthExt:"maxLengthExt"},features:[C._Bn([{provide:t.Cf,useExisting:A,multi:!0}]),C.TTD]}),A})()},3046:(b,L,s)=>{s.d(L,{Z:()=>x});var t=s(6895),C=s(6742),m=s(5832),v=s(4650);const e=new Date("1970-1-1"),A={"iso-8601":function _(d){switch(d){case"short":return"yyyy-MM-dd, HH:mm";case"medium":return"yyyy-MM-dd, HH:mm:ss";case"long":return"yyyy-MM-dd, HH:mm:ss z";case"full":return"EEEE yyyy-MM-dd, HH:mm:ss zzzz";case"shortDate":case"mediumDate":return"yyyy-MM-dd";case"longDate":return"yyyy-MM-dd z";case"fullDate":return"EEEE yyyy-MM-dd zzzz";case"shortTime":return"HH:mm";case"mediumTime":return"HH:mm:ss";case"longTime":return"HH:mm:ss z";case"fullTime":return"HH:mm:ss zzzz";default:return d}},"locale-default":d=>d};let x=(()=>{class d{transform(u,f){if(u&&u<=e)return"-";const a=localStorage.getItem(C.R4),g=(0,m.yv)(a)?a:C.V6,M=A[(0,m.tY)()];return new t.uU(g).transform(u,M(f||"medium"))}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275pipe=v.Yjl({name:"harborDatetime",type:d,pure:!0}),d})()}}]);