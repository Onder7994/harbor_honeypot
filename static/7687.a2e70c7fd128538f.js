"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[7687],{6820:(j,I,l)=>{l.d(I,{b:()=>A});var a=l(529),E=l(2529),e=l(9300),f=l(4004),w=l(4650),O=l(5060);let A=(()=>{class v extends E.b{constructor(s,p){super(s,p)}listAllRepositoriesResponse(s){let p=this.newParams(),c=new a.WM;null!=s.sort&&(p=p.set("sort",s.sort.toString())),null!=s.q&&(p=p.set("q",s.q.toString())),null!=s.pageSize&&(p=p.set("page_size",s.pageSize.toString())),null!=s.page&&(p=p.set("page",s.page.toString())),null!=s.XRequestId&&(c=c.set("X-Request-Id",s.XRequestId.toString()));let _=new a.aW("GET",this.rootUrl+"/repositories",null,{headers:c,params:p,responseType:"json"});return this.http.request(_).pipe((0,e.h)(u=>u instanceof a.Zn),(0,f.U)(u=>u))}listAllRepositories(s){return this.listAllRepositoriesResponse(s).pipe((0,f.U)(p=>p.body))}listRepositoriesResponse(s){let p=this.newParams(),c=new a.WM;null!=s.sort&&(p=p.set("sort",s.sort.toString())),null!=s.q&&(p=p.set("q",s.q.toString())),null!=s.pageSize&&(p=p.set("page_size",s.pageSize.toString())),null!=s.page&&(p=p.set("page",s.page.toString())),null!=s.XRequestId&&(c=c.set("X-Request-Id",s.XRequestId.toString()));let _=new a.aW("GET",this.rootUrl+`/projects/${s.projectName}/repositories`,null,{headers:c,params:p,responseType:"json"});return this.http.request(_).pipe((0,e.h)(u=>u instanceof a.Zn),(0,f.U)(u=>u))}listRepositories(s){return this.listRepositoriesResponse(s).pipe((0,f.U)(p=>p.body))}getRepositoryResponse(s){let p=this.newParams(),c=new a.WM;null!=s.XRequestId&&(c=c.set("X-Request-Id",s.XRequestId.toString()));let _=new a.aW("GET",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,null,{headers:c,params:p,responseType:"json"});return this.http.request(_).pipe((0,e.h)(u=>u instanceof a.Zn),(0,f.U)(u=>u))}getRepository(s){return this.getRepositoryResponse(s).pipe((0,f.U)(p=>p.body))}updateRepositoryResponse(s){let p=this.newParams(),c=new a.WM,m=null;m=s.repository,null!=s.XRequestId&&(c=c.set("X-Request-Id",s.XRequestId.toString()));let _=new a.aW("PUT",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,m,{headers:c,params:p,responseType:"json"});return this.http.request(_).pipe((0,e.h)(u=>u instanceof a.Zn),(0,f.U)(u=>u))}updateRepository(s){return this.updateRepositoryResponse(s).pipe((0,f.U)(p=>p.body))}deleteRepositoryResponse(s){let p=this.newParams(),c=new a.WM;null!=s.XRequestId&&(c=c.set("X-Request-Id",s.XRequestId.toString()));let _=new a.aW("DELETE",this.rootUrl+`/projects/${s.projectName}/repositories/${s.repositoryName}`,null,{headers:c,params:p,responseType:"json"});return this.http.request(_).pipe((0,e.h)(u=>u instanceof a.Zn),(0,f.U)(u=>u))}deleteRepository(s){return this.deleteRepositoryResponse(s).pipe((0,f.U)(p=>p.body))}}return v.listAllRepositoriesPath="/repositories",v.listRepositoriesPath="/projects/{project_name}/repositories",v.getRepositoryPath="/projects/{project_name}/repositories/{repository_name}",v.updateRepositoryPath="/projects/{project_name}/repositories/{repository_name}",v.deleteRepositoryPath="/projects/{project_name}/repositories/{repository_name}",v.\u0275fac=function(s){return new(s||v)(w.LFG(O.p),w.LFG(a.eN))},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},7687:(j,I,l)=>{l.r(I),l.d(I,{RepositoryModule:()=>Ye});var a=l(858),E=l(6296),e=l(4650),f=l(4128),w=l(9646),O=l(8372),A=l(1884),v=l(3900),R=l(8746),s=l(4004),p=l(262),c=l(268),m=l(8348),_=l(3526),u=l(6742),S=l(3819),$=l(529),q=l(5832),ee=l(8726),F=l(38),te=l(2443),Z=l(2466),ie=l(6820),oe=l(312),ne=l(1992),h=l(9375),P=l(6895),re=l(4241),se=l(2421),le=l(7632);const ae=["tagCopyImage"],pe=["pushCopyImage"],ce=["tagCopyChart"],de=["pushCopyChart"],he=["pushCopyCnab"],ge=["copyAlert"];function ue(n,d){1&n&&(e.TgZ(0,"clr-tooltip-content",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.Q6J("clrPosition","top-right")("clrSize","md"),e.xp6(1),e.hij(" ",e.lcZ(2,3,"PUSH_IMAGE.TOOLTIP")," "))}function me(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"clr-dropdown-menu",3)(1,"div",4)(2,"section")(3,"span")(4,"h4",5),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"span")(8,"clr-tooltip"),e._UZ(9,"clr-icon",6),e.YNc(10,ue,3,5,"clr-tooltip-content",7),e.qZA()(),e.TgZ(11,"div"),e._uU(12," - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - "),e.qZA()(),e.TgZ(13,"section"),e._UZ(14,"inline-alert",null,8),e.qZA(),e.TgZ(16,"section")(17,"h5",9),e._uU(18),e.ALo(19,"translate"),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"article",10)(22,"hbr-copy-input",11,12),e.NdJ("onCopyError",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCpError(o))}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"article",10)(26,"hbr-copy-input",11,13),e.NdJ("onCopyError",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCpError(o))}),e.ALo(28,"translate"),e.qZA()()(),e.TgZ(29,"section")(30,"h5"),e._uU(31),e.ALo(32,"translate"),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"article",10)(35,"hbr-copy-input",11,14),e.NdJ("onCopyError",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCpError(o))}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"article",10)(39,"hbr-copy-input",11,15),e.NdJ("onCopyError",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCpError(o))}),e.ALo(41,"translate"),e.qZA()()(),e.TgZ(42,"section")(43,"h5"),e._uU(44),e.ALo(45,"translate"),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"article",10)(48,"hbr-copy-input",11,16),e.NdJ("onCopyError",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCpError(o))}),e.ALo(50,"translate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.Q6J("clrPosition","bottom-right"),e.xp6(5),e.hij(" ",e.lcZ(6,18,"PUSH_IMAGE.TITLE")," "),e.xp6(13),e.AsE(" ",e.lcZ(19,20,"PUSH_IMAGE.DOCKER")," ",e.lcZ(20,22,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(24,24,"PUSH_IMAGE.TAG_COMMAND")),e.s9C("defaultValue",t.tagCommandImage),e.xp6(4),e.s9C("headerTitle",e.lcZ(28,26,"PUSH_IMAGE.PUSH_COMMAND")),e.s9C("defaultValue",t.pushCommandImage),e.xp6(5),e.AsE(" ",e.lcZ(32,28,"PUSH_IMAGE.HELM")," ",e.lcZ(33,30,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(37,32,"PUSH_IMAGE.TAG_COMMAND_CHART")),e.s9C("defaultValue",t.tagCommandChart),e.xp6(4),e.s9C("headerTitle",e.lcZ(41,34,"PUSH_IMAGE.PUSH_COMMAND_CHART")),e.s9C("defaultValue",t.pushCommandChart),e.xp6(5),e.AsE(" ",e.lcZ(45,36,"PUSH_IMAGE.CNAB")," ",e.lcZ(46,38,"PUSH_IMAGE.TITLE")," "),e.xp6(4),e.s9C("headerTitle",e.lcZ(50,40,"PUSH_IMAGE.PUSH_COMMAND_CNAB")),e.s9C("defaultValue",t.pushCommandCnab)}}let _e=(()=>{class n{constructor(){this.registryUrl="unknown",this.projectName="unknown"}get tagCommandImage(){return`docker tag SOURCE_IMAGE[:TAG] ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG]`}get pushCommandImage(){return`docker push ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG]`}get tagCommandChart(){return"helm package CHART_PATH"}get pushCommandChart(){return`helm push CHART_PACKAGE oci://${this.registryUrl}/${this.projectName}`}get pushCommandCnab(){return`cnab-to-oci push CNAB_PATH --target ${this.registryUrl}/${this.projectName}/REPOSITORY[:TAG] --auto-update-bundle`}onclick(){this.tagCopyImageInput&&this.tagCopyImageInput.reset(),this.pushCopImageyInput&&this.pushCopImageyInput.reset(),this.tagCopyChartInput&&this.tagCopyChartInput.reset(),this.pushCopyChartInput&&this.pushCopyChartInput.reset(),this.pushCopCnabyInput&&this.pushCopCnabyInput.reset(),this.copyAlert&&this.copyAlert.close()}onCpError(t){this.copyAlert&&this.copyAlert.showInlineError("PUSH_IMAGE.COPY_ERROR")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["hbr-push-image-button"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ae,5),e.Gf(pe,5),e.Gf(ce,5),e.Gf(de,5),e.Gf(he,5),e.Gf(ge,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.tagCopyImageInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopImageyInput=o.first),e.iGM(o=e.CRH())&&(i.tagCopyChartInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopyChartInput=o.first),e.iGM(o=e.CRH())&&(i.pushCopCnabyInput=o.first),e.iGM(o=e.CRH())&&(i.copyAlert=o.first)}},inputs:{registryUrl:"registryUrl",projectName:"projectName"},features:[e._Bn([])],decls:8,vars:5,consts:[["clrDropdownToggle","",1,"btn","btn-link","btn-font",3,"click"],["shape","caret down"],["class","dropdown-width",3,"clrPosition",4,"clrIfOpen"],[1,"dropdown-width",3,"clrPosition"],[1,"commands-container"],[1,"h5-override"],["clrTooltipTrigger","","shape","info-circle","size","24",1,"info-tips-icon"],[3,"clrPosition","clrSize",4,"clrIfOpen"],["copyAlert",""],[1,"mt-0"],[1,"commands-section"],["inputSize","65",3,"headerTitle","defaultValue","onCopyError"],["tagCopyImage",""],["pushCopyImage",""],["tagCopyChart",""],["pushCopyChart",""],["pushCopyCnab",""],[3,"clrPosition","clrSize"]],template:function(t,i){1&t&&(e.TgZ(0,"div")(1,"clr-dropdown")(2,"button",0),e.NdJ("click",function(){return i.onclick()}),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"translate"),e._UZ(6,"clr-icon",1),e.qZA(),e.YNc(7,me,51,42,"clr-dropdown-menu",2),e.qZA()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,e.lcZ(5,3,"PUSH_IMAGE.TITLE"))," "))},dependencies:[h.qvL,h.nqY,h.f_W,h.zwp,h.ZUS,h.Jmj,h.bMv,h.zDF,se.l,le.s,Z.X$,P.gd],styles:[".commands-container[_ngcontent-%COMP%]{min-width:360px;max-width:720px;padding-left:24px}.h5-override[_ngcontent-%COMP%]{display:inline-block!important;margin-top:0!important;margin-bottom:12px}.commands-section[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:24px}.info-tips-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.command-title[_ngcontent-%COMP%]{font-size:14px}.command-input[_ngcontent-%COMP%]{font-size:14px;font-weight:500;border:0}[_nghost-%COMP%]  .dropdown-menu{min-width:360px;max-width:720px}.btn-font[_ngcontent-%COMP%]{font-size:14px!important}.hide[_ngcontent-%COMP%]{display:none}.inputTarget[_ngcontent-%COMP%]{width:1px;min-width:0;padding:0;opacity:.01}.dropdown-width[_ngcontent-%COMP%]{min-width:600px}"]}),n})();const fe=["itemsHolder"],Ce=["cardItem"];function ve(n,d){}const ye=function(n){return{item:n}};function Pe(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"span",6,7),e.NdJ("mouseenter",function(){const r=e.CHM(t).index,g=e.oxw();return e.KtG(g.onCardEnter(r))})("mouseleave",function(){const r=e.CHM(t).index,g=e.oxw();return e.KtG(g.onCardLeave(r))}),e.YNc(2,ve,0,0,"ng-template",8),e.qZA()}if(2&n){const t=d.$implicit,i=d.index,o=e.oxw();e.Q6J("ngStyle",o.cardStyles[i]),e.xp6(2),e.Q6J("ngTemplateOutlet",o.gridItemTmpl)("ngTemplateOutletContext",e.VKq(3,ye,t))}}function xe(n,d){1&n&&(e.TgZ(0,"span",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"REPOSITORY.NO_ITEMS")," "))}const Te=function(n,d){return{"central-block-loading":n,"central-block-loading-more":d}};function we(n,d){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"span",11)(2,"div",12),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(1,Te,t.isFirstPage,!t.isFirstPage))}}let Re=(()=>{class n{constructor(t){this.translate=t,this.expectScrollPercent=70,this.loadNextPageEvent=new e.vpe,this._items=[],this.cardStyles=[],this.itemsHolderStyle={},this.loadedPages=0,this.hidePartialRows=!1,this.CurrentScrollPosition={sH:0,sT:0,cH:0},this.preScrollPosition=null}set items(t){let i=t.map((o,r)=>r<this.cardStyles.length?this.cardStyles[r]:{opacity:"0",overflow:"hidden"});this.cardStyles=i,this._items=t}ngAfterViewInit(){this.cards.changes.subscribe(()=>{this.throttleLayout()}),this.throttleLayout()}get items(){return this._items}onScroll(t){this.preScrollPosition=this.CurrentScrollPosition,this.CurrentScrollPosition={sH:t.target.scrollHeight,sT:t.target.scrollTop,cH:t.target.clientHeight},!this.loading&&this.isScrollDown()&&this.isScrollExpectPercent()&&this.currentPage*this.pageSize<this.totalCount&&this.loadNextPageEvent.emit()}isScrollDown(){return this.preScrollPosition.sT<this.CurrentScrollPosition.sT}isScrollExpectPercent(){return(this.CurrentScrollPosition.sT+this.CurrentScrollPosition.cH)/this.CurrentScrollPosition.sH>this.expectScrollPercent/100}onResize(t){this.throttleLayout()}throttleLayout(){clearTimeout(this.layoutTimeout),this.layoutTimeout=setTimeout(()=>{this.layout.call(this)},40)}get isFirstPage(){return this.currentPage<=1}layout(){let t=this.itemsHolder.nativeElement,i=t.offsetWidth,o=t.querySelectorAll(".card-item"),r=o.length;if(0===r)return void(t.height=0);let g=[];for(let C=0;C<r;C++)g[C]=o[C].offsetHeight;let x=Math.max.apply(null,g),y=window.getComputedStyle(o[0]),G=y.maxWidth,N=parseInt(y.minWidth,10),L=parseInt(G,10),Y=parseInt(y.marginTop,10)+parseInt(y.marginBottom,10),M=parseInt(y.marginLeft,10)+parseInt(y.marginRight,10),z=Math.floor(i/(N+M)),T=Math.max(Math.min(z,r),1),ze=Math.floor(r/T),U=Math.min(Math.floor(i/T)-M,L),V=1===T||z>r?M:(i-M-T*U)/(T-1);this.withAdmiral||(V=M,U=N);let D=r;this.hidePartialRows&&this.totalItemsCount&&r!==this.totalItemsCount&&(D=ze*T);let H=0;for(let C=0;C<D;C++){let k=o[C],Q=window.getComputedStyle(k),B=C%T*(U+V),W=Math.floor(H/T)*(x+Y),K=Q.transform;if(K&&"none"!==K?(this.cardStyles[C]={transform:"translate("+B+"px,"+W+"px) scale(1)",width:U+"px",transition:null,overflow:"hidden"},this.throttleLayout()):(this.cardStyles[C]={transform:"translate("+B+"px,"+W+"px) scale(0)",width:U+"px",transition:"none",overflow:"hidden"},this.throttleLayout()),!k.classList.contains("context-selected")){let X=g[C];"none"===Q.display&&0!==X&&(this.cardStyles[C].display=null),0!==X&&H++}}for(let C=D;C<r;C++)this.cardStyles[C]={display:"none"};this.itemsHolderStyle={height:Math.ceil(H/T)*(x+Y)+"px"}}onCardEnter(t){this.cardStyles[t].overflow="visible"}onCardLeave(t){this.cardStyles[t].overflow="hidden"}trackByFn(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hbr-gridview"]],contentQueries:function(t,i,o){if(1&t&&e.Suo(o,e.Rgc,5),2&t){let r;e.iGM(r=e.CRH())&&(i.gridItemTmpl=r.first)}},viewQuery:function(t,i){if(1&t&&(e.Gf(fe,5),e.Gf(Ce,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.itemsHolder=o.first),e.iGM(o=e.CRH())&&(i.cards=o)}},hostBindings:function(t,i){1&t&&e.NdJ("scroll",function(r){return i.onScroll(r)})("resize",function(r){return i.onResize(r)},!1,e.Jf7)},inputs:{loading:"loading",totalCount:"totalCount",currentPage:"currentPage",pageSize:"pageSize",expectScrollPercent:"expectScrollPercent",withAdmiral:"withAdmiral",items:"items"},outputs:{loadNextPageEvent:"loadNextPageEvent"},decls:6,vars:5,consts:[[1,"grid-content",3,"scroll"],[1,"items",3,"ngStyle"],["itemsHolder",""],["class","card-item",3,"ngStyle","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["class","content-empty",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"card-item",3,"ngStyle","mouseenter","mouseleave"],["cardItem",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"content-empty"],[3,"ngClass"],[1,"vertical-helper"],[1,"spinner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("scroll",function(r){return i.onScroll(r)}),e.TgZ(1,"div",1,2),e.YNc(3,Pe,3,5,"span",3),e.YNc(4,xe,3,3,"span",4),e.qZA(),e.YNc(5,we,3,4,"div",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngStyle",i.itemsHolderStyle),e.xp6(2),e.Q6J("ngForOf",i.items)("ngForTrackBy",i.trackByFn),e.xp6(1),e.Q6J("ngIf",0===i.items.length&&!i.loading),e.xp6(1),e.Q6J("ngIf",i.loading))},dependencies:[h.q0d,P.mk,P.sg,P.O5,P.tP,P.PC,Z.X$],styles:[".grid-content{position:relative;top:66px;left:0;right:0;bottom:0;overflow:auto;max-height:65vh}.card-item{display:block;max-width:400px;min-width:300px;position:absolute;margin-right:40px;transition:width .4s,transform .4s}.content-empty{text-align:center;display:block;margin-top:100px}.central-block-loading{position:absolute;z-index:10;top:0;left:0;right:0;bottom:0;text-align:center}.central-block-loading-more{top:0;left:0;right:0;bottom:0;text-align:center}.central-block-loading-more .spinner{width:1rem;height:1rem}.vertical-helper{display:inline-block;height:100%;vertical-align:middle}.spinner{width:100px;height:100px;vertical-align:middle}\n"],encapsulation:2}),n})();var Ie=l(3046);const Se=["confirmationDialog"],Ee=["gridView"];function Oe(n,d){if(1&n&&(e.TgZ(0,"a",21,22),e._UZ(2,"clr-icon",23),e._uU(3),e.ALo(4,"uppercase"),e.ALo(5,"translate"),e.qZA()),2&n){const t=e.oxw();e.Q6J("href",t.downloadLink,e.LSH),e.xp6(3),e.hij(" ",e.lcZ(4,2,e.lcZ(5,4,"CONFIG.REGISTRY_CERTIFICATE"))," ")}}function Ae(n,d){if(1&n&&e._UZ(0,"hbr-push-image-button",24),2&n){const t=e.oxw();e.Q6J("registryUrl",t.registryUrl)("projectName",t.projectName)}}function Ze(n,d){if(1&n&&(e.TgZ(0,"span",39),e._UZ(1,"img",40),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("src",i.getImgLink(t),e.LSH)}}function be(n,d){if(1&n&&(e.TgZ(0,"clr-dg-row",36)(1,"clr-dg-cell")(2,"a",37),e.YNc(3,Ze,2,1,"span",38),e._uU(4),e.qZA()(),e.TgZ(5,"clr-dg-cell"),e._uU(6),e.qZA(),e.TgZ(7,"clr-dg-cell"),e._uU(8),e.qZA(),e.TgZ(9,"clr-dg-cell"),e._uU(10),e.ALo(11,"harborDatetime"),e.qZA()()),2&n){const t=d.$implicit,i=e.oxw(2);e.Q6J("clrDgItem",t),e.xp6(2),e.Q6J("routerLink",i.getLink(t)),e.xp6(1),e.Q6J("ngIf",i.withAdmiral),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(t.artifact_count),e.xp6(2),e.Oqu(t.pull_count),e.xp6(2),e.Oqu(e.xi3(11,7,t.update_time,"short"))}}function Me(n,d){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){e.oxw();const t=e.MAs(25);e.xp6(1),e.lnq("",t.firstItem+1," - ",t.lastItem+1," ",e.lcZ(2,3,"REPOSITORY.OF"),"")}}const Ue=function(){return[15,25,50]};function Ne(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"clr-datagrid",26),e.NdJ("clrDgRefresh",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.clrLoad(o))})("clrDgSelectedChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedRow=o)}),e.TgZ(2,"clr-dg-action-bar")(3,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteRepos(o.selectedRow))}),e._UZ(4,"clr-icon",28),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"clr-dg-column",29),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"clr-dg-column"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"clr-dg-column",30),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"clr-dg-column",30),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"clr-dg-placeholder"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.YNc(22,be,12,10,"clr-dg-row",31),e.TgZ(23,"clr-dg-footer")(24,"clr-dg-pagination",32,33),e.NdJ("clrDgPageChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.currentPage=o)}),e.TgZ(26,"clr-dg-page-size",34),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.YNc(29,Me,3,5,"span",35),e._uU(30),e.ALo(31,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("clrDgLoading",t.loading)("clrDgSelected",t.selectedRow),e.xp6(2),e.Q6J("disabled",!t.selectedRow.length||!t.hasDeleteRepositoryPermission),e.xp6(2),e.hij("\xa0",e.lcZ(6,21,"REPOSITORY.DELETE")," "),e.xp6(2),e.Q6J("clrDgField","name"),e.xp6(1),e.Oqu(e.lcZ(9,23,"REPOSITORY.NAME")),e.xp6(3),e.Oqu(e.lcZ(12,25,"REPOSITORY.ARTIFACTS_COUNT")),e.xp6(2),e.Q6J("clrDgSortBy","pull_count"),e.xp6(1),e.Oqu(e.lcZ(15,27,"REPOSITORY.PULL_COUNT")),e.xp6(2),e.Q6J("clrDgSortBy","update_time"),e.xp6(1),e.Oqu(e.lcZ(18,29,"REPOSITORY.LAST_MODIFIED")),e.xp6(3),e.Oqu(e.lcZ(21,31,"REPOSITORY.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",t.repositories),e.xp6(2),e.Q6J("clrDgPage",t.currentPage)("clrDgPageSize",t.pageSize)("clrDgTotalItems",t.totalCount),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(37,Ue)),e.xp6(1),e.Oqu(e.lcZ(28,33,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",t.totalCount),e.xp6(1),e.AsE(" ",t.totalCount," ",e.lcZ(31,35,"REPOSITORY.ITEMS")," ")}}function Ge(n,d){if(1&n&&e._UZ(0,"img",40),2&n){const t=e.oxw().item,i=e.oxw(2);e.Q6J("src",i.getImgLink(t),e.LSH)}}function Le(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"button",60),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw(2).item;return e.oxw(2).itemAddInfoEvent(o,r),o.stopPropagation(),e.KtG(o.preventDefault())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw(4);e.Q6J("disabled",!t.hasProjectAdminRole),e.xp6(1),e.hij(" ",e.lcZ(2,2,"REPOSITORY.ADDITIONAL_INFO")," ")}}function De(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"clr-dropdown-menu",58),e.YNc(1,Le,3,4,"button",59),e.TgZ(2,"button",60),e.NdJ("click",function(o){e.CHM(t);const r=e.oxw().item;return e.oxw(2).deleteItemEvent(o,r),o.stopPropagation(),e.KtG(o.preventDefault())}),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.withAdmiral),e.xp6(1),e.Q6J("disabled",!t.hasDeleteRepositoryPermission),e.xp6(1),e.hij(" ",e.lcZ(4,3,"REPOSITORY.DELETE")," ")}}const He=function(n){return{"card-media-block":!0,wrap:n}};function je(n,d){if(1&n&&(e.TgZ(0,"a",43)(1,"div",44)(2,"div",45),e.YNc(3,Ge,1,1,"img",46),e.TgZ(4,"div",47)(5,"span",48),e._uU(6),e.qZA(),e.TgZ(7,"p",49),e._uU(8),e.qZA()()()(),e.TgZ(9,"div",50)(10,"div",51),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",52)(14,"label"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"div",52)(20,"label"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA()(),e.TgZ(25,"div",52)(26,"label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.ALo(31,"harborDatetime"),e.qZA()()(),e.TgZ(32,"div",53)(33,"clr-dropdown",54)(34,"button",55),e.NdJ("click",function(i){return i.stopPropagation(),i.preventDefault()}),e._uU(35),e.ALo(36,"translate"),e._UZ(37,"clr-icon",56),e.qZA(),e.YNc(38,De,5,5,"clr-dropdown-menu",57),e.qZA()()()),2&n){const t=d.item,i=e.oxw(2);e.Q6J("routerLink",i.getLink(t)),e.xp6(2),e.Q6J("ngClass",e.VKq(29,He,!i.withAdmiral)),e.xp6(1),e.Q6J("ngIf",i.withAdmiral),e.xp6(2),e.Q6J("title",t.name),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.Oqu(i.registryUrl),e.xp6(3),e.hij(" ",t.description||e.lcZ(12,16,"REPOSITORY.NO_INFO")," "),e.xp6(4),e.Oqu(e.lcZ(16,18,"REPOSITORY.ARTIFACTS_COUNT")),e.xp6(3),e.Oqu(t.artifact_count),e.xp6(3),e.Oqu(e.lcZ(22,20,"REPOSITORY.PULL_COUNT")),e.xp6(3),e.Oqu(t.pull_count),e.xp6(3),e.Oqu(e.lcZ(28,22,"REPOSITORY.LAST_MODIFIED")),e.xp6(3),e.hij(" ",e.xi3(31,24,t.update_time,"short")," "),e.xp6(3),e.Q6J("clrCloseMenuOnItemClick",!1),e.xp6(1),e.Q6J("disabled",!i.hasDeleteRepositoryPermission),e.xp6(1),e.hij(" ",e.lcZ(36,27,"REPOSITORY.ACTION")," ")}}function qe(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"hbr-gridview",41,42),e.NdJ("loadNextPageEvent",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.loadNextPage())}),e.YNc(2,je,39,31,"ng-template"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("items",t.repositories)("loading",t.loading)("pageSize",t.pageSize)("currentPage",t.currentPage)("totalCount",t.totalCount)("expectScrollPercent",90)("withAdmiral",t.withAdmiral)}}function Fe(n,d){1&n&&(e.TgZ(0,"div",61),e._UZ(1,"div",62),e.qZA())}const J=function(n){return{"is-highlight":n}},Je=[{path:"",component:(()=>{class n{constructor(t,i,o,r,g,x,y,b,G,N,L){this.errorHandlerService=t,this.translateService=i,this.newRepoService=o,this.systemInfoService=r,this.operationService=g,this.userPermissionService=x,this.route=y,this.session=b,this.router=G,this.event=N,this.cd=L,this.isFirstLoadingGridView=!1,this.signedCon={},this.mode="standalone",this.repoProvisionEvent=new e.vpe,this.addInfoEvent=new e.vpe,this.repositories=[],this.repositoriesCopy=[],this.selectedRow=[],this.loading=!0,this.cardHover=!1,this.listHover=!1,this.pageSize=(0,_.tb)(_.V2.REPOSITORY_GRIDVIEW_COMPONENT),this.currentPage=1,this.totalCount=0,this.isProxyCacheProject=!1,localStorage&&(this.isCardView=localStorage.getItem(u.O9)===u.sN),this.downloadLink=_.S$+"/systeminfo/getcert"}get registryUrl(){return this.systemInfo?this.systemInfo.registry_url:""}get withAdmiral(){return"admiral"===this.mode}get canDownloadCert(){return this.systemInfo&&this.systemInfo.has_ca_root}getLink(t){return["/harbor/projects",t.project_id,"repositories",t.name.substr(this.projectName.length+1)]}ngOnChanges(t){t.projectId&&t.projectId.currentValue&&this.refresh()}ngOnInit(){this.projectId=this.route.snapshot.parent.parent.params.id;let t=this.route.snapshot.parent.parent.data;if(t){let i=t.projectResolver;this.hasProjectAdminRole=i.has_project_admin_role,this.projectName=i.name,i.registry_id&&(this.isProxyCacheProject=!0)}this.hasSignedIn=null!==this.session.getCurrentUser(),this.getSystemInfo(),this.isCardView&&this.doSearchRepoNames("",!0),this.lastFilteredRepoName="",this.getHelmChartVersionPermission(this.projectId),this.searchSub||(this.searchSub=this.filterComponent.filterTerms.pipe((0,O.b)(500),(0,A.x)(),(0,v.w)(i=>{this.lastFilteredRepoName=i,this.currentPage=1;let o={projectName:this.projectName,page:this.currentPage,pageSize:this.pageSize};return this.lastFilteredRepoName&&(o.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),this.loading=!0,this.newRepoService.listRepositoriesResponse(o).pipe((0,R.x)(()=>this.loading=!1))})).subscribe(i=>{this.totalCount=+i.headers.get("x-total-count"),this.repositories=i.body},i=>{this.errorHandlerService.error(i)}))}getSystemInfo(){this.systemInfoService.getSystemInfo().subscribe(t=>this.systemInfo=t,t=>this.errorHandlerService.error(t))}ngOnDestroy(){this.searchSub&&(this.searchSub.unsubscribe(),this.searchSub=null)}confirmDeletion(t){if(t&&8===t.source&&1===t.state){let i=t.data;if(i&&i.length){let o=[];i.forEach(r=>{o.push(this.delOperate(r))}),(0,f.D)(o).subscribe(r=>{let g;r&&r.length&&r.forEach(y=>{y instanceof $.UA&&(g=(0,q.Po)(y))}),g?this.errorHandlerService.error(g):this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(y=>{this.errorHandlerService.info(y)}),this.selectedRow=[];let x=this.getStateAfterDeletion();x?this.clrLoad(x):this.refresh()})}}}delOperate(t){let i=new S.gB;return i.name="OPERATION.DELETE_REPO",i.data.id=t.id,i.state=S.yb.progressing,t.name=t.name.substr(this.projectName.length+1),i.data.name=t.name,this.operationService.publishInfo(i),this.newRepoService.deleteRepository({repositoryName:(0,_.gI)(t.name),projectName:this.projectName}).pipe((0,s.U)(o=>{this.translateService.get("BATCH.DELETED_SUCCESS").subscribe(r=>{(0,S.hm)(i,S.yb.success)})}),(0,p.K)(o=>{const r=(0,q.Po)(o);return this.translateService.get(r).subscribe(g=>{(0,S.hm)(i,S.yb.failure,g)}),(0,w.of)(o)}))}doSearchRepoNames(t,i){this.lastFilteredRepoName=t,this.currentPage=1;let o=this.currentState;(!o||!o.page)&&(o={page:{}}),o.page.size=this.pageSize,o.page.from=0,o.page.to=this.pageSize-1,this.clrLoad(o,i)}deleteRepos(t){if(t&&t.length){let i=[];t.forEach(o=>{i.push(o.name)}),this.confirmationDialogSet("REPOSITORY.DELETION_TITLE_REPO","",i.join(","),t,"REPOSITORY.DELETION_SUMMARY_REPO",2)}}confirmationDialogSet(t,i,o,r,g,x){this.translateService.get(g,{repoName:o,signedImages:i}).subscribe(y=>{let b=new ee.c(t,g=y,o,r,8,x);this.confirmationDialog.open(b)})}itemAddInfoEvent(t,i){t.stopPropagation();let o=(0,_.d9)(i);o.name=this.registryUrl+":443/"+o.name,this.addInfoEvent.emit(o)}deleteItemEvent(t,i){t.stopPropagation(),this.deleteRepos([i])}refresh(){this.doSearchRepoNames(""),this.event.publish(F.n.REFRESH_PROJECT_INFO)}loadNextPage(){this.currentPage=this.currentPage+1;let t={projectName:this.projectName,page:this.currentPage,pageSize:this.pageSize};this.lastFilteredRepoName&&(t.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),this.loading=!0,this.newRepoService.listRepositoriesResponse(t).pipe((0,R.x)(()=>this.loading=!1)).subscribe(i=>{this.totalCount=+i.headers.get("x-total-count"),this.repositoriesCopy=i.body,this.repositories=this.repositories.concat(this.repositoriesCopy)},i=>{this.errorHandlerService.error(i)})}clrLoad(t,i){if(!t||!t.page)return;this.pageSize=t.page.size,(0,_.Pe)(_.V2.REPOSITORY_GRIDVIEW_COMPONENT,this.pageSize),this.selectedRow=[],this.currentState=t;let o=(0,_.wy)(t);o<=0&&(o=1);let r={projectName:this.projectName,page:o,pageSize:this.pageSize};this.lastFilteredRepoName&&(r.q=encodeURIComponent(`name=~${this.lastFilteredRepoName}`)),t.filters&&t.filters.length&&t.filters.forEach(g=>{r[g.property]=g.value}),t.sort&&t.sort.by&&(r.sort=(0,_.td)(t)),this.loading=!0,i&&(this.isFirstLoadingGridView=!0),this.newRepoService.listRepositoriesResponse(r).pipe((0,R.x)(()=>{this.loading=!1,this.isFirstLoadingGridView=!1})).subscribe(g=>{this.totalCount=+g.headers.get("x-total-count"),this.repositories=g.body,this.repositories=(0,_.Dd)(this.repositories,t),this.signedCon={}},g=>{this.errorHandlerService.error(g)})}getStateAfterDeletion(){let t=this.totalCount-1;if(t<=0)return null;let i=Math.ceil(t/this.pageSize),o=this.currentPage;this.currentPage>i&&(o=i);let r=this.currentState;return r||(r={page:{}}),r.page.size=this.pageSize,r.page.from=(o-1)*this.pageSize,r.page.to=o*this.pageSize-1,r}getImgLink(t){return"/container-image-icons?container-image="+t.name}showCard(t){this.isCardView!==t&&(this.isCardView=t,this.cd.detectChanges(),localStorage&&(this.isCardView?localStorage.setItem(u.O9,u.sN):localStorage.setItem(u.O9,u.rz)),this.isCardView&&this.refresh())}mouseEnter(t){"card"===t?this.cardHover=!0:this.listHover=!0}mouseLeave(t){"card"===t?this.cardHover=!1:this.listHover=!1}isHovering(t){return"card"===t?this.cardHover:this.listHover}getHelmChartVersionPermission(t){let i=this.userPermissionService.getPermission(this.projectId,c._W.REPOSITORY.KEY,c._W.REPOSITORY.VALUE.CREATE),o=this.userPermissionService.getPermission(this.projectId,c._W.REPOSITORY.KEY,c._W.REPOSITORY.VALUE.DELETE);(0,f.D)(i,o).subscribe(r=>{this.hasCreateRepositoryPermission=r[0],this.hasDeleteRepositoryPermission=r[1]},r=>this.errorHandlerService.error(r))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(te.q),e.Y36(Z.sK),e.Y36(ie.b),e.Y36(c.Ob),e.Y36(oe.f9),e.Y36(c.Hx),e.Y36(a.gz),e.Y36(ne.m),e.Y36(a.F0),e.Y36(F.P),e.Y36(e.sBO))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hbr-repository-gridview"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Se,5),e.Gf(Ee,5),e.Gf(m.z,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.confirmationDialog=o.first),e.iGM(o=e.CRH())&&(i.gridView=o.first),e.iGM(o=e.CRH())&&(i.filterComponent=o.first)}},inputs:{urlPrefix:"urlPrefix"},outputs:{repoProvisionEvent:"repoProvisionEvent",addInfoEvent:"addInfoEvent"},features:[e.TTD],decls:22,vars:16,consts:[[1,"repository-box"],[1,"row","position-relative"],[1,"toolbar"],[1,"row","flex-items-xs-right","option-right","rightPos"],[1,"flex-xs-middle"],["rel","noopener noreferrer","target","_blank","class","btn btn-link btn-font download-link",3,"href",4,"ngIf"],["class","push-image-button",3,"registryUrl","projectName",4,"ngIf"],[3,"withDivider","filterPlaceholder","currentValue"],[1,"card-btn",3,"click","mouseenter","mouseleave"],["shape","view-cards",3,"ngClass"],[1,"list-btn",3,"click","mouseenter","mouseleave"],["shape","view-list",3,"ngClass"],[1,"filter-divider"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"row"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],["class","position-relative",3,"items","loading","pageSize","currentPage","totalCount","expectScrollPercent","withAdmiral","loadNextPageEvent",4,"ngIf"],["class","first-loading",4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],["rel","noopener noreferrer","target","_blank",1,"btn","btn-link","btn-font","download-link",3,"href"],["certDownloadLink",""],["shape","download"],[1,"push-image-button",3,"registryUrl","projectName"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","times","size","16"],[3,"clrDgField"],[3,"clrDgSortBy"],[3,"clrDgItem",4,"ngFor","ngForOf"],[3,"clrDgPage","clrDgPageSize","clrDgTotalItems","clrDgPageChange"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],[3,"clrDgItem"],["href","javascript:void(0)",3,"routerLink"],["class","list-img",4,"ngIf"],[1,"list-img"],[3,"src"],[1,"position-relative",3,"items","loading","pageSize","currentPage","totalCount","expectScrollPercent","withAdmiral","loadNextPageEvent"],["gridView",""],[1,"card","clickable",3,"routerLink"],[1,"card-header"],[3,"ngClass"],[3,"src",4,"ngIf"],[1,"card-media-description"],[1,"card-media-title",3,"title"],[1,"card-media-text"],[1,"card-block"],[1,"card-text"],[1,"form-group"],[1,"card-footer"],[3,"clrCloseMenuOnItemClick"],["type","button","clrDropdownTrigger","",1,"btn","btn-link",3,"disabled","click"],["shape","caret down"],["clrPosition","top-left",4,"clrIfOpen"],["clrPosition","top-left"],["type","button","class","btn btn-link","clrDropdownItem","",3,"disabled","click",4,"ngIf"],["type","button","clrDropdownItem","",1,"btn","btn-link",3,"disabled","click"],[1,"first-loading"],[1,"spinner"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,Oe,6,6,"a",5),e.YNc(6,Ae,1,2,"hbr-push-image-button",6),e._UZ(7,"hbr-filter",7),e.ALo(8,"translate"),e.TgZ(9,"span",8),e.NdJ("click",function(){return i.showCard(!0)})("mouseenter",function(){return i.mouseEnter("card")})("mouseleave",function(){return i.mouseLeave("card")}),e._UZ(10,"clr-icon",9),e.qZA(),e.TgZ(11,"span",10),e.NdJ("click",function(){return i.showCard(!1)})("mouseenter",function(){return i.mouseEnter("list")})("mouseleave",function(){return i.mouseLeave("list")}),e._UZ(12,"clr-icon",11),e.qZA(),e._UZ(13,"span",12),e.TgZ(14,"span",13),e.NdJ("click",function(){return i.refresh()}),e._UZ(15,"clr-icon",14),e.qZA()()()()(),e.TgZ(16,"div",15),e.YNc(17,Ne,32,38,"div",16),e.qZA(),e.YNc(18,qe,3,7,"hbr-gridview",17),e.YNc(19,Fe,2,0,"div",18),e.TgZ(20,"confirmation-dialog",19,20),e.NdJ("confirmAction",function(r){return i.confirmDeletion(r)}),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.canDownloadCert),e.xp6(1),e.Q6J("ngIf",i.hasCreateRepositoryPermission&&!i.isProxyCacheProject),e.xp6(1),e.s9C("filterPlaceholder",e.lcZ(8,10,"REPOSITORY.FILTER_FOR_REPOSITORIES")),e.Q6J("withDivider",!0)("currentValue",i.lastFilteredRepoName),e.xp6(3),e.Q6J("ngClass",e.VKq(12,J,i.isCardView||i.isHovering("card"))),e.xp6(2),e.Q6J("ngClass",e.VKq(14,J,!i.isCardView||i.isHovering("list"))),e.xp6(5),e.Q6J("ngIf",!i.isCardView),e.xp6(1),e.Q6J("ngIf",i.isCardView),e.xp6(1),e.Q6J("ngIf",i.isFirstLoadingGridView&&i.isCardView))},dependencies:[a.yS,h.C9t,h.Gwl,h.m4W,h.Z4N,h.fv_,h.dRQ,h.Ltv,h.YYR,h.F7K,h.PDs,h.KHL,h.Gcc,h.jND,h.Nh1,h.dml,h.K8c,h.qvL,h.nqY,h.MgK,h.f_W,h.zwp,h.ZUS,h.lU3,P.mk,P.sg,P.O5,m.z,re.z,_e,Re,Z.X$,P.gd,Ie.Z],styles:[".rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:4px;top:18px}.toolbar[_ngcontent-%COMP%]{overflow:hidden}.download-link[_ngcontent-%COMP%]{margin-bottom:8px;font-size:14px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.card-block[_ngcontent-%COMP%]{margin-top:24px;min-height:100px}.form-group[_ngcontent-%COMP%]{display:flex}.form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{width:142px}.card-media-block[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:45px;width:45px}.card-media-title[_ngcontent-%COMP%]{height:24px;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;white-space:nowrap}.card-media-text[_ngcontent-%COMP%]{overflow:hidden;height:21px}.card-media-description[_ngcontent-%COMP%]{height:45px}.card-media-description[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin-top:0}.card-text[_ngcontent-%COMP%]{height:45px;overflow:hidden;margin-bottom:18px}.card-block[_ngcontent-%COMP%]{margin-top:0}.card-footer[_ngcontent-%COMP%]{padding-top:6px;padding-bottom:6px}.list-img[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:24px;width:24px;margin-right:12px}.position-relative[_ngcontent-%COMP%]{position:relative}.push-image-button[_ngcontent-%COMP%]{display:inline-block}.repository-box[_ngcontent-%COMP%]{margin-top:5px}.first-loading[_ngcontent-%COMP%]{width:100%;height:65vh;display:flex;align-items:center;justify-content:center}"]}),n})()}];let Ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[a.Bz.forChild(Je),E.m]}),n})()},8348:(j,I,l)=>{l.d(I,{z:()=>R});var a=l(4650),E=l(7579),e=l(8372),f=l(4006),w=l(6895),O=l(9375);const A=["inputElement"];function v(s,p){1&s&&a._UZ(0,"span",4)}let R=(()=>{class s{constructor(c){this.cd=c,this.placeHolder="",this.filterTerms=new E.x,this.isExpanded=!1,this.filterEvt=new a.vpe,this.openFlag=new a.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}set filterPlaceholder(c){this.placeHolder=c}ngOnInit(){this.filterTerms.pipe((0,e.b)(500)).subscribe(c=>{this.filterEvt.emit(c)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return s.\u0275fac=function(c){return new(c||s)(a.Y36(a.sBO))},s.\u0275cmp=a.Xpm({type:s,selectors:[["hbr-filter"]],viewQuery:function(c,m){if(1&c&&a.Gf(A,5),2&c){let _;a.iGM(_=a.CRH())&&(m.inputElement=_.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(c,m){1&c&&(a.TgZ(0,"span")(1,"clr-icon",0),a.NdJ("click",function(){return m.onClick()}),a.qZA(),a.TgZ(2,"input",1,2),a.NdJ("keyup",function(){return m.valueChange()})("focus",function(){return m.inputFocus()})("ngModelChange",function(u){return m.currentValue=u}),a.qZA(),a.YNc(4,v,1,0,"span",3),a.qZA()),2&c&&(a.xp6(1),a.ekj("filter-icon",m.isShowSearchBox),a.xp6(1),a.Udp("width",m.width,"px"),a.s9C("placeholder",m.placeHolder),a.Q6J("hidden",!m.isShowSearchBox)("ngModel",m.currentValue),a.uIk("readOnly",m.readonly),a.xp6(2),a.Q6J("ngIf",m.withDivider))},dependencies:[f.Fj,f.JJ,f.On,w.O5,O.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),s})()}}]);