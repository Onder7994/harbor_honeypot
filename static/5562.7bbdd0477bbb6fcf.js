"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[5562],{694:(E,b,s)=>{s.d(b,{p:()=>M});var C=s(529),t=s(2529),O=s(9300),f=s(4004),p=s(4650),Z=s(5060);let M=(()=>{class h extends t.b{constructor(_,g){super(_,g)}getInternalconfigResponse(_){let g=this.newParams(),d=new C.WM;null!=_&&(d=d.set("X-Request-Id",_.toString()));let T=new C.aW("GET",this.rootUrl+"/internalconfig",null,{headers:d,params:g,responseType:"json"});return this.http.request(T).pipe((0,O.h)(u=>u instanceof C.Zn),(0,f.U)(u=>u))}getInternalconfig(_){return this.getInternalconfigResponse(_).pipe((0,f.U)(g=>g.body))}getConfigurationsResponse(_){let g=this.newParams(),d=new C.WM;null!=_&&(d=d.set("X-Request-Id",_.toString()));let T=new C.aW("GET",this.rootUrl+"/configurations",null,{headers:d,params:g,responseType:"json"});return this.http.request(T).pipe((0,O.h)(u=>u instanceof C.Zn),(0,f.U)(u=>u))}getConfigurations(_){return this.getConfigurationsResponse(_).pipe((0,f.U)(g=>g.body))}updateConfigurationsResponse(_){let g=this.newParams(),d=new C.WM,m=null;m=_.configurations,null!=_.XRequestId&&(d=d.set("X-Request-Id",_.XRequestId.toString()));let T=new C.aW("PUT",this.rootUrl+"/configurations",m,{headers:d,params:g,responseType:"json"});return this.http.request(T).pipe((0,O.h)(u=>u instanceof C.Zn),(0,f.U)(u=>u))}updateConfigurations(_){return this.updateConfigurationsResponse(_).pipe((0,f.U)(g=>g.body))}}return h.getInternalconfigPath="/internalconfig",h.getConfigurationsPath="/configurations",h.updateConfigurationsPath="/configurations",h.\u0275fac=function(_){return new(_||h)(p.LFG(Z.p),p.LFG(C.eN))},h.\u0275prov=p.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},5562:(E,b,s)=>{s.r(b),s.d(b,{ConfigurationModule:()=>Gt});var C=s(6296),t=s(4650),O=s(8726),f=s(7138),p=s(3526),Z=s(8746),M=s(5681),h=s(694),x=s(9151);const _="aWpLOSYkIzJTTU4wMDkx";let g=(()=>{class o{constructor(n,e,i){this.confirmService=n,this.configureService=e,this.msgHandler=i,this._loadingConfig=!1,this._currentConfig=new f.VK,this._confirmSub=this.confirmService.confirmationConfirm$.subscribe(r=>{r&&1===r.state&&this.resetConfig()})}getConfig(){return this._currentConfig}setConfig(n){this._currentConfig=n}getOriginalConfig(){return this._originalConfig}setOriginalConfig(n){this._originalConfig=n}getLoadingConfigStatus(){return this._loadingConfig}updateConfig(){this._loadingConfig=!0,this.configureService.getConfigurations().pipe((0,Z.x)(()=>this._loadingConfig=!1)).subscribe(n=>{this._currentConfig=n,this._currentConfig.email_password=new f.ee(_,!0),this._currentConfig.ldap_search_password=new f.ee(_,!0),this._currentConfig.uaa_client_secret=new f.ee(_,!0),this._currentConfig.oidc_client_secret=new f.ee(_,!0),this._originalConfig=(0,p.d9)(this._currentConfig)},n=>{this.msgHandler.handleError(n)})}resetConfig(){this._originalConfig&&(this._currentConfig=(0,p.d9)(this._originalConfig))}confirmUnsavedChanges(n){let e=new O.c("CONFIG.CONFIRM_TITLE","CONFIG.CONFIRM_SUMMARY","",n,10);this.confirmService.openComfirmDialog(e)}saveConfiguration(n){return this.configureService.updateConfigurations({configurations:n})}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(M.O),t.LFG(h.p),t.LFG(x.d))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var d=s(858),m=s(2466);let T=(()=>{class o{constructor(n){this.conf=n}get inProgress(){return this.conf.getLoadingConfigStatus()}ngOnInit(){this.conf.updateConfig()}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["config"]],decls:20,vars:13,consts:[[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"custom-h2","config-title"],[1,"spinner","spinner-inline","ml-1","v-mid",3,"hidden"],["role","tablist",1,"nav"],["role","presentation",1,"nav-item"],["id","config-auth","type","button","routerLink","auth","routerLinkActive","active",1,"btn","btn-link","nav-link"],["id","config-security","type","button","routerLink","security","routerLinkActive","active",1,"btn","btn-link","nav-link"],["id","config-system","type","button","routerLink","setting","routerLinkActive","active",1,"btn","btn-link","nav-link"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.ALo(4,"translate"),t._UZ(5,"span",3),t.qZA(),t.TgZ(6,"ul",4)(7,"li",5)(8,"button",6),t._uU(9),t.ALo(10,"translate"),t.qZA()(),t.TgZ(11,"li",5)(12,"button",7),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"li",5)(16,"button",8),t._uU(17),t.ALo(18,"translate"),t.qZA()()()()(),t._UZ(19,"router-outlet")),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,5,"CONFIG.TITLE"),""),t.xp6(2),t.Q6J("hidden",!1===e.inProgress),t.xp6(4),t.hij(" ",t.lcZ(10,7,"CONFIG.AUTH")," "),t.xp6(4),t.hij(" ",t.lcZ(14,9,"HELM_CHART.SECURITY")," "),t.xp6(4),t.hij(" ",t.lcZ(18,11,"CONFIG.SYSTEM")," "))},dependencies:[d.lC,d.rH,d.Od,m.X$],styles:[".config-title[_ngcontent-%COMP%]{display:inline-block}.tooltip-position[_ngcontent-%COMP%]{top:-7px}.clr-form-control-disabled[_ngcontent-%COMP%]{opacity:1}.v-mid[_ngcontent-%COMP%]{vertical-align:middle}"]}),o})();var u=s(6742),U=s(5832),P=s(946),v=s(8025),L=s(268),c=s(4006),a=s(9375),I=s(6895);const S=["authConfigFrom"];function y(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.AUTH_MODE")))}function q(o,l){1&o&&(t.TgZ(0,"option",21),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CONFIG.AUTH_MODE_HTTP")," "))}function G(o,l){1&o&&(t.TgZ(0,"a",22),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"BUTTON.MORE_INFO")))}function w(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section")(1,"clr-input-container")(2,"label",23),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",24),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.uaa_endpoint.value=i)}),t.qZA()(),t.TgZ(6,"clr-input-container")(7,"label",25),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",26),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.uaa_client_id.value=i)}),t.qZA()(),t.TgZ(11,"clr-input-container")(12,"label",27),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",28),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.uaa_client_secret.value=i)}),t.qZA()(),t.TgZ(16,"clr-checkbox-container")(17,"label",29),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"clr-checkbox-wrapper")(21,"input",30),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.uaa_verify_cert.value=i)}),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,12,"CONFIG.UAA.ENDPOINT")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.uaa_endpoint.value)("disabled",!n.currentConfig.uaa_verify_cert.editable),t.xp6(3),t.Oqu(t.lcZ(9,14,"CONFIG.UAA.CLIENT_ID")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.uaa_client_id.value)("disabled",!n.currentConfig.uaa_verify_cert.editable),t.xp6(3),t.Oqu(t.lcZ(14,16,"CONFIG.UAA.CLIENT_SECRET")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.uaa_client_secret.value)("disabled",!n.currentConfig.uaa_verify_cert.editable),t.xp6(3),t.Oqu(t.lcZ(19,18,"CONFIG.UAA.VERIFY_CERT")),t.xp6(3),t.Q6J("ngModel",n.currentConfig.uaa_verify_cert.value)("disabled",!n.currentConfig.uaa_verify_cert.editable)}}function D(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.LDAP_SEARCH_DN")))}function F(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.LDAP_BASE_DN")))}function R(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.LDAP_UID")))}function k(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.LDAP_SCOPE")))}function J(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.LDAP_GROUP_BASE_DN_INFO")))}function H(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.LDAP_GROUP_FILTER_INFO")))}function Q(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.LDAP_GROUP_GID_INFO")))}function Y(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.LDAP_GROUP_ADMIN_DN_INFO")))}function j(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.LDAP_GROUP_MEMBERSHIP_INFO")))}function K(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.LDAP.GROUP_SCOPE_INFO")))}function B(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section")(1,"clr-input-container")(2,"label",31),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",32,33),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_url.value=i)}),t.qZA(),t.TgZ(7,"clr-control-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"clr-input-container")(11,"label",34),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"clr-tooltip"),t._UZ(15,"clr-icon",4),t.YNc(16,D,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(17,"input",35,36),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_search_dn.value=i)}),t.qZA()(),t.TgZ(19,"clr-input-container")(20,"label",37),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",38,39),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_search_password.value=i)}),t.qZA()(),t.TgZ(25,"clr-input-container")(26,"label",40),t._uU(27),t.ALo(28,"translate"),t.TgZ(29,"clr-tooltip"),t._UZ(30,"clr-icon",4),t.YNc(31,F,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(32,"input",41,42),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_base_dn.value=i)}),t.qZA(),t.TgZ(34,"clr-control-error"),t._uU(35),t.ALo(36,"translate"),t.qZA()(),t.TgZ(37,"clr-input-container")(38,"label",43),t._uU(39),t.ALo(40,"translate"),t.qZA(),t.TgZ(41,"input",44,45),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_filter.value=i)}),t.qZA()(),t.TgZ(43,"clr-input-container")(44,"label",46),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"clr-tooltip"),t._UZ(48,"clr-icon",4),t.YNc(49,R,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(50,"input",47,48),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_uid.value=i)}),t.qZA(),t.TgZ(52,"clr-control-error"),t._uU(53),t.ALo(54,"translate"),t.qZA()(),t.TgZ(55,"clr-select-container")(56,"label",49),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"clr-tooltip"),t._UZ(60,"clr-icon",4),t.YNc(61,k,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(62,"select",50),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_scope.value=i)}),t.TgZ(63,"option",51),t._uU(64),t.ALo(65,"translate"),t.qZA(),t.TgZ(66,"option",52),t._uU(67),t.ALo(68,"translate"),t.qZA(),t.TgZ(69,"option",53),t._uU(70),t.ALo(71,"translate"),t.qZA()()(),t.TgZ(72,"clr-input-container")(73,"label",54),t._uU(74),t.ALo(75,"translate"),t.TgZ(76,"clr-tooltip"),t._UZ(77,"clr-icon",4),t.YNc(78,J,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(79,"input",55,56),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_base_dn.value=i)}),t.qZA()(),t.TgZ(81,"clr-input-container")(82,"label",57),t._uU(83),t.ALo(84,"translate"),t.TgZ(85,"clr-tooltip"),t._UZ(86,"clr-icon",4),t.YNc(87,H,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(88,"input",58,59),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_search_filter.value=i)}),t.qZA()(),t.TgZ(90,"clr-input-container")(91,"label",60),t._uU(92),t.ALo(93,"translate"),t.TgZ(94,"clr-tooltip"),t._UZ(95,"clr-icon",4),t.YNc(96,Q,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(97,"input",61,56),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_attribute_name.value=i)}),t.qZA()(),t.TgZ(99,"clr-input-container")(100,"label",62),t._uU(101),t.ALo(102,"translate"),t.TgZ(103,"clr-tooltip"),t._UZ(104,"clr-icon",4),t.YNc(105,Y,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(106,"input",63,59),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_admin_dn.value=i)}),t.qZA()(),t.TgZ(108,"clr-input-container")(109,"label",62),t._uU(110),t.ALo(111,"translate"),t.TgZ(112,"clr-tooltip"),t._UZ(113,"clr-icon",4),t.YNc(114,j,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(115,"input",64,59),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_membership_attribute.value=i)}),t.qZA()(),t.TgZ(117,"clr-select-container")(118,"label",65),t._uU(119),t.ALo(120,"translate"),t.TgZ(121,"clr-tooltip"),t._UZ(122,"clr-icon",4),t.YNc(123,K,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(124,"select",66),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.ldap_group_search_scope.value=i)}),t.TgZ(125,"option",51),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"option",52),t._uU(129),t.ALo(130,"translate"),t.qZA(),t.TgZ(131,"option",53),t._uU(132),t.ALo(133,"translate"),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,48,"CONFIG.LDAP.URL")," "),t.xp6(2),t.Q6J("ngModel",n.currentConfig.ldap_url.value)("disabled",n.disabled(n.currentConfig.ldap_url)),t.xp6(3),t.Oqu(t.lcZ(9,50,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(13,52,"CONFIG.LDAP.SEARCH_DN")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_search_dn.value)("disabled",n.disabled(n.currentConfig.ldap_search_dn)),t.xp6(4),t.Oqu(t.lcZ(22,54,"CONFIG.LDAP.SEARCH_PWD")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.ldap_search_password.value)("disabled",n.disabled(n.currentConfig.ldap_search_dn)),t.xp6(4),t.hij("",t.lcZ(28,56,"CONFIG.LDAP.BASE_DN")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_base_dn.value)("disabled",n.disabled(n.currentConfig.ldap_base_dn)),t.xp6(3),t.Oqu(t.lcZ(36,58,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.Oqu(t.lcZ(40,60,"CONFIG.LDAP.FILTER")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.ldap_filter.value)("disabled",n.disabled(n.currentConfig.ldap_filter)),t.xp6(4),t.hij("",t.lcZ(46,62,"CONFIG.LDAP.UID")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_uid.value)("disabled",n.disabled(n.currentConfig.ldap_uid)),t.xp6(3),t.Oqu(t.lcZ(54,64,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(58,66,"CONFIG.LDAP.SCOPE")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_scope.value)("disabled",n.disabled(n.currentConfig.ldap_scope)),t.xp6(2),t.Oqu(t.lcZ(65,68,"CONFIG.SCOPE_BASE")),t.xp6(3),t.hij(" ",t.lcZ(68,70,"CONFIG.SCOPE_ONE_LEVEL")," "),t.xp6(3),t.hij(" ",t.lcZ(71,72,"CONFIG.SCOPE_SUBTREE")," "),t.xp6(4),t.hij("",t.lcZ(75,74,"CONFIG.LDAP.LDAP_GROUP_BASE_DN")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_base_dn.value)("disabled",n.disabled(n.currentConfig.ldap_group_base_dn)),t.xp6(4),t.hij("",t.lcZ(84,76,"CONFIG.LDAP.LDAP_GROUP_FILTER")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_search_filter.value)("disabled",n.disabled(n.currentConfig.ldap_group_search_filter)),t.xp6(4),t.hij("",t.lcZ(93,78,"CONFIG.LDAP.LDAP_GROUP_GID")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_attribute_name.value)("disabled",n.disabled(n.currentConfig.ldap_group_attribute_name)),t.xp6(4),t.hij("",t.lcZ(102,80,"CONFIG.LDAP.LDAP_GROUP_ADMIN_DN")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_admin_dn.value)("disabled",n.disabled(n.currentConfig.ldap_group_admin_dn)),t.xp6(4),t.hij("",t.lcZ(111,82,"CONFIG.LDAP.LDAP_GROUP_MEMBERSHIP")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_membership_attribute.value)("disabled",n.disabled(n.currentConfig.ldap_group_membership_attribute)),t.xp6(4),t.hij("",t.lcZ(120,84,"CONFIG.LDAP.GROUP_SCOPE")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.ldap_group_search_scope.value)("disabled",n.disabled(n.currentConfig.ldap_group_search_scope)),t.xp6(2),t.Oqu(t.lcZ(127,86,"CONFIG.SCOPE_BASE")),t.xp6(3),t.hij(" ",t.lcZ(130,88,"CONFIG.SCOPE_ONE_LEVEL")," "),t.xp6(3),t.hij(" ",t.lcZ(133,90,"CONFIG.SCOPE_SUBTREE")," ")}}function V(o,l){1&o&&(t.TgZ(0,"span",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CONFIG.TOOLTIP.SELF_REGISTRATION_ENABLE")))}function z(o,l){1&o&&(t.TgZ(0,"span",71),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"CONFIG.TOOLTIP.SELF_REGISTRATION_DISABLE")))}function W(o,l){if(1&o&&(t.TgZ(0,"clr-tooltip-content",20),t.YNc(1,V,3,3,"span",69),t.YNc(2,z,3,3,"ng-template",null,70,t.W1O),t.qZA()),2&o){const n=t.MAs(3),e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.checkable)("ngIfElse",n)}}function X(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"clr-checkbox-container")(1,"label",67),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"clr-tooltip"),t._UZ(5,"clr-icon",4),t.YNc(6,W,4,2,"clr-tooltip-content",5),t.qZA()(),t.TgZ(7,"clr-checkbox-wrapper")(8,"input",68),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.self_registration.value=i)}),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"CONFIG.SELF_REGISTRATION")," "),t.xp6(6),t.Q6J("ngModel",n.currentConfig.self_registration.value)("disabled",n.disabled(n.currentConfig.self_registration))}}function $(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.VERIFY_CERT")))}function tt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section")(1,"clr-checkbox-container")(2,"label",72),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"clr-tooltip"),t._UZ(6,"clr-icon",4),t.YNc(7,$,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(8,"clr-checkbox-wrapper")(9,"input",73),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.setVerifyCertValue(i))}),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,3,"CONFIG.LDAP.VERIFY_CERT")," "),t.xp6(6),t.Q6J("ngModel",n.currentConfig.ldap_verify_cert.value)("disabled",n.disabled(n.currentConfig.ldap_scope))}}function nt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section")(1,"clr-input-container")(2,"label",74),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",75,76),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.http_authproxy_endpoint.value=i)}),t.qZA(),t.TgZ(7,"clr-control-error"),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"clr-input-container")(11,"label",77),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"input",78,79),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.http_authproxy_tokenreview_endpoint.value=i)}),t.qZA(),t.TgZ(16,"clr-control-error"),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"clr-input-container")(20,"label",80),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",81,82),t.NdJ("blur",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.trimSpace(i))})("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.http_authproxy_admin_groups.value=i)}),t.qZA()(),t.TgZ(25,"clr-checkbox-container",83)(26,"label",84),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"clr-checkbox-wrapper")(30,"input",85),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.http_authproxy_verify_cert.value=i)}),t.qZA()()(),t.TgZ(31,"clr-checkbox-container",83)(32,"label",86),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.TgZ(35,"clr-checkbox-wrapper")(36,"input",87),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.http_authproxy_skip_search.value=i)}),t.qZA()()()()}if(2&o){const n=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,17,"CONFIG.HTTP_AUTH.ENDPOINT")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.http_authproxy_endpoint.value)("disabled",!n.currentConfig.http_authproxy_endpoint.editable),t.xp6(3),t.Oqu(t.lcZ(9,19,"TOOLTIP.ENDPOINT_FORMAT")),t.xp6(4),t.Oqu(t.lcZ(13,21,"CONFIG.HTTP_AUTH.TOKEN_REVIEW")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.http_authproxy_tokenreview_endpoint.value)("disabled",!n.currentConfig.http_authproxy_tokenreview_endpoint.editable),t.xp6(3),t.Oqu(t.lcZ(18,23,"TOOLTIP.ENDPOINT_FORMAT")),t.xp6(4),t.Oqu(t.lcZ(22,25,"CONFIG.HTTP_AUTH.ADMIN_GROUPS")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.http_authproxy_admin_groups.value)("disabled",n.disabled(n.currentConfig.http_authproxy_admin_groups)),t.xp6(4),t.Oqu(t.lcZ(28,27,"CONFIG.HTTP_AUTH.VERIFY_CERT")),t.xp6(3),t.Q6J("ngModel",n.currentConfig.http_authproxy_verify_cert.value)("disabled",!n.currentConfig.http_authproxy_verify_cert.editable),t.xp6(3),t.Oqu(t.lcZ(34,29,"CONFIG.HTTP_AUTH.SKIP_SEARCH")),t.xp6(3),t.Q6J("disabled",!n.currentConfig.http_authproxy_skip_search.editable)("ngModel",n.currentConfig.http_authproxy_skip_search.value)}}function et(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_NAME")))}function ot(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_ENDPOINT")))}function it(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.OIDC.OIDC_GROUP_FILTER_INFO")))}function rt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.OIDC.GROUP_CLAIM_NAME_INFO")))}function lt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.OIDC.OIDC_ADMIN_GROUP_INFO")))}function at(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_SCOPE")))}function ct(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_VERIFYCERT")))}function st(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_AUTOONBOARD")))}function ut(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",20)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"TOOLTIP.OIDC_USER_CLAIM")))}function _t(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"section")(1,"clr-input-container")(2,"label",88),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"clr-tooltip"),t._UZ(6,"clr-icon",4),t.YNc(7,et,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(8,"input",89,90),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_name.value=i)}),t.qZA(),t.TgZ(10,"clr-control-error"),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"clr-input-container")(14,"label",91),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"clr-tooltip"),t._UZ(18,"clr-icon",4),t.YNc(19,ot,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(20,"input",92,93),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_endpoint.value=i)}),t.qZA(),t.TgZ(22,"clr-control-error"),t._uU(23),t.ALo(24,"translate"),t.qZA()(),t.TgZ(25,"clr-input-container")(26,"label",94),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"input",95,96),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_client_id.value=i)}),t.qZA(),t.TgZ(31,"clr-control-error"),t._uU(32),t.ALo(33,"translate"),t.qZA()(),t.TgZ(34,"clr-input-container")(35,"label",97),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"input",98,99),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_client_secret.value=i)}),t.qZA(),t.TgZ(40,"clr-control-error"),t._uU(41),t.ALo(42,"translate"),t.qZA()(),t.TgZ(43,"clr-input-container")(44,"label",100),t._uU(45),t.ALo(46,"translate"),t.TgZ(47,"clr-tooltip"),t._UZ(48,"clr-icon",4),t.YNc(49,it,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(50,"input",101,102),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_group_filter.value=i)}),t.qZA()(),t.TgZ(52,"clr-input-container")(53,"label",103),t._uU(54),t.ALo(55,"translate"),t.TgZ(56,"clr-tooltip"),t._UZ(57,"clr-icon",4),t.YNc(58,rt,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(59,"input",104,105),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_groups_claim.value=i)}),t.qZA()(),t.TgZ(61,"clr-input-container")(62,"label",106),t._uU(63),t.ALo(64,"translate"),t.TgZ(65,"clr-tooltip"),t._UZ(66,"clr-icon",4),t.YNc(67,lt,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(68,"input",107,108),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_admin_group.value=i)}),t.qZA()(),t.TgZ(70,"clr-input-container")(71,"label",109),t._uU(72),t.ALo(73,"translate"),t.TgZ(74,"clr-tooltip"),t._UZ(75,"clr-icon",4),t.YNc(76,at,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(77,"input",110,111),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_scope.value=i)}),t.qZA(),t.TgZ(79,"clr-control-error"),t._uU(80),t.ALo(81,"translate"),t.qZA()(),t.TgZ(82,"clr-checkbox-container")(83,"label",112),t._uU(84),t.ALo(85,"translate"),t.TgZ(86,"clr-tooltip"),t._UZ(87,"clr-icon",4),t.YNc(88,ct,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(89,"clr-checkbox-wrapper")(90,"input",113),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_verify_cert.value=i)}),t.qZA()()(),t.TgZ(91,"clr-checkbox-container")(92,"label",114),t._uU(93),t.ALo(94,"translate"),t.TgZ(95,"clr-tooltip"),t._UZ(96,"clr-icon",4),t.YNc(97,st,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(98,"clr-checkbox-wrapper")(99,"input",115),t.NdJ("change",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.changeAutoOnBoard())})("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_auto_onboard.value=i)}),t.qZA()()(),t.TgZ(100,"clr-input-container")(101,"label",116),t._uU(102),t.ALo(103,"translate"),t.TgZ(104,"clr-tooltip"),t._UZ(105,"clr-icon",4),t.YNc(106,ut,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(107,"input",117,118),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.currentConfig.oidc_user_claim.value=i)}),t.qZA()(),t.TgZ(109,"div",119),t._uU(110),t.ALo(111,"translate"),t.TgZ(112,"span"),t._uU(113),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(3),t.hij("",t.lcZ(4,40,"CONFIG.OIDC.OIDC_PROVIDER")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_name.value)("disabled",n.disabled(n.currentConfig.oidc_name)),t.xp6(3),t.Oqu(t.lcZ(12,42,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(16,44,"CONFIG.OIDC.ENDPOINT")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_endpoint.value)("disabled",n.disabled(n.currentConfig.oidc_endpoint)),t.xp6(3),t.Oqu(t.lcZ(24,46,"TOOLTIP.OIDC_ENDPOINT_FORMAT")),t.xp6(4),t.Oqu(t.lcZ(28,48,"CONFIG.OIDC.CLIENT_ID")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.oidc_client_id.value)("disabled",n.disabled(n.currentConfig.oidc_client_id)),t.xp6(3),t.Oqu(t.lcZ(33,50,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.Oqu(t.lcZ(37,52,"CONFIG.OIDC.CLIENTSECRET")),t.xp6(2),t.Q6J("ngModel",n.currentConfig.oidc_client_secret.value)("disabled",n.disabled(n.currentConfig.oidc_client_secret)),t.xp6(3),t.Oqu(t.lcZ(42,54,"TOOLTIP.ITEM_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(46,56,"CONFIG.OIDC.OIDC_GROUP_FILTER")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_group_filter.value)("disabled",n.disabled(n.currentConfig.oidc_group_filter)),t.xp6(4),t.hij("",t.lcZ(55,58,"CONFIG.OIDC.GROUP_CLAIM_NAME")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_groups_claim.value)("disabled",n.disabled(n.currentConfig.oidc_groups_claim)),t.xp6(4),t.hij("",t.lcZ(64,60,"CONFIG.OIDC.OIDC_ADMIN_GROUP")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_admin_group.value)("disabled",n.disabled(n.currentConfig.oidc_admin_group)),t.xp6(4),t.hij("",t.lcZ(73,62,"CONFIG.OIDC.SCOPE")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_scope.value)("disabled",n.disabled(n.currentConfig.oidc_scope)),t.xp6(3),t.Oqu(t.lcZ(81,64,"TOOLTIP.SCOPE_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(85,66,"CONFIG.OIDC.OIDC_VERIFYCERT")," "),t.xp6(6),t.Q6J("disabled",n.disabled(n.currentConfig.oidc_verify_cert))("ngModel",n.currentConfig.oidc_verify_cert.value),t.xp6(3),t.hij("",t.lcZ(94,68,"CONFIG.OIDC.OIDC_AUTOONBOARD")," "),t.xp6(6),t.Q6J("disabled",n.disabled(n.currentConfig.oidc_auto_onboard))("ngModel",n.currentConfig.oidc_auto_onboard.value),t.xp6(3),t.hij("",t.lcZ(103,70,"CONFIG.OIDC.USER_CLAIM")," "),t.xp6(5),t.Q6J("ngModel",n.currentConfig.oidc_user_claim.value)("disabled",!n.currentConfig.oidc_auto_onboard.value||n.disabled(n.currentConfig.oidc_user_claim)),t.xp6(3),t.hij(" ",t.lcZ(111,72,"CONFIG.OIDC.OIDC_REDIREC_URL")," "),t.xp6(3),t.hij("",n.redirectUrl,"/c/oidc/callback")}}function pt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"button",120),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.pingTestServer())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&o){const n=t.oxw();t.Q6J("disabled",!n.isConfigValidForTesting()),t.xp6(1),t.hij(" ",t.lcZ(2,2,n.showLdap?"BUTTON.TEST_LDAP":"BUTTON.TEST_OIDC")," ")}}let gt=(()=>{class o{constructor(n,e,i,r,A){this.msgHandler=n,this.configService=e,this.appConfigService=i,this.conf=r,this.systemInfo=A,this.testingOnGoing=!1,this.onGoing=!1}get currentConfig(){return this.conf.getConfig()}set currentConfig(n){this.conf.setConfig(n)}ngOnInit(){this.conf.resetConfig(),this.getSystemInfo()}getSystemInfo(){this.systemInfo.getSystemInfo().subscribe(n=>this.redirectUrl=n.external_url,n=>this.msgHandler.error(n))}get checkable(){return this.currentConfig&&this.currentConfig.self_registration&&!0===this.currentConfig.self_registration.value}get showLdap(){return this.currentConfig&&this.currentConfig.auth_mode&&this.currentConfig.auth_mode.value===u.Au.LDAP_AUTH}get showUAA(){return this.currentConfig&&this.currentConfig.auth_mode&&this.currentConfig.auth_mode.value===u.Au.UAA_AUTH}get showOIDC(){return this.currentConfig&&this.currentConfig.auth_mode&&this.currentConfig.auth_mode.value===u.Au.OIDC_AUTH}get showHttpAuth(){return this.currentConfig&&this.currentConfig.auth_mode&&this.currentConfig.auth_mode.value===u.Au.HTTP_AUTH}get showSelfReg(){return!this.currentConfig||!this.currentConfig.auth_mode||this.currentConfig.auth_mode.value!==u.Au.LDAP_AUTH&&this.currentConfig.auth_mode.value!==u.Au.UAA_AUTH&&this.currentConfig.auth_mode.value!==u.Au.HTTP_AUTH&&this.currentConfig.auth_mode.value!==u.Au.OIDC_AUTH}isValid(){return this.authForm&&this.authForm.valid}inProcess(){return this.onGoing||this.conf.getLoadingConfigStatus()}hasChanges(){return!(0,p.xb)(this.getChanges())}setVerifyCertValue(n){this.currentConfig.ldap_verify_cert.value=n}pingTestServer(){if(this.testingOnGoing)return;let n={};if(this.currentConfig.auth_mode.value===u.Au.LDAP_AUTH){for(let r in this.currentConfig)r.startsWith("ldap_")&&(n[r]=this.currentConfig[r].value);let e=this.getChanges();this.testingOnGoing=!0;let i=e.ldap_search_password;i?n.ldap_search_password=i:delete n.ldap_search_password,n.ldap_scope=+n.ldap_scope,this.configService.testLDAPServer(n).pipe((0,Z.x)(()=>this.testingOnGoing=!1)).subscribe(r=>{r&&r.success?this.msgHandler.showSuccess("CONFIG.TEST_LDAP_SUCCESS"):r&&r.message&&this.msgHandler.showError("CONFIG.TEST_LDAP_FAILED",{param:r.message})},r=>{let A=(0,U.Po)(r);(!A||!A.trim())&&(A="UNKNOWN"),this.msgHandler.showError("CONFIG.TEST_LDAP_FAILED",{param:A})})}else{for(let e in this.currentConfig)"oidc_endpoint"===e?n.url=this.currentConfig[e].value:"oidc_verify_cert"===e&&(n.verify_cert=this.currentConfig[e].value);this.testingOnGoing=!0,this.configService.testOIDCServer(n).subscribe(e=>{this.testingOnGoing=!1,this.msgHandler.showSuccess("CONFIG.TEST_OIDC_SUCCESS")},e=>{this.testingOnGoing=!1,this.msgHandler.error(e)})}}get showTestingServerBtn(){return this.currentConfig.auth_mode&&(this.currentConfig.auth_mode.value===u.Au.LDAP_AUTH||this.currentConfig.auth_mode.value===u.Au.OIDC_AUTH)}isConfigValidForTesting(){return!this.authForm||!this.currentConfig||this.isValid()&&!this.testingOnGoing&&!this.inProcess()}getChanges(){let n=(0,p.My)(this.conf.getOriginalConfig(),this.currentConfig),e={};for(let i in n)(i.startsWith("ldap_")||i.startsWith("uaa_")||i.startsWith("oidc_")||"auth_mode"===i||"project_creattion_restriction"===i||"self_registration"===i||i.startsWith("http_"))&&(e[i]=n[i]);return e}get hideTestingSpinner(){return!this.testingOnGoing||!this.showTestingServerBtn}disabled(n){return!(n&&n.editable)}handleOnChange(n){if(n&&n.target&&n.target.value){let e=n.target.value;(e===u.Au.LDAP_AUTH||e===u.Au.UAA_AUTH||e===u.Au.HTTP_AUTH||e===u.Au.OIDC_AUTH)&&this.currentConfig.self_registration.value&&(this.currentConfig.self_registration.value=!1)}}save(){let n=this.getChanges();(0,p.xb)(n)?console.error("Save abort because nothing changed"):(this.onGoing=!0,this.configService.saveConfiguration(n).subscribe(e=>{this.onGoing=!1,this.conf.updateConfig(),this.appConfigService.load().subscribe(()=>{},i=>console.error("Failed to reload bootstrap option with error: ",i)),this.msgHandler.showSuccess("CONFIG.SAVE_SUCCESS")},e=>{this.onGoing=!1,this.msgHandler.handleError(e)}))}cancel(){let n=this.getChanges();(0,p.xb)(n)?console.error("Nothing changed"):this.conf.confirmUnsavedChanges(n)}changeAutoOnBoard(){this.currentConfig.oidc_auto_onboard.value||(this.currentConfig.oidc_user_claim.value="")}trimSpace(n){n&&n.target&&(n.target.value=n.target.value?n.target.value.trim():"")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(x.d),t.Y36(P.e),t.Y36(v._),t.Y36(g),t.Y36(L.Ob))},o.\u0275cmp=t.Xpm({type:o,selectors:[["config-auth"]],viewQuery:function(n,e){if(1&n&&t.Gf(S,5),2&n){let i;t.iGM(i=t.CRH())&&(e.authForm=i.first)}},decls:41,vars:35,consts:[[1,"clr-form","clr-form-horizontal"],["authConfigFrom","ngForm"],[1,"clr-form-control"],["for","authMode",1,"clr-control-label"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","lg",4,"clrIfOpen"],[1,"clr-control-container"],[1,"clr-select-wrapper"],["id","authMode","name","authMode",1,"clr-select",3,"disabled","ngModel","change","ngModelChange"],["value","db_auth"],["value","ldap_auth"],["value","uaa_auth"],["value","http_auth",4,"ngIf"],["value","oidc_auth"],["rel","noopener noreferrer","href","https://openid.net/connect/","target","_blank","class","more-info-link",4,"ngIf"],[4,"ngIf"],["type","button","id","config_auth_save",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-outline",3,"disabled","click"],["type","button","id","ping-test","class","btn btn-outline",3,"disabled","click",4,"ngIf"],["id","forTestingLDAP",1,"spinner","spinner-inline",3,"hidden"],["clrPosition","top-right","clrSize","lg"],["value","http_auth"],["rel","noopener noreferrer","href","https://openid.net/connect/","target","_blank",1,"more-info-link"],["for","uaa-endpoint",1,"required"],["type","text","id","uaa-endpoint","clrInput","","name","uaa-endpoint","size","35",3,"ngModel","disabled","ngModelChange"],["for","uaa-id",1,"required"],["clrInput","","type","text","id","uaa-id","name","uaa-client-id","size","35",3,"ngModel","disabled","ngModelChange"],["for","uaa-secret",1,"required"],["clrInput","","id","uaa-secret","name","uaa-client-secret","type","password","size","35",3,"ngModel","disabled","ngModelChange"],["for","uaa-cert"],["type","checkbox","clrCheckbox","","name","uaa-cert","id","uaa-cert",3,"ngModel","disabled","ngModelChange"],["for","ldapUrl",1,"required"],["clrInput","","name","ldapUrl","type","text","required","","id","ldapUrl","size","40",3,"ngModel","disabled","ngModelChange"],["ldapUrlInput","ngModel"],["for","ldapSearchDN",1,"required"],["clrInput","","name","ldapSearchDN","type","text","id","ldapSearchDN","size","40",3,"ngModel","disabled","ngModelChange"],["ldapSearchDNInput","ngModel"],["for","ldapSearchPwd"],["clrInput","","name","ldapSearchPwd","type","password","id","ldapSearchPwd","size","40",3,"ngModel","disabled","ngModelChange"],["ldapSearchPwdInput","ngModel"],["for","ldapBaseDN",1,"required"],["clrInput","","name","ldapBaseDN","type","text","required","","id","ldapBaseDN","size","40",3,"ngModel","disabled","ngModelChange"],["ldapBaseDNInput","ngModel"],["for","ldapFilter"],["clrInput","","name","ldapFilter","type","text","id","ldapFilter","size","40",3,"ngModel","disabled","ngModelChange"],["ldapFilterInput","ngModel"],["for","ldapUid",1,"required"],["clrInput","","name","ldapUid","type","text","required","","id","ldapUid","size","40",3,"ngModel","disabled","ngModelChange"],["ldapUidInput","ngModel"],["for","ldapScope"],["clrSelect","","id","ldapScope","name","ldapScope",3,"ngModel","disabled","ngModelChange"],["value","0"],["value","1"],["value","2"],["for","ldapGroupBaseDN"],["clrInput","","name","ldapGroupBaseDN","type","text","id","ldapGroupBaseDN","size","40",3,"ngModel","disabled","ngModelChange"],["ldapGroupDNInput","ngModel"],["for","ldapGroupFilter"],["clrInput","","name","ldapGroupFilter","type","text","id","ldapGroupFilter","size","40",3,"ngModel","disabled","ngModelChange"],["ldapGroupFilterInput","ngModel"],["for","ldapGroupGID"],["clrInput","","name","ldapGroupGID","type","text","id","ldapGroupGID","size","40",3,"ngModel","disabled","ngModelChange"],["for","ldapGroupAdminDN"],["clrInput","","name","ldapGroupAdminDN","type","text","id","ldapGroupAdminDN","size","40",3,"ngModel","disabled","ngModelChange"],["clrInput","","name","ldapGroupMembership","type","text","id","ldapGroupMembership","size","40",3,"ngModel","disabled","ngModelChange"],["for","ldapGroupScope"],["clrSelect","","id","ldapGroupScope","name","ldapGroupScope",3,"ngModel","disabled","ngModelChange"],["for","selfReg"],["type","checkbox","clrCheckbox","","name","selfReg","id","selfReg",3,"ngModel","disabled","ngModelChange"],["class","tooltip-content",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"tooltip-content"],["for","ldapVerifyCert"],["type","checkbox","clrCheckbox","","name","ldapVerifyCert","id","ldapVerifyCert",3,"ngModel","disabled","ngModelChange"],["for","http_authproxy_endpoint",1,"required"],["clrInput","","type","text","pattern","^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(.*?)*$","required","","id","http_authproxy_endpoint","name","http_authproxy_endpoint","size","35",3,"ngModel","disabled","ngModelChange"],["httpAuthproxyEndpointInput","ngModel"],["for","http_authproxy_tokenreview_endpoint",1,"required"],["clrInput","","type","text","pattern","^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/)(.*?)*$","required","","id","http_authproxy_tokenreview_endpoint","name","http_authproxy_tokenreview_endpoint","size","35",3,"ngModel","disabled","ngModelChange"],["httpAuthproxyTokenReviewInput","ngModel"],["for","HttpAdminGroup"],["autocomplete","off","clrInput","","name","HttpAdminGroup","type","text","id","HttpAdminGroup","size","35",3,"ngModel","disabled","blur","ngModelChange"],["ngHttpAdminGroup","ngModel"],["clrInline",""],["for","http_authproxy_verify_cert",1,"required"],["type","checkbox","clrCheckbox","","name","http_authproxy_verify_cert","id","http_authproxy_verify_cert",3,"ngModel","disabled","ngModelChange"],["for","http_authproxy_skip_search",1,"required"],["type","checkbox","clrCheckbox","","name","http_authproxy_skip_search","id","http_authproxy_skip_search",3,"disabled","ngModel","ngModelChange"],["for","oidcName",1,"required"],["clrInput","","name","oidcName","required","","type","text","id","oidcName","size","40",3,"ngModel","disabled","ngModelChange"],["oidcNameInput","ngModel"],["for","oidcEndpoint",1,"required"],["clrInput","","name","oidcEndpoint","type","text","required","","id","oidcEndpoint","size","40","pattern","^([hH][tT]{2}[pP][sS]:\\/\\/)(.*?)*$",3,"ngModel","disabled","ngModelChange"],["oidcEndpointInput","ngModel"],["for","oidcClientId",1,"required"],["clrInput","","name","oidcClientId","type","text","required","","id","oidcClientId","size","40",3,"ngModel","disabled","ngModelChange"],["oidcClientIdInput","ngModel"],["for","oidcClientSecret",1,"required"],["clrInput","","name","oidcClientSecret","type","password","required","","id","oidcClientSecret","size","40",3,"ngModel","disabled","ngModelChange"],["oidcClientSecretInput","ngModel"],["for","OIDCGroupFilter"],["clrInput","","name","OIDCGroupFilter","type","text","id","OIDCGroupFilter","size","40",3,"ngModel","disabled","ngModelChange"],["ngOIDCGroupFilter","ngModel"],["for","oidcGroupClaim"],["clrInput","","name","oidcGroupClaim","type","text","id","oidcGroupClaim","size","40",3,"ngModel","disabled","ngModelChange"],["ngOIDCGroupClaim","ngModel"],["for","OIDCAdminGroup"],["clrInput","","name","OIDCAdminGroup","type","text","id","OIDCAdminGroup","size","40",3,"ngModel","disabled","ngModelChange"],["ngOIDCAdminGroup","ngModel"],["for","oidcScope",1,"required"],["clrInput","","name","oidcScope","type","text","id","oidcScope","size","40","required","","pattern","^([\\w.]+,){0,}openid(,[\\w.]+){0,}$",3,"ngModel","disabled","ngModelChange"],["oidcScopeInput","ngModel"],["for","oidc_verify_cert"],["type","checkbox","clrCheckbox","","name","oidc_verify_cert","id","oidc_verify_cert",3,"disabled","ngModel","ngModelChange"],["for","oidcAutoOnboard"],["type","checkbox","clrCheckbox","","name","oidcAutoOnboard","id","oidcAutoOnboard",3,"disabled","ngModel","change","ngModelChange"],["for","oidcUserClaim"],["autocomplete","off","clrInput","","name","oidcUserClaim","type","text","id","oidcUserClaim","size","40",3,"ngModel","disabled","ngModelChange"],["oidcUserClaimInput","ngModel"],[1,"oidc-tip"],["type","button","id","ping-test",1,"btn","btn-outline",3,"disabled","click"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0,1)(2,"div",2)(3,"label",3),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"clr-tooltip"),t._UZ(7,"clr-icon",4),t.YNc(8,y,4,3,"clr-tooltip-content",5),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7)(11,"select",8),t.NdJ("change",function(r){return e.handleOnChange(r)})("ngModelChange",function(r){return e.currentConfig.auth_mode.value=r}),t.TgZ(12,"option",9),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"option",10),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"option",11),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.YNc(21,q,3,3,"option",12),t.TgZ(22,"option",13),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.YNc(25,G,3,3,"a",14),t.qZA()(),t.YNc(26,w,22,20,"section",15),t.YNc(27,B,134,92,"section",15),t.YNc(28,X,9,5,"clr-checkbox-container",15),t.YNc(29,tt,10,5,"section",15),t.YNc(30,nt,37,31,"section",15),t.YNc(31,_t,114,74,"section",15),t.qZA(),t.TgZ(32,"div")(33,"button",16),t.NdJ("click",function(){return e.save()}),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"button",17),t.NdJ("click",function(){return e.cancel()}),t._uU(37),t.ALo(38,"translate"),t.qZA(),t.YNc(39,pt,3,4,"button",18),t._UZ(40,"span",19),t.qZA()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,21,"CONFIG.AUTH_MODE")," "),t.xp6(7),t.Q6J("disabled",e.disabled(e.currentConfig.auth_mode))("ngModel",e.currentConfig.auth_mode.value),t.xp6(2),t.hij(" ",t.lcZ(14,23,"CONFIG.AUTH_MODE_DB")," "),t.xp6(3),t.hij(" ",t.lcZ(17,25,"CONFIG.AUTH_MODE_LDAP")," "),t.xp6(3),t.hij(" ",t.lcZ(20,27,"CONFIG.AUTH_MODE_UAA")," "),t.xp6(2),t.Q6J("ngIf",e.showHttpAuth),t.xp6(2),t.hij(" ",t.lcZ(24,29,"CONFIG.AUTH_MODE_OIDC")," "),t.xp6(2),t.Q6J("ngIf","oidc_auth"===(null==e.currentConfig||null==e.currentConfig.auth_mode?null:e.currentConfig.auth_mode.value)),t.xp6(1),t.Q6J("ngIf",e.showUAA),t.xp6(1),t.Q6J("ngIf",e.showLdap),t.xp6(1),t.Q6J("ngIf",e.showSelfReg),t.xp6(1),t.Q6J("ngIf",e.showLdap),t.xp6(1),t.Q6J("ngIf",e.showHttpAuth),t.xp6(1),t.Q6J("ngIf",e.showOIDC),t.xp6(2),t.Q6J("disabled",!e.isValid()||!e.hasChanges()||e.inProcess()),t.xp6(1),t.hij(" ",t.lcZ(35,31,"BUTTON.SAVE")," "),t.xp6(2),t.Q6J("disabled",!e.isValid()||!e.hasChanges()||e.inProcess()),t.xp6(1),t.hij(" ",t.lcZ(38,33,"BUTTON.CANCEL")," "),t.xp6(2),t.Q6J("ngIf",e.showTestingServerBtn),t.xp6(1),t.Q6J("hidden",e.hideTestingSpinner))},dependencies:[c._Y,c.YN,c.Kr,c.Fj,c.Wl,c.EJ,c.JJ,c.JL,c.Q7,c.c5,c.On,c.F,a.qvL,a.nqY,a.MgK,a.VqA,a.KKC,a.Y_4,a.PEh,a.xRP,a.G55,a.otW,a.dTv,a.Jmj,a.bMv,a.zDF,I.O5,m.X$],styles:[".oidc-tip[_ngcontent-%COMP%]{color:#0a0a0a;margin-top:1rem}.more-info-link[_ngcontent-%COMP%]{padding-left:1rem}.ml-04[_ngcontent-%COMP%]{margin-left:.4rem}.clr-control-label[_ngcontent-%COMP%]{width:10.6rem!important}",".config-title[_ngcontent-%COMP%]{display:inline-block}.tooltip-position[_ngcontent-%COMP%]{top:-7px}.clr-form-control-disabled[_ngcontent-%COMP%]{opacity:1}.v-mid[_ngcontent-%COMP%]{vertical-align:middle}"]}),o})();const dt=["systemConfigFrom"];function Ct(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.PRO_CREATION_RESTRICTION")))}function ft(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.TOKEN_EXPIRATION")))}function ht(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.SESSION_TIMEOUT_INFO")))}function mt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.ROBOT_NAME_PREFIX")))}function At(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.ROBOT_TOKEN_EXPIRATION")))}function Tt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.ROOT_CERT_DOWNLOAD")))}function Ot(o,l){if(1&o&&(t.TgZ(0,"div",32)(1,"label",33),t._uU(2),t.ALo(3,"translate"),t.TgZ(4,"clr-tooltip"),t._UZ(5,"clr-icon",3),t.YNc(6,Tt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(7,"div",34)(8,"a",35),t._uU(9),t.ALo(10,"translate"),t.qZA()()()),2&o){const n=t.oxw();t.xp6(2),t.hij("",t.lcZ(3,3,"CONFIG.ROOT_CERT")," "),t.xp6(6),t.Q6J("href",n.downloadLink,t.LSH),t.xp6(1),t.Oqu(t.lcZ(10,5,"CONFIG.ROOT_CERT_LINK"))}}function Zt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.REPO_TOOLTIP")))}function xt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CONFIG.TOOLTIP.WEBHOOK_TOOLTIP")))}function bt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CLEARANCES.FORWARD_ENDPOINT_TOOLTIP")))}function Mt(o,l){1&o&&(t.TgZ(0,"clr-tooltip-content",31)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CLEARANCES.SKIP_DATABASE_TOOLTIP")))}let It=(()=>{class o{constructor(n,e,i){this.appConfigService=n,this.errorHandler=e,this.conf=i,this.onGoing=!1,this.downloadLink=p.S$+"/systeminfo/getcert"}get currentConfig(){return this.conf.getConfig()}set currentConfig(n){this.conf.setConfig(n)}ngOnInit(){this.conf.resetConfig()}get editable(){return this.currentConfig&&this.currentConfig.token_expiration&&this.currentConfig.token_expiration.editable}get robotExpirationEditable(){return this.currentConfig&&this.currentConfig.robot_token_duration&&this.currentConfig.robot_token_duration.editable}robotNamePrefixEditable(){return this.currentConfig&&this.currentConfig.robot_name_prefix&&this.currentConfig.robot_name_prefix.editable}isValid(){return this.systemSettingsForm&&this.systemSettingsForm.valid}hasChanges(){return!(0,p.xb)(this.getChanges())}getChanges(){let n=(0,p.My)(this.conf.getOriginalConfig(),this.currentConfig);return n?this.getSystemChanges(n):null}getSystemChanges(n){let e={};for(let i in n)("token_expiration"===i||"read_only"===i||"project_creation_restriction"===i||"robot_token_duration"===i||"notification_enable"===i||"robot_name_prefix"===i||"audit_log_forward_endpoint"===i||"skip_audit_log_database"===i||"session_timeout"===i)&&(e[i]=n[i]);return e}setRepoReadOnlyValue(n){this.currentConfig.read_only.value=n}setWebhookNotificationEnabledValue(n){this.currentConfig.notification_enable.value=n}disabled(n){return!(n&&n.editable)}get canDownloadCert(){return this.appConfigService.getConfig().has_ca_root}save(){let n=this.getChanges();(0,p.xb)(n)?console.error("Save abort because nothing changed"):(this.onGoing=!0,this.conf.saveConfiguration(n).pipe((0,Z.x)(()=>this.onGoing=!1)).subscribe({next:e=>{this.conf.updateConfig(),n.read_only?this.errorHandler.handleReadOnly():this.errorHandler.clear(),this.appConfigService.load().subscribe(()=>{},i=>console.error("Failed to reload bootstrap option with error: ",i)),this.errorHandler.info("CONFIG.SAVE_SUCCESS")},error:e=>{this.errorHandler.error(e)}}))}get inProgress(){return this.onGoing||this.conf.getLoadingConfigStatus()}cancel(){let n=this.getChanges();(0,p.xb)(n)?console.error("Nothing changed"):this.conf.confirmUnsavedChanges(n)}checkAuditLogForwardEndpoint(n){n?.target?.value||(this.currentConfig.skip_audit_log_database.value=!1)}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(v._),t.Y36(x.d),t.Y36(g))},o.\u0275cmp=t.Xpm({type:o,selectors:[["system-settings"]],viewQuery:function(n,e){if(1&n&&t.Gf(dt,5),2&n){let i;t.iGM(i=t.CRH())&&(e.systemSettingsForm=i.first)}},decls:107,vars:72,consts:[[1,"clr-form","clr-form-horizontal"],["systemConfigFrom","ngForm"],["for","proCreation"],["clrTooltipTrigger","","shape","info-circle","size","24"],["clrPosition","top-right","clrSize","lg",4,"clrIfOpen"],["clrSelect","","id","proCreation","name","proCreation",1,"pro-creation",3,"ngModel","disabled","ngModelChange"],["value","everyone"],["value","adminonly"],["for","tokenExpiration",1,"required"],["clrInput","","name","tokenExpiration","type","number","required","","pattern","^[1-9]{1}[0-9]*$","id","tokenExpiration","max","9999999999",3,"ngModel","disabled","ngModelChange"],["tokenExpirationInput","ngModel"],["for","sessionTimeout",1,"required"],["clrInput","","name","sessionTimeout","type","number","required","","pattern","^[1-9]{1}[0-9]*$","id","sessionTimeout","max","9999999999",3,"ngModel","disabled","ngModelChange"],["ngSessionTimeout","ngModel"],["for","robotNamePrefix",1,"required"],["clrInput","","name","robotNamePrefix","type","text","required","","autocomplete","off","id","robotNamePrefix","size","20",3,"ngModel","disabled","ngModelChange"],["for","robotTokenExpiration",1,"required"],["clrInput","","name","robotTokenExpiration","type","number","required","","pattern","^[1-9]{1}[0-9]*$","id","robotTokenExpiration","max","9999999999",3,"ngModel","disabled","ngModelChange"],["robotTokenExpirationInput","ngModel"],["class","clr-form-control",4,"ngIf"],["id","repo_read_only_lbl","for","repoReadOnly"],["type","checkbox","clrCheckbox","","name","repoReadOnly","id","repoReadOnly",3,"disabled","ngModel","ngModelChange"],[1,"center"],["for","webhookNotificationEnabled"],["type","checkbox","clrCheckbox","","name","webhookNotificationEnabled","id","webhookNotificationEnabled",3,"ngModel","disabled","ngModelChange"],["for","auditLogForwardEndpoint"],["clrInput","","name","auditLogForwardEndpoint","type","text","id","auditLogForwardEndpoint","size","20",3,"ngModel","disabled","ngModelChange","input"],["for","skipAuditLogDatabase"],["type","checkbox","clrCheckbox","","name","skipAuditLogDatabase","id","skipAuditLogDatabase",3,"ngModel","disabled","ngModelChange"],["type","button","id","config_system_save",1,"btn","btn-primary",3,"disabled","click"],["type","button","id","config_system_cancel",1,"btn","btn-outline",3,"disabled","click"],["clrPosition","top-right","clrSize","lg"],[1,"clr-form-control"],[1,"clr-control-label"],[1,"clr-control-container","cert-down"],["rel","noopener noreferrer","target","_blank",3,"href"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0,1)(2,"section")(3,"clr-select-container")(4,"label",2),t._uU(5),t.ALo(6,"translate"),t.TgZ(7,"clr-tooltip"),t._UZ(8,"clr-icon",3),t.YNc(9,Ct,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(10,"select",5),t.NdJ("ngModelChange",function(r){return e.currentConfig.project_creation_restriction.value=r}),t.TgZ(11,"option",6),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"option",7),t._uU(15),t.ALo(16,"translate"),t.qZA()()(),t.TgZ(17,"clr-input-container")(18,"label",8),t._uU(19),t.ALo(20,"translate"),t.TgZ(21,"clr-tooltip"),t._UZ(22,"clr-icon",3),t.YNc(23,ft,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(24,"input",9,10),t.NdJ("ngModelChange",function(r){return e.currentConfig.token_expiration.value=r}),t.qZA(),t.TgZ(26,"clr-control-error"),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.TgZ(29,"clr-input-container")(30,"label",11),t._uU(31),t.ALo(32,"translate"),t.TgZ(33,"clr-tooltip"),t._UZ(34,"clr-icon",3),t.YNc(35,ht,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(36,"input",12,13),t.NdJ("ngModelChange",function(r){return e.currentConfig.session_timeout.value=r}),t.qZA(),t.TgZ(38,"clr-control-error"),t._uU(39),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"clr-input-container")(42,"label",14),t._uU(43),t.ALo(44,"translate"),t.TgZ(45,"clr-tooltip"),t._UZ(46,"clr-icon",3),t.YNc(47,mt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(48,"input",15),t.NdJ("ngModelChange",function(r){return e.currentConfig.robot_name_prefix.value=r}),t.qZA(),t.TgZ(49,"clr-control-error"),t._uU(50),t.ALo(51,"translate"),t.qZA()(),t.TgZ(52,"clr-input-container")(53,"label",16),t._uU(54),t.ALo(55,"translate"),t.TgZ(56,"clr-tooltip"),t._UZ(57,"clr-icon",3),t.YNc(58,At,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(59,"input",17,18),t.NdJ("ngModelChange",function(r){return e.currentConfig.robot_token_duration.value=r}),t.qZA(),t.TgZ(61,"clr-control-error"),t._uU(62),t.ALo(63,"translate"),t.qZA()(),t.YNc(64,Ot,11,7,"div",19),t.TgZ(65,"clr-checkbox-container")(66,"label",20),t._uU(67),t.ALo(68,"translate"),t.TgZ(69,"clr-tooltip"),t._UZ(70,"clr-icon",3),t.YNc(71,Zt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(72,"clr-checkbox-wrapper")(73,"input",21),t.NdJ("ngModelChange",function(r){return e.setRepoReadOnlyValue(r)}),t.qZA()()(),t.TgZ(74,"clr-checkbox-container",22)(75,"label",23),t._uU(76),t.ALo(77,"translate"),t.TgZ(78,"clr-tooltip"),t._UZ(79,"clr-icon",3),t.YNc(80,xt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(81,"clr-checkbox-wrapper")(82,"input",24),t.NdJ("ngModelChange",function(r){return e.setWebhookNotificationEnabledValue(r)}),t.qZA()()(),t.TgZ(83,"clr-input-container")(84,"label",25),t._uU(85),t.ALo(86,"translate"),t.TgZ(87,"clr-tooltip"),t._UZ(88,"clr-icon",3),t.YNc(89,bt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(90,"input",26),t.NdJ("ngModelChange",function(r){return e.currentConfig.audit_log_forward_endpoint.value=r})("input",function(r){return e.checkAuditLogForwardEndpoint(r)}),t.qZA()(),t.TgZ(91,"clr-checkbox-container",22)(92,"label",27),t._uU(93),t.ALo(94,"translate"),t.TgZ(95,"clr-tooltip"),t._UZ(96,"clr-icon",3),t.YNc(97,Mt,4,3,"clr-tooltip-content",4),t.qZA()(),t.TgZ(98,"clr-checkbox-wrapper")(99,"input",28),t.NdJ("ngModelChange",function(r){return e.currentConfig.skip_audit_log_database.value=r}),t.qZA()()()()(),t.TgZ(100,"div")(101,"button",29),t.NdJ("click",function(){return e.save()}),t._uU(102),t.ALo(103,"translate"),t.qZA(),t.TgZ(104,"button",30),t.NdJ("click",function(){return e.cancel()}),t._uU(105),t.ALo(106,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.hij("",t.lcZ(6,38,"CONFIG.PRO_CREATION_RESTRICTION")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.project_creation_restriction.value)("disabled",e.disabled(e.currentConfig.project_creation_restriction)),t.xp6(2),t.hij(" ",t.lcZ(13,40,"CONFIG.PRO_CREATION_EVERYONE")," "),t.xp6(3),t.hij(" ",t.lcZ(16,42,"CONFIG.PRO_CREATION_ADMIN")," "),t.xp6(4),t.hij("",t.lcZ(20,44,"CONFIG.TOKEN_EXPIRATION")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.token_expiration.value)("disabled",!e.editable),t.xp6(3),t.Oqu(t.lcZ(28,46,"TOOLTIP.NUMBER_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(32,48,"CONFIG.SESSION_TIMEOUT")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.session_timeout.value)("disabled",!e.editable),t.xp6(3),t.Oqu(t.lcZ(40,50,"TOOLTIP.NUMBER_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(44,52,"ROBOT_ACCOUNT.NAME_PREFIX")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.robot_name_prefix.value)("disabled",!e.robotNamePrefixEditable()),t.xp6(2),t.Oqu(t.lcZ(51,54,"ROBOT_ACCOUNT.NAME_PREFIX_REQUIRED")),t.xp6(4),t.hij("",t.lcZ(55,56,"ROBOT_ACCOUNT.TOKEN_EXPIRATION")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.robot_token_duration.value)("disabled",!e.robotExpirationEditable),t.xp6(3),t.Oqu(t.lcZ(63,58,"ROBOT_ACCOUNT.NUMBER_REQUIRED")),t.xp6(2),t.Q6J("ngIf",e.canDownloadCert),t.xp6(3),t.hij("",t.lcZ(68,60,"CONFIG.REPO_READ_ONLY")," "),t.xp6(6),t.Q6J("disabled",!e.currentConfig.read_only.editable)("ngModel",e.currentConfig.read_only.value),t.xp6(3),t.hij("",t.lcZ(77,62,"CONFIG.WEBHOOK_NOTIFICATION_ENABLED")," "),t.xp6(6),t.Q6J("ngModel",e.currentConfig.notification_enable.value)("disabled",!e.currentConfig.notification_enable.editable),t.xp6(3),t.hij(" ",t.lcZ(86,64,"CLEARANCES.FORWARD_ENDPOINT")," "),t.xp6(5),t.Q6J("ngModel",e.currentConfig.audit_log_forward_endpoint.value)("disabled",!(null!=e.currentConfig&&null!=e.currentConfig.audit_log_forward_endpoint&&e.currentConfig.audit_log_forward_endpoint.editable)),t.xp6(3),t.hij("",t.lcZ(94,66,"CLEARANCES.SKIP_DATABASE")," "),t.xp6(6),t.Q6J("ngModel",e.currentConfig.skip_audit_log_database.value)("disabled",!(null!=e.currentConfig.skip_audit_log_database&&e.currentConfig.skip_audit_log_database.editable&&null!=e.currentConfig.audit_log_forward_endpoint&&e.currentConfig.audit_log_forward_endpoint.value)),t.xp6(2),t.Q6J("disabled",!e.isValid()||!e.hasChanges()||e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(103,68,"BUTTON.SAVE")," "),t.xp6(2),t.Q6J("disabled",!e.isValid()||!e.hasChanges()||e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(106,70,"BUTTON.CANCEL")," "))},dependencies:[c._Y,c.YN,c.Kr,c.Fj,c.wV,c.Wl,c.EJ,c.JJ,c.JL,c.Q7,c.c5,c.Fd,c.On,c.F,a.qvL,a.nqY,a.MgK,a.VqA,a.KKC,a.Y_4,a.PEh,a.xRP,a.G55,a.otW,a.dTv,a.Jmj,a.bMv,a.zDF,I.O5,m.X$],styles:[".subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.clr-form-horizontal[_ngcontent-%COMP%]   .clr-form-control[_ngcontent-%COMP%] > .clr-control-label[_ngcontent-%COMP%]{width:14rem}.clr-form-horizontal[_ngcontent-%COMP%]   .flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.bottom-line[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.expire-data[_ngcontent-%COMP%]{min-width:12.5rem;margin-top:-1rem}.position-relative[_ngcontent-%COMP%]{position:relative}.pl-05[_ngcontent-%COMP%]{padding-left:.5rem}.mt-1[_ngcontent-%COMP%]{margin-top:1rem}.d-f[_ngcontent-%COMP%]{display:flex}.font-size-13[_ngcontent-%COMP%]{font-size:13px}.mt-05[_ngcontent-%COMP%]{margin-bottom:.5rem}.title[_ngcontent-%COMP%]{font-weight:700}.margin-top-4[_ngcontent-%COMP%]{margin-top:4px}.allowlist-window[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px;padding:12px;height:224px;width:222px;overflow-y:auto}.allowlist-window[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:24px;line-height:24px;list-style-type:none}.width-90per[_ngcontent-%COMP%]{width:90%}.none[_ngcontent-%COMP%]{color:#ccc}.color-0079bb[_ngcontent-%COMP%]{color:#0079bb}.padding-top-8[_ngcontent-%COMP%]{padding-top:8px}.padding-left-80[_ngcontent-%COMP%]{padding-left:80px}.add-modal[_ngcontent-%COMP%]{position:absolute;padding:0 8px;background-color:#eee}.add-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid}.add-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}.hand[_ngcontent-%COMP%]{cursor:pointer;margin:0}.cert-down[_ngcontent-%COMP%]{margin-top:.15rem}.info-tips-icon[_ngcontent-%COMP%]{color:gray}.info-tips-icon[_ngcontent-%COMP%]:hover{color:#007cbb}.replication-config[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.replication-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.replication-tooltip[_ngcontent-%COMP%]{top:-8px}.margin-top-3px[_ngcontent-%COMP%]{margin-top:3px}.center[_ngcontent-%COMP%]{display:flex;align-items:center}.clr-input[_ngcontent-%COMP%], .pro-creation[_ngcontent-%COMP%]{width:12rem}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-webkit-appearance:textfield;appearance:textfield}"]}),o})();var Nt=s(2443);const vt=["dateInput"];function Lt(o,l){1&o&&(t.TgZ(0,"div",5)(1,"span",25),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"CVE_ALLOWLIST.WARNING_SYS")))}function Et(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"div",26)(1,"clr-icon",27),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.showAddModal=!1)}),t.qZA(),t.TgZ(2,"div")(3,"clr-textarea-container",28)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"textarea",29),t.NdJ("ngModelChange",function(i){t.CHM(n);const r=t.oxw();return t.KtG(r.cveIds=i)}),t.qZA(),t.TgZ(8,"clr-control-helper"),t._uU(9),t.ALo(10,"translate"),t.qZA()()(),t.TgZ(11,"div")(12,"button",30),t.NdJ("click",function(){t.CHM(n);const i=t.oxw();return t.KtG(i.addToSystemAllowlist())}),t._uU(13),t.ALo(14,"translate"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,5,"CVE_ALLOWLIST.ENTER")),t.xp6(2),t.Q6J("ngModel",n.cveIds),t.xp6(2),t.Oqu(t.lcZ(10,7,"CVE_ALLOWLIST.HELP")),t.xp6(3),t.Q6J("disabled",n.isDisabled()),t.xp6(1),t.hij(" ",t.lcZ(14,9,"CVE_ALLOWLIST.ADD")," ")}}function Ut(o,l){1&o&&(t.TgZ(0,"li",31),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"CVE_ALLOWLIST.NONE")," "))}function Pt(o,l){if(1&o){const n=t.EpF();t.TgZ(0,"li")(1,"a",32),t.NdJ("click",function(){const r=t.CHM(n).$implicit,A=t.oxw();return t.KtG(A.goToDetail(r.cve_id))}),t._uU(2),t.qZA(),t.TgZ(3,"a",33),t.NdJ("click",function(){const r=t.CHM(n).index,A=t.oxw();return t.KtG(A.deleteItem(r))}),t._UZ(4,"clr-icon",34),t.qZA()()}if(2&o){const n=l.$implicit;t.xp6(2),t.Oqu(n.cve_id)}}const N=1e3,qt=[{path:"",component:T,children:[{path:"auth",component:gt},{path:"security",component:(()=>{class o{constructor(n,e,i){this.errorHandler=n,this.systemInfoService=e,this.confirmService=i,this.onGoing=!1,this.showAddModal=!1}ngOnInit(){this.getSystemAllowlist(),this.subscribeConfirmation()}ngOnDestroy(){this._confirmSub&&(this._confirmSub.unsubscribe(),this._confirmSub=null)}save(){(0,p.jy)(this.systemAllowlistOrigin,this.systemAllowlist)?console.error("Save abort because nothing changed"):(this.onGoing=!0,this.systemInfoService.updateSystemAllowlist(this.systemAllowlist).pipe((0,Z.x)(()=>this.onGoing=!1)).subscribe({next:n=>{this.systemAllowlistOrigin=(0,p.d9)(this.systemAllowlist),this.errorHandler.info("CONFIG.SAVE_SUCCESS")},error:n=>{this.errorHandler.error(n)}}))}get inProgress(){return this.onGoing}cancel(){if((0,p.jy)(this.systemAllowlistOrigin,this.systemAllowlist))console.error("Nothing changed");else{const n=new O.c("CONFIG.CONFIRM_TITLE","CONFIG.CONFIRM_SUMMARY","",null,10);this.confirmService.openComfirmDialog(n)}}subscribeConfirmation(){this._confirmSub=this.confirmService.confirmationConfirm$.subscribe(n=>{n&&1===n.state&&((0,p.jy)(this.systemAllowlistOrigin,this.systemAllowlist)||(this.systemAllowlist=(0,p.d9)(this.systemAllowlistOrigin)))})}getSystemAllowlist(){this.onGoing=!0,this.systemInfoService.getSystemAllowlist().subscribe(n=>{this.onGoing=!1,n||(n={}),n.items||(n.items=[]),n.expires_at||(n.expires_at=null),this.systemAllowlist=n,this.systemAllowlistOrigin=(0,p.d9)(n)},n=>{this.onGoing=!1,console.error("An error occurred during getting systemAllowlist")})}deleteItem(n){this.systemAllowlist.items.splice(n,1)}addToSystemAllowlist(){let n={};this.systemAllowlist.items.forEach(e=>{n[e.cve_id]=!0}),this.cveIds.split(/[\n,]+/).forEach(e=>{let i={};i.cve_id=e.trim(),n[i.cve_id]||(n[i.cve_id]=!0,this.systemAllowlist.items.push(i))}),this.cveIds=null,this.showAddModal=!1}get hasAllowlistChanged(){return!(0,p.jy)(this.systemAllowlistOrigin,this.systemAllowlist)}isDisabled(){let n=this.cveIds;return!(n&&n.trim())}get expiresDate(){return this.systemAllowlist&&this.systemAllowlist.expires_at?new Date(this.systemAllowlist.expires_at*N):null}set expiresDate(n){this.systemAllowlist&&n&&(this.systemAllowlist.expires_at=Math.floor(n.getTime()/N))}get neverExpires(){return!(this.systemAllowlist&&this.systemAllowlist.expires_at)}set neverExpires(n){n?(this.systemAllowlist.expires_at=null,this.systemInfoService.resetDateInput(this.dateInput)):this.systemAllowlist.expires_at=Math.floor((new Date).getTime()/N)}get hasExpired(){return!(!this.systemAllowlistOrigin||!this.systemAllowlistOrigin.expires_at)&&(new Date).getTime()>this.systemAllowlistOrigin.expires_at*N}goToDetail(n){window.open(`https://nvd.nist.gov/vuln/detail/${n}`,"_blank")}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(Nt.q),t.Y36(L.Ob),t.Y36(M.O))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-security"]],viewQuery:function(n,e){if(1&n&&t.Gf(vt,5),2&n){let i;t.iGM(i=t.CRH())&&(e.dateInput=i.first)}},decls:54,vars:39,consts:[[1,"clr-form","clr-form-horizontal"],[1,"clr-form-control","d-f"],[1,"clr-control-label"],[1,"form-content","w-100"],[1,"font-size-13"],[1,"mt-05"],[1,"title","font-size-13"],["class","mt-05",4,"ngIf"],[1,"clr-row","width-90per"],[1,"position-relative","pl-05"],["id","show-add-modal-button",1,"btn","btn-link",3,"click"],["class","add-modal add-modal-dark",4,"ngIf"],[1,"allowlist-window"],["class","none",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"clr-col","padding-top-8","ml-1"],[1,"clr-row","expire-data"],[1,"bottom-line","clr-col-2"],["readonly","","type","date","newFormLayout","true",3,"placeholder","clrDate","clrDateChange"],["dateInput",""],[1,"clr-row"],[1,"clr-col-2"],["type","checkbox","clrCheckbox","","name","neverExpires","id","neverExpires",3,"checked","ngModel","ngModelChange"],["type","button","id","security_save",1,"btn","btn-primary",3,"disabled","click"],["type","button","id","security_cancel",1,"btn","btn-outline",3,"disabled","click"],[1,"label","label-warning"],[1,"add-modal","add-modal-dark"],["shape","window-close",1,"float-lg-right","margin-top-4",3,"click"],[1,"flex-direction-column"],["id","allowlist-textarea","clrTextarea","","name","cveIds",1,"w-100","font-italic",3,"ngModel","ngModelChange"],["id","add-to-system",1,"btn","btn-link",3,"disabled","click"],[1,"none"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)",1,"float-lg-right",3,"click"],["shape","times-circle"]],template:function(n,e){1&n&&(t.TgZ(0,"form",0)(1,"section")(2,"div",1)(3,"label",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"span",6),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",5)(13,"span"),t._uU(14),t.ALo(15,"translate"),t.qZA()(),t.TgZ(16,"div",5)(17,"span"),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.YNc(20,Lt,4,3,"div",7),t.qZA(),t.TgZ(21,"div",8)(22,"div",9)(23,"div")(24,"button",10),t.NdJ("click",function(){return e.showAddModal=!e.showAddModal}),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.YNc(27,Et,15,11,"div",11),t.TgZ(28,"ul",12),t.YNc(29,Ut,3,3,"li",13),t.YNc(30,Pt,5,1,"li",14),t.qZA()(),t.TgZ(31,"div",15)(32,"div",16)(33,"label",17),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"div")(37,"input",18,19),t.NdJ("clrDateChange",function(r){return e.expiresDate=r}),t.ALo(39,"translate"),t.qZA()()(),t.TgZ(40,"div",20),t._UZ(41,"label",21),t.TgZ(42,"clr-checkbox-wrapper")(43,"input",22),t.NdJ("ngModelChange",function(r){return e.neverExpires=r}),t.qZA(),t.TgZ(44,"label"),t._uU(45),t.ALo(46,"translate"),t.qZA()()()()()()()()(),t.TgZ(47,"div")(48,"button",23),t.NdJ("click",function(){return e.save()}),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"button",24),t.NdJ("click",function(){return e.cancel()}),t._uU(52),t.ALo(53,"translate"),t.qZA()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,19,"CVE_ALLOWLIST.DEPLOYMENT_SECURITY")),t.xp6(6),t.Oqu(t.lcZ(11,21,"CVE_ALLOWLIST.CVE_ALLOWLIST")),t.xp6(4),t.Oqu(t.lcZ(15,23,"CVE_ALLOWLIST.SYS_ALLOWLIST_EXPLAIN")),t.xp6(4),t.Oqu(t.lcZ(19,25,"CVE_ALLOWLIST.ADD_SYS")),t.xp6(2),t.Q6J("ngIf",e.hasExpired),t.xp6(5),t.hij(" ",t.lcZ(26,27,"CVE_ALLOWLIST.ADD")," "),t.xp6(2),t.Q6J("ngIf",e.showAddModal),t.xp6(2),t.Q6J("ngIf",(null==e.systemAllowlist||null==e.systemAllowlist.items?null:e.systemAllowlist.items.length)<1),t.xp6(1),t.Q6J("ngForOf",null==e.systemAllowlist?null:e.systemAllowlist.items),t.xp6(4),t.Oqu(t.lcZ(35,29,"CVE_ALLOWLIST.EXPIRES_AT")),t.xp6(3),t.s9C("placeholder",t.lcZ(39,31,"CVE_ALLOWLIST.NEVER_EXPIRES")),t.Q6J("clrDate",e.expiresDate),t.xp6(6),t.Q6J("checked",e.neverExpires)("ngModel",e.neverExpires),t.xp6(2),t.hij(" ",t.lcZ(46,33,"CVE_ALLOWLIST.NEVER_EXPIRES")," "),t.xp6(3),t.Q6J("disabled",!e.hasAllowlistChanged||e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(50,35,"BUTTON.SAVE")," "),t.xp6(2),t.Q6J("disabled",!e.hasAllowlistChanged||e.inProgress),t.xp6(1),t.hij(" ",t.lcZ(53,37,"BUTTON.CANCEL")," "))},dependencies:[c._Y,c.Fj,c.Wl,c.JJ,c.JL,c.On,c.F,a.qvL,a.MgK,a.CM6,a.KKC,a.PEh,a.Tsp,a.XE5,a.LAP,I.sg,I.O5,m.X$],styles:[".clr-form-horizontal[_ngcontent-%COMP%]   .clr-form-control[_ngcontent-%COMP%] > .clr-control-label[_ngcontent-%COMP%]{width:14rem}.clr-form-horizontal[_ngcontent-%COMP%]   .flex-direction-column[_ngcontent-%COMP%]{flex-direction:column}.bottom-line[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.expire-data[_ngcontent-%COMP%]{min-width:12.5rem;margin-top:-1rem}.position-relative[_ngcontent-%COMP%]{position:relative}.pl-05[_ngcontent-%COMP%]{padding-left:.5rem}.mt-1[_ngcontent-%COMP%]{margin-top:1rem}.d-f[_ngcontent-%COMP%]{display:flex}.font-size-13[_ngcontent-%COMP%]{font-size:13px}.mt-05[_ngcontent-%COMP%]{margin-bottom:.5rem}.title[_ngcontent-%COMP%]{font-weight:700}.margin-top-4[_ngcontent-%COMP%]{margin-top:4px}.allowlist-window[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px;padding:12px;height:224px;width:222px;overflow-y:auto}.allowlist-window[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:24px;line-height:24px;list-style-type:none}.width-90per[_ngcontent-%COMP%]{width:90%}.none[_ngcontent-%COMP%]{color:#ccc}.color-0079bb[_ngcontent-%COMP%]{color:#0079bb}.padding-top-8[_ngcontent-%COMP%]{padding-top:8px}.padding-left-80[_ngcontent-%COMP%]{padding-left:80px}.add-modal[_ngcontent-%COMP%]{position:absolute;padding:0 8px;background-color:#eee}.add-modal[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:1px solid}.add-modal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{float:right}"]}),o})()},{path:"setting",component:It},{path:"",redirectTo:"auth",pathMatch:"full"}]}];let Gt=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[g],imports:[C.m,d.Bz.forChild(qt)]}),o})()}}]);