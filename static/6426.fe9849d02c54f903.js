"use strict";(self.webpackChunkharbor_portal=self.webpackChunkharbor_portal||[]).push([[6426],{6426:(w,O,l)=>{l.r(O),l.d(O,{HelmChartListModule:()=>Ge});var e=l(4650),d=l(858),A=l(1992),b=l(4128),E=l(2843),v=l(8746),y=l(4004),P=l(262),h=l(268),_=l(3526),m=l(3819),p=l(6742),u=l(5832),M=l(8726),L=l(2443),I=l(6508),U=l(5884),J=l(312),T=l(2466),c=l(9375),C=l(6895),F=l(8348),j=l(4241),H=l(6082);function Q(r,o){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"hbr-label-piece",5),e.qZA()),2&r){const t=o.$implicit;e.xp6(1),e.Q6J("label",t)("labelWidth",130)}}function Y(r,o){if(1&r&&(e.TgZ(0,"clr-signpost-content",3),e.YNc(1,Q,2,2,"div",4),e.qZA()),2&r){const t=e.oxw();e.Q6J("clrPosition","left-top"),e.xp6(1),e.Q6J("ngForOf",t.labels)}}let $=(()=>{class r{constructor(){this.labels=[],this.sortedLabels=[]}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-resource-label-signpost"]],inputs:{labels:"labels"},decls:5,vars:0,consts:[[1,"trigger-item"],["clrSignpostTrigger","",1,"btn","btn-link"],[3,"clrPosition",4,"clrIfOpen"],[3,"clrPosition"],[4,"ngFor","ngForOf"],[3,"label","labelWidth"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"clr-signpost")(2,"button",1),e._uU(3,"..."),e.qZA(),e.YNc(4,Y,2,2,"clr-signpost-content",2),e.qZA()())},dependencies:[C.sg,c.nqY,c.EuU,c.hQ,c.QH5,H.q],styles:["clr-signpost[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:0;margin:0;height:24px;vertical-align:super;line-height:6px}clr-signpost[_ngcontent-%COMP%]   clr-signpost-content[_ngcontent-%COMP%]     .signpost-content-header{display:none}clr-signpost[_ngcontent-%COMP%]   clr-signpost-content[_ngcontent-%COMP%]     .signpost-content-body{padding-bottom:6px;padding-top:6px}"]}),r})();var S=l(4968),N=l(8372),Z=l(4006);const K=["filterInput"];function W(r,o){1&r&&e._UZ(0,"clr-icon",12)}function z(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"span",13),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw().$implicit,s=e.oxw();return i.stopPropagation(),e.KtG(s.unselectLabel(a))}),e._UZ(1,"clr-icon",14),e.qZA()}}function B(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",5)(1,"div",6),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.selectLabel(a))}),e.TgZ(2,"span",7),e.YNc(3,W,1,0,"clr-icon",8),e.qZA(),e.TgZ(4,"span",9),e._UZ(5,"hbr-label-piece",10),e.qZA(),e.YNc(6,z,2,0,"span",11),e.qZA()()}if(2&r){const t=o.$implicit,n=e.oxw();e.xp6(3),e.Q6J("ngIf",n.isSelected(t)),e.xp6(2),e.Q6J("label",t)("labelWidth",90),e.xp6(1),e.Q6J("ngIf",n.isSelected(t))}}let G=(()=>{class r{constructor(t){this.cdr=t,this.labels=[],this.selectedLabels=new Map,this.changes=new e.vpe(!1),this.labelFilter=""}ngOnInit(){(0,S.R)(this.filterInputRef.nativeElement,"keyup").pipe((0,N.b)(500)).subscribe(()=>{let t=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(t),2e3)})}get filteredLabels(){return this.labels.filter(t=>t.name.includes(this.labelFilter))}isActive(){return this.selectedLabels.size>0}accepts(t){return this.resourceType===p._g.CHART_VERSION?t.labels.some(n=>this.selectedLabels.get(n.id)):this.resourceType!==p._g.REPOSITORY_TAG||t.labels.some(n=>this.selectedLabels.get(n.id))}selectLabel(t){this.selectedLabels.set(t.id,!0),this.changes.emit()}unselectLabel(t){this.selectedLabels.delete(t.id),this.changes.emit(!0)}isSelected(t){return this.selectedLabels.has(t.id)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-chart-version-label-filter"]],viewQuery:function(t,n){if(1&t&&e.Gf(K,7),2&t){let i;e.iGM(i=e.CRH())&&(n.filterInputRef=i.first)}},inputs:{labels:"labels",resourceType:"resourceType"},decls:7,vars:5,consts:[[1,"form-group","filter-div"],["type","text",1,"clr-input",3,"placeholder","ngModel","ngModelChange"],["filterInput",""],[1,"label-items-container"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[1,"cur-pointer",3,"click"],[1,"check-label-span"],["shape","check",4,"ngIf"],[1,"cur-pointer"],[3,"label","labelWidth"],["class","x-label-span",3,"click",4,"ngIf"],["shape","check"],[1,"x-label-span",3,"click"],["shape","times-circle"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"input",1,2),e.NdJ("ngModelChange",function(a){return n.labelFilter=a}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",3),e.YNc(6,B,7,4,"div",4),e.qZA()()),2&t&&(e.xp6(2),e.s9C("placeholder",e.lcZ(4,3,"LABEL.FILTER_LABEL_PLACEHOLDER")),e.Q6J("ngModel",n.labelFilter),e.xp6(4),e.Q6J("ngForOf",n.filteredLabels))},dependencies:[Z.Fj,Z.JJ,Z.On,c.qvL,C.sg,C.O5,H.q,T.X$],styles:[".filter-div[_ngcontent-%COMP%]{margin-left:9px;margin-bottom:12px}.cur-pointer[_ngcontent-%COMP%]{cursor:pointer}.label-items-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .x-label-span[_ngcontent-%COMP%]{width:12px;min-height:12px;float:right}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .check-label-span[_ngcontent-%COMP%]{width:12px;min-height:12px;float:left;margin-right:9px}"]}),r})();var X=l(7579);const ee=["filterInput"];function te(r,o){1&r&&e._UZ(0,"clr-icon",16)}function ne(r,o){if(1&r&&(e.TgZ(0,"div",14),e.YNc(1,te,1,0,"clr-icon",15),e.qZA()),2&r){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",n.isMarked(t))}}function re(r,o){1&r&&(e.TgZ(0,"div",17),e._uU(1," Loading... "),e.qZA())}function ie(r,o){1&r&&e._UZ(0,"clr-icon",18)}function oe(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.markLabel(a))}),e.YNc(2,ne,2,1,"div",8),e.YNc(3,re,2,0,"div",9),e.TgZ(4,"div",10),e._UZ(5,"hbr-label-piece",11),e.qZA(),e.TgZ(6,"div",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.unmarkLabel(a))}),e.YNc(7,ie,1,0,"clr-icon",13),e.qZA()()()}if(2&r){const t=o.$implicit,n=e.oxw();e.xp6(2),e.Q6J("ngIf",!n.isMarkOngoing(t)),e.xp6(1),e.Q6J("ngIf",n.isMarkOngoing(t)),e.xp6(2),e.Q6J("label",t)("labelWidth",130),e.xp6(2),e.Q6J("ngIf",n.isMarked(t))}}let ae=(()=>{class r{constructor(t,n,i){this.labelService=t,this.errorHandler=n,this.cdr=i,this.labels=[],this.changeEvt=new e.vpe,this.labelFilter="",this.markedMap=new Map,this.markingMap=new Map,this.sortedLabels=[],this.loading=!1,this.labelChangeDebouncer=new X.x}ngOnInit(){this.sortedLabels=this.labels,this.refresh(),(0,S.R)(this.filterInputRef.nativeElement,"keyup").pipe((0,N.b)(500)).subscribe(()=>this.refresh()),this.labelChangeDebouncer.pipe((0,N.b)(1e3)).subscribe(()=>this.changeEvt.emit())}refresh(){this.loading=!0,this.resourceType===p._g.CHART_VERSION&&this.labelService.getChartVersionLabels(this.projectName,this.resource.name,this.resource.version).pipe((0,v.x)(()=>{this.loading=!1;let t=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(t),2e3)})).subscribe(t=>{for(let n of t)this.markedMap.set(n.id,!0);this.sortedLabels=this.getSortedLabels()})}markLabel(t){this.markedMap.get(t.id)||this.isMarkOngoing(t)||(this.markingMap.set(t.id,!0),this.labelService.markChartLabel(this.projectName,this.resource.name,this.resource.version,t).pipe((0,v.x)(()=>{this.markingMap.set(t.id,!1);let n=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(n),5e3)})).subscribe(()=>{this.markedMap.set(t.id,!0),this.refresh(),this.labelChangeDebouncer.next(null);let n=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(n),5e3)},n=>this.errorHandler.error(n)))}unmarkLabel(t){!this.isMarked(t)||this.isMarkOngoing(t)||(this.markingMap.set(t.id,!0),this.labelService.unmarkChartLabel(this.projectName,this.resource.name,this.resource.version,t).pipe((0,v.x)(()=>{this.markingMap.set(t.id,!1);let n=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(n),5e3)})).subscribe(()=>{this.markedMap.set(t.id,!1),this.refresh(),this.labelChangeDebouncer.next(null);let n=setInterval(()=>this.cdr.markForCheck(),100);setTimeout(()=>clearInterval(n),5e3)},n=>this.errorHandler.error(n)))}isMarked(t){return!!this.markedMap.get(t.id)}isMarkOngoing(t){return!!this.markingMap.get(t.id)}getSortedLabels(){return this.labels.filter(t=>t.name.includes(this.labelFilter)).sort((t,n)=>this.isMarked(t)&&!this.isMarked(n)?-1:!this.isMarked(t)&&this.isMarked(n)?1:t.name<n.name?-1:t.name>n.name?1:0)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.QE),e.Y36(L.q),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-resource-label-marker"]],viewQuery:function(t,n){if(1&t&&e.Gf(ee,7),2&t){let i;e.iGM(i=e.CRH())&&(n.filterInputRef=i.first)}},inputs:{labels:"labels",projectName:"projectName",resource:"resource",resourceType:"resourceType",addLabelHeaders:"addLabelHeaders"},outputs:{changeEvt:"changeEvt"},decls:9,vars:5,consts:[[1,"dropdown-header"],[1,"form-group","filter-div"],["type","text","placeholder","Filter labels",1,"clr-input",3,"ngModel","ngModelChange"],["filterInput",""],[1,"label-items-container"],["class","dropdown-item",4,"ngFor","ngForOf"],[1,"dropdown-item"],[3,"click"],["class","mark-label-div",4,"ngIf"],["class","spinner spinner-sm",4,"ngIf"],[1,"label-div"],[3,"label","labelWidth"],[1,"unmark-label-div",3,"click"],["shape","times-circle",4,"ngIf"],[1,"mark-label-div"],["shape","check",4,"ngIf"],["shape","check"],[1,"spinner","spinner-sm"],["shape","times-circle"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"label",0),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",1)(5,"input",2,3),e.NdJ("ngModelChange",function(a){return n.labelFilter=a}),e.qZA()(),e.TgZ(7,"div",4),e.YNc(8,oe,8,5,"div",5),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(e.lcZ(3,3,n.addLabelHeaders)),e.xp6(3),e.Q6J("ngModel",n.labelFilter),e.xp6(3),e.Q6J("ngForOf",n.sortedLabels))},dependencies:[Z.Fj,Z.JJ,Z.On,c.qvL,c.MgK,C.sg,C.O5,H.q,T.X$],styles:[".filter-div[_ngcontent-%COMP%]{margin-left:9px;margin-right:9px;margin-bottom:9px}.label-items-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .mark-label-div[_ngcontent-%COMP%]{width:16px;height:16px;display:inline-block;float:left;margin-right:9px}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .mark-label-div[_ngcontent-%COMP%]   clr-icon[_ngcontent-%COMP%]{margin-bottom:3px}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{display:inline-block}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .label-div[_ngcontent-%COMP%]{display:inline-block;margin-top:4px}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .unmark-label-div[_ngcontent-%COMP%]{width:16px;height:16px;display:inline-block;float:right}.label-items-container[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .unmark-label-div[_ngcontent-%COMP%]   clr-icon[_ngcontent-%COMP%]{margin-bottom:3px}"]}),r})();var q=l(3046);const le=["confirmationDialog"];function se(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"clr-dropdown-menu",38)(1,"hbr-resource-label-marker",39),e.NdJ("changeEvt",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onLabelChange(i.selectedRows[0]))}),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("labels",t.labels)("projectName",t.projectName)("resource",t.selectedRows[0])("resourceType",t.resourceType)("addLabelHeaders",t.addLabelHeaders)}}function ce(r,o){if(1&r&&e._UZ(0,"hbr-label-piece",46),2&r){const t=e.oxw().$implicit;e.Q6J("label",t.labels[0])("labelWidth",130)}}function pe(r,o){if(1&r&&e._UZ(0,"hbr-resource-label-signpost",47),2&r){const t=e.oxw().$implicit;e.Q6J("labels",t.labels)}}function de(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"clr-dg-row",40)(1,"clr-dg-cell")(2,"span",41)(3,"img",42),e.NdJ("error",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.getDefaultIcon(a))}),e.qZA()(),e.TgZ(4,"a",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onVersionClick(a))}),e._uU(5),e.qZA()(),e.TgZ(6,"clr-dg-cell"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"clr-dg-cell"),e._uU(10),e.qZA(),e.TgZ(11,"clr-dg-cell"),e._uU(12),e.qZA(),e.TgZ(13,"clr-dg-cell"),e._uU(14),e.ALo(15,"harborDatetime"),e.qZA(),e.TgZ(16,"clr-dg-cell")(17,"div"),e.YNc(18,ce,1,2,"hbr-label-piece",44),e.YNc(19,pe,1,1,"hbr-resource-label-signpost",45),e.qZA()()()}if(2&r){const t=o.$implicit,n=e.oxw(2);e.Q6J("clrDgItem",t),e.xp6(3),e.Q6J("src",t.icon?t.icon:n.chartDefaultIcon,e.LSH),e.xp6(2),e.Oqu(t.version),e.xp6(2),e.Oqu(e.lcZ(8,9,n.getStatusString(t))),e.xp6(3),e.Oqu(t.engine),e.xp6(2),e.Oqu(n.getMaintainerString(t.maintainers)),e.xp6(2),e.Oqu(e.lcZ(15,11,t.created)),e.xp6(4),e.Q6J("ngIf",null==t.labels?null:t.labels.length),e.xp6(1),e.Q6J("ngIf",(null==t.labels?null:t.labels.length)>1)}}function he(r,o){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){e.oxw();const t=e.MAs(44);e.xp6(1),e.lnq(" ",t.firstItem+1," - ",t.lastItem+1," ",e.lcZ(2,3,"HELM_CHART.OF")," ")}}const me=function(){return[15,25,50]};function _e(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",22)(1,"clr-datagrid",23),e.NdJ("clrDgRefresh",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.refresh(i))})("clrDgSelectedChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.selectedRows=i)}),e.TgZ(2,"clr-dg-action-bar")(3,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.versionDownload())}),e._UZ(4,"clr-icon",25),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openVersionDeleteModal())}),e._UZ(8,"clr-icon",26),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"clr-dropdown")(12,"button",27),e._UZ(13,"clr-icon",28),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.YNc(16,se,2,5,"clr-dropdown-menu",29),e.qZA()(),e.TgZ(17,"clr-dg-column"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"clr-dg-column"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"clr-dg-column"),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"clr-dg-column"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"clr-dg-column"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"clr-dg-column"),e._uU(33),e.ALo(34,"translate"),e.TgZ(35,"clr-dg-filter",30),e._UZ(36,"hbr-chart-version-label-filter",31,32),e.qZA()(),e.TgZ(38,"clr-dg-placeholder"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.YNc(41,de,20,13,"clr-dg-row",33),e.TgZ(42,"clr-dg-footer")(43,"clr-dg-pagination",34,35)(45,"clr-dg-page-size",36),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,he,3,5,"span",37),e._uU(49),e.ALo(50,"translate"),e.qZA()()()()}if(2&r){const t=e.MAs(37),n=e.oxw();e.xp6(1),e.Q6J("clrDgLoading",n.loading)("clrDgSelected",n.selectedRows),e.xp6(2),e.Q6J("disabled",1!==n.selectedRows.length||!n.hasDownloadHelmChartVersionPermission),e.xp6(2),e.hij("\xa0",e.lcZ(6,26,"HELM_CHART.DOWNLOAD")," "),e.xp6(2),e.Q6J("disabled",n.selectedRows.length<=0||!n.hasDeleteHelmChartVersionPermission),e.xp6(2),e.hij("\xa0",e.lcZ(10,28,"BUTTON.DELETE")," "),e.xp6(3),e.Q6J("disabled",1!==n.selectedRows.length||!n.hasAddRemoveHelmChartVersionPermission),e.xp6(2),e.hij("",e.lcZ(15,30,"REPOSITORY.ADD_LABELS")," "),e.xp6(4),e.Oqu(e.lcZ(19,32,"HELM_CHART.VERSION")),e.xp6(3),e.Oqu(e.lcZ(22,34,"HELM_CHART.STATUS")),e.xp6(3),e.Oqu(e.lcZ(25,36,"HELM_CHART.ENGINE")),e.xp6(3),e.Oqu(e.lcZ(28,38,"HELM_CHART.MAINTAINERS")),e.xp6(3),e.Oqu(e.lcZ(31,40,"HELM_CHART.CREATED")),e.xp6(3),e.hij(" ",e.lcZ(34,42,"REPOSITORY.LABELS")," "),e.xp6(2),e.Q6J("clrDgFilter",t),e.xp6(1),e.Q6J("labels",n.labels)("resourceType",n.resourceType),e.xp6(3),e.Oqu(e.lcZ(40,44,"HELM_CHART.NO_VERSION_PLACEHOLDER")),e.xp6(2),e.Q6J("clrDgItemsOf",n.chartVersions),e.xp6(2),e.Q6J("clrDgPageSize",n.pageSize)("clrDgTotalItems",n.totalCount),e.xp6(2),e.Q6J("clrPageSizeOptions",e.DdM(50,me)),e.xp6(1),e.Oqu(e.lcZ(47,46,"PAGINATION.PAGE_SIZE")),e.xp6(2),e.Q6J("ngIf",n.totalCount),e.xp6(1),e.AsE(" ",n.totalCount," ",e.lcZ(50,48,"HELM_CHART.ITEMS")," ")}}function ge(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",51)(1,"a",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.onVersionClick(a))}),e.TgZ(2,"div",53)(3,"div",54)(4,"img",42),e.NdJ("error",function(){const a=e.CHM(t).$implicit,s=e.oxw(2);return e.KtG(s.getDefaultIcon(a))}),e.qZA(),e.TgZ(5,"div",55)(6,"span",56),e._uU(7),e.qZA(),e.TgZ(8,"a",57),e._uU(9),e.qZA()()()(),e.TgZ(10,"div",58)(11,"div",59)(12,"label",60),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",59)(19,"label",60),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div"),e._uU(23),e.qZA()(),e.TgZ(24,"div",59)(25,"label",60),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div"),e._uU(29),e.qZA()(),e.TgZ(30,"div",59)(31,"label",60),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.qZA()()(),e.TgZ(36,"div",61)(37,"clr-dropdown",62)(38,"button",63),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.versionDownload(i,s))}),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"button",64),e.NdJ("click",function(i){const s=e.CHM(t).$implicit,f=e.oxw(2);return e.KtG(f.deleteVersionCard(i,s))}),e._uU(42),e.ALo(43,"translate"),e.qZA()()()()()}if(2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(4),e.Q6J("src",t.icon?t.icon:n.chartDefaultIcon,e.LSH),e.xp6(3),e.Oqu(t.name),e.xp6(2),e.Oqu(t.home),e.xp6(4),e.Oqu(e.lcZ(14,15,"HELM_CHART.STATUS")),e.xp6(3),e.Oqu(e.lcZ(17,17,n.getStatusString(t))),e.xp6(4),e.Oqu(e.lcZ(21,19,"HELM_CHART.ENGINE")),e.xp6(3),e.Oqu(t.engine),e.xp6(3),e.Oqu(e.lcZ(27,21,"HELM_CHART.MAINTAINERS")),e.xp6(3),e.Oqu(n.getMaintainerString(t.maintainers)),e.xp6(3),e.Oqu(e.lcZ(33,23,"HELM_CHART.VERSION")),e.xp6(3),e.Oqu(t.version),e.xp6(2),e.Q6J("clrCloseMenuOnItemClick",!1),e.xp6(2),e.hij(" ",e.lcZ(40,25,"HELM_CHART.DOWNLOAD")," "),e.xp6(2),e.Q6J("disabled",!n.hasDeleteHelmChartVersionPermission),e.xp6(1),e.hij(" ",e.lcZ(43,27,"BUTTON.DELETE")," ")}}function ue(r,o){1&r&&(e.TgZ(0,"div",65),e._UZ(1,"span",66)(2,"span",67),e.qZA())}function Ce(r,o){if(1&r&&(e.TgZ(0,"div",48),e.YNc(1,ge,44,29,"div",49),e.YNc(2,ue,3,0,"div",50),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.chartVersions),e.xp6(1),e.Q6J("ngIf",t.loading)}}const R=function(r){return{"is-highlight":r}},x=100;let fe=(()=>{class r{constructor(t,n,i,a,s,f,g,D){this.errorHandlerEntity=t,this.systemInfoService=n,this.helmChartService=i,this.labelService=a,this.resrouceLabelService=s,this.userPermissionService=f,this.operationService=g,this.translateService=D,this.signedCon={},this.chartDefaultIcon=p.PO,this.versionClickEvt=new e.vpe,this.backEvt=new e.vpe,this.chartVersions=[],this.selectedRows=[],this.labels=[],this.loading=!0,this.resourceType=p._g.CHART_VERSION,this.cardHover=!1,this.listHover=!1,this.pageSize=(0,_.tb)(_.V2.CHART_VERSION_COMPONENT),this.currentPage=1,this.totalCount=0,this.addLabelHeaders="HELM_CHART.ADD_LABEL_TO_CHART_VERSION"}get registryUrl(){return this.systemInfo?this.systemInfo.registry_url:""}ngOnInit(){this.systemInfoService.getSystemInfo().subscribe(t=>this.systemInfo=t,t=>this.errorHandlerEntity.error(t)),this.refresh(),this.getLabels(),this.lastFilteredVersionName="",this.getHelmChartVersionPermission(this.projectId)}updateFilterValue(t){this.lastFilteredVersionName=t,this.refresh()}getLabels(){this.labelService.ListLabelsResponse({pageSize:x,page:1,scope:"p",projectId:this.projectId}).subscribe(t=>{if(t.headers){const n=t.headers.get("X-Total-Count"),i=parseInt(n,0);let a=t.body||[];if(i<=x)a&&a.length&&(this.labels=this.labels.concat(a));else{const s=Math.ceil(i/x),f=[];for(let g=2;g<=s;g++)f.push(this.labelService.ListLabels({page:g,pageSize:x,scope:"p",projectId:this.projectId}));(0,b.D)(f).subscribe(g=>{g&&g.length&&(g.forEach(D=>{a=a.concat(D)}),this.labels=this.labels.concat(a))})}}}),this.labelService.ListLabelsResponse({pageSize:x,page:1,scope:"g"}).subscribe(t=>{if(t.headers){const n=t.headers.get("X-Total-Count"),i=parseInt(n,0);let a=t.body||[];if(i<=x)a&&a.length&&(this.labels=this.labels.concat(a));else{const s=Math.ceil(i/x),f=[];for(let g=2;g<=s;g++)f.push(this.labelService.ListLabels({page:g,pageSize:x,scope:"g"}));(0,b.D)(f).subscribe(g=>{g&&g.length&&(g.forEach(D=>{a=a.concat(D)}),this.labels=this.labels.concat(a))})}}})}refresh(t){t?.page?.size&&(0,_.Pe)(_.V2.CHART_VERSION_COMPONENT,t.page.size),this.loading=!0,this.helmChartService.getChartVersions(this.projectName,this.chartName).pipe((0,v.x)(()=>{this.selectedRows=[],this.loading=!1})).subscribe(n=>{this.chartVersions=n.filter(i=>i?.version?.includes(this.lastFilteredVersionName)),this.totalCount=n.length},n=>{this.errorHandlerEntity.error(n)})}getMaintainerString(t){if(!t||t.length<1)return"";let n=t[0].name;return t.length>1&&(n=`${n} (${t.length-1} others)`),n}onVersionClick(t){this.versionClickEvt.emit(t.version)}deleteVersion(t){let n=new m.gB;return n.name="OPERATION.DELETE_CHART_VERSION",n.data.id=t.digest,n.state=m.yb.progressing,n.data.name=`${t.name}:${t.version}`,this.operationService.publishInfo(n),this.helmChartService.deleteChartVersion(this.projectName,this.chartName,t.version).pipe((0,y.U)(()=>(0,m.hm)(n,m.yb.success)),(0,P.K)(i=>{const a=(0,u.Po)(i);return this.translateService.get(a).subscribe(s=>(0,m.hm)(n,m.yb.failure,s)),(0,E._)(i)}))}deleteVersions(t){if(t&&t.length<1)return;let n,i=this.chartVersions.length,a=t.map(s=>this.deleteVersion(s));(0,b.D)(a).pipe((0,v.x)(()=>{i!==n&&this.refresh()})).subscribe(s=>{n=s.filter(f=>f.state===m.yb.success).length,i===n&&this.backEvt.emit()},s=>{this.errorHandlerEntity.error(s)})}versionDownload(t,n){let i;if(t&&t.stopPropagation(),n)i=n;else{if(this.selectedRows.length<1)return;i=this.selectedRows[0]}i&&this.helmChartService.downloadChart(this.projectName,i.urls[0]).subscribe(s=>{(0,_.Sv)(s)},s=>{this.errorHandlerEntity.error(s)})}showCard(t){this.isCardView!==t&&(this.isCardView=t)}mouseEnter(t){"card"===t?this.cardHover=!0:this.listHover=!0}mouseLeave(t){"card"===t?this.cardHover=!1:this.listHover=!1}isHovering(t){return"card"===t?this.cardHover:this.listHover}onChartFileChangeEvent(t){t.target.files&&t.target.files.length>0&&(this.chartFile=t.target.files[0])}onProvFileChangeEvent(t){t.target.files&&t.target.files.length>0&&(this.provFile=t.target.files[0])}deleteVersionCard(t,n){t.stopPropagation(),this.openVersionDeleteModal([n])}openVersionDeleteModal(t){t||(t=this.selectedRows);let n=t.map(a=>a.version).join(","),i=new M.c("HELM_CHART.DELETE_CHART_VERSION_TITLE","HELM_CHART.DELETE_CHART_VERSION",n,t,14,2);this.confirmationDialog.open(i)}confirmDeletion(t){t&&14===t.source&&1===t.state&&this.deleteVersions(t.data)}getImgLink(t){return t.icon?t.icon:p.PO}getDefaultIcon(t){t.icon=this.chartDefaultIcon}getStatusString(t){return t.deprecated?"HELM_CHART.DEPRECATED":"HELM_CHART.ACTIVE"}onLabelChange(t){this.resrouceLabelService.getChartVersionLabels(this.projectName,this.chartName,t.version).subscribe(n=>{let i=this.chartVersions.findIndex(a=>a.name===t.name);this.chartVersions[i].labels=n})}getHelmChartVersionPermission(t){let n=this.userPermissionService.getPermission(t,h._W.HELM_CHART_VERSION_LABEL.KEY,h._W.HELM_CHART_VERSION_LABEL.VALUE.CREATE),i=this.userPermissionService.getPermission(t,h._W.HELM_CHART_VERSION.KEY,h._W.HELM_CHART_VERSION.VALUE.READ),a=this.userPermissionService.getPermission(t,h._W.HELM_CHART_VERSION.KEY,h._W.HELM_CHART_VERSION.VALUE.DELETE);(0,b.D)(n,i,a).subscribe(s=>{this.hasAddRemoveHelmChartVersionPermission=s[0],this.hasDownloadHelmChartVersionPermission=s[1],this.hasDeleteHelmChartVersionPermission=s[2]},s=>this.errorHandlerEntity.error(s))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(L.q),e.Y36(h.Ob),e.Y36(I.Ph),e.Y36(U.Q),e.Y36(h.QE),e.Y36(h.Hx),e.Y36(J.f9),e.Y36(T.sK))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-helm-chart-version"]],viewQuery:function(t,n){if(1&t&&e.Gf(le,5),2&t){let i;e.iGM(i=e.CRH())&&(n.confirmationDialog=i.first)}},inputs:{projectId:"projectId",projectName:"projectName",chartName:"chartName",roleName:"roleName",hasSignedIn:"hasSignedIn",chartDefaultIcon:"chartDefaultIcon"},outputs:{versionClickEvt:"versionClickEvt",backEvt:"backEvt"},decls:28,vars:19,consts:[[1,"version-position"],[1,"row","flex-items-xs-between"],[1,"col-xs-4"],[1,"title-container"],[1,"chart-name-span"],[1,"row","version-tool"],[1,"toolbar"],[1,"row","flex-items-xs-right","option-right","rightPos"],[1,"flex-xs-middle"],[3,"withDivider","filterPlaceholder","currentValue","filterEvt"],[1,"card-btn",3,"click","mouseenter","mouseleave"],["shape","view-cards",3,"ngClass"],[1,"list-btn",3,"click","mouseenter","mouseleave"],["shape","view-list",3,"ngClass"],[1,"filter-divider"],[1,"refresh-btn",3,"click"],["shape","refresh"],[1,"row"],["class","col-lg-12 col-md-12 col-sm-12 col-xs-12",4,"ngIf"],["class","row card-container",4,"ngIf"],[3,"confirmAction"],["confirmationDialog",""],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[3,"clrDgLoading","clrDgSelected","clrDgRefresh","clrDgSelectedChange"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],["shape","download","size","16"],["shape","times","size","16"],["type","button","clrDropdownTrigger","",1,"btn","btn-secondary",3,"disabled"],["shape","plus","size","16"],["clrPosition","bottom-left",4,"clrIfOpen"],[3,"clrDgFilter"],[1,"label-filter",3,"labels","resourceType"],["labelFilter",""],[3,"clrDgItem",4,"clrDgItems","clrDgItemsOf"],[3,"clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],[4,"ngIf"],["clrPosition","bottom-left"],[3,"labels","projectName","resource","resourceType","addLabelHeaders","changeEvt"],[3,"clrDgItem"],[1,"list-img"],[3,"src","error"],["href","javascript:void(0)",3,"click"],[3,"label","labelWidth",4,"ngIf"],[3,"labels",4,"ngIf"],[3,"label","labelWidth"],[3,"labels"],[1,"row","card-container"],["class","col-lg-3 col-md-4 col-sm-6",4,"ngFor","ngForOf"],["class","center-x",4,"ngIf"],[1,"col-lg-3","col-md-4","col-sm-6"],["let","","i","index;",1,"card","clickable",3,"click"],[1,"card-header"],[1,"card-media-block"],[1,"card-media-description"],[1,"card-media-title"],[1,"card-media-text"],[1,"card-block"],[1,"form-group"],[1,"card-label"],[1,"card-footer"],[3,"clrCloseMenuOnItemClick"],["type","button",1,"btn","btn-link",3,"click"],["type","button",1,"btn","btn-link",3,"disabled","click"],[1,"center-x"],[1,"vertical-helper"],[1,"spinner"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"hbr-filter",9),e.NdJ("filterEvt",function(a){return n.updateFilterValue(a)}),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"span",10),e.NdJ("click",function(){return n.showCard(!0)})("mouseenter",function(){return n.mouseEnter("card")})("mouseleave",function(){return n.mouseLeave("card")}),e._UZ(17,"clr-icon",11),e.qZA(),e.TgZ(18,"span",12),e.NdJ("click",function(){return n.showCard(!1)})("mouseenter",function(){return n.mouseEnter("list")})("mouseleave",function(){return n.mouseLeave("list")}),e._UZ(19,"clr-icon",13),e.qZA(),e._UZ(20,"span",14),e.TgZ(21,"span",15),e.NdJ("click",function(){return n.refresh()}),e._UZ(22,"clr-icon",16),e.qZA()()()()(),e.TgZ(23,"div",17),e.YNc(24,_e,51,51,"div",18),e.qZA(),e.YNc(25,Ce,3,2,"div",19),e.TgZ(26,"confirmation-dialog",20,21),e.NdJ("confirmAction",function(a){return n.confirmDeletion(a)}),e.qZA()()),2&t&&(e.xp6(5),e.hij(" ",e.lcZ(6,9,n.chartName)," "),e.xp6(3),e.hij(" ",e.lcZ(9,11,n.roleName)," "),e.xp6(6),e.s9C("filterPlaceholder",e.lcZ(15,13,"HELM_CHART.FILTER_FOR_CHARTS")),e.Q6J("withDivider",!0)("currentValue",n.lastFilteredVersionName),e.xp6(3),e.Q6J("ngClass",e.VKq(15,R,n.isCardView||n.isHovering("card"))),e.xp6(2),e.Q6J("ngClass",e.VKq(17,R,!n.isCardView||n.isHovering("list"))),e.xp6(5),e.Q6J("ngIf",!n.isCardView),e.xp6(1),e.Q6J("ngIf",n.isCardView))},dependencies:[c.C9t,c.Gwl,c.m4W,c.CsC,c.f6,c.Z4N,c.fv_,c.dRQ,c.Ltv,c.YYR,c.F7K,c.PDs,c.KHL,c.Gcc,c.jND,c.Nh1,c.dml,c.K8c,c.qvL,c.nqY,c.MgK,c.f_W,c.zwp,c.ZUS,C.mk,C.sg,C.O5,F.z,j.z,$,H.q,G,ae,T.X$,q.Z],styles:[".title-container[_ngcontent-%COMP%]{display:flex}.title-container[_ngcontent-%COMP%]   .chart-name-span[_ngcontent-%COMP%]{border-right:1px solid gray;font-size:27px;font-weight:400;padding-right:9px;margin-right:9px}.version-tool[_ngcontent-%COMP%]{position:relative}.version-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{overflow:hidden}.version-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .rightPos[_ngcontent-%COMP%]{position:absolute;z-index:100;right:35px;margin-top:4px}.version-tool[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .rightPos[_ngcontent-%COMP%]   .filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}clr-dg-action-bar[_ngcontent-%COMP%]   clr-dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:.25rem .5rem .25rem 0}hbr-resource-label-signpost[_ngcontent-%COMP%]{display:inline-block;max-height:24px;margin-left:3px}.card-container[_ngcontent-%COMP%]{margin-top:40px}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-media-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:45px;width:45px}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-media-block[_ngcontent-%COMP%]   .card-media-description[_ngcontent-%COMP%]{width:80%;height:45px}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-media-block[_ngcontent-%COMP%]   .card-media-description[_ngcontent-%COMP%]   .card-media-title[_ngcontent-%COMP%]{overflow:hidden;height:24px}.card-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-media-block[_ngcontent-%COMP%]   .card-media-description[_ngcontent-%COMP%]   .card-media-text[_ngcontent-%COMP%]{font-size:.8em;color:#007cbb;overflow:hidden;text-overflow:ellipsis;word-wrap:break-word;white-space:nowrap;height:20px}.card-container[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{font-size:.9em;min-height:100px;margin-top:0}.card-container[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex}.card-container[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100px;color:#aaa}.card-container[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding-top:6px;padding-bottom:6px}.list-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;margin-right:12px}.vertical-helper[_ngcontent-%COMP%]{display:inline-block;height:100%;vertical-align:middle}.center-x[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;top:6.5rem;left:50%;transform:translate(-50%)}.version-position[_ngcontent-%COMP%]{position:relative}"]}),r})(),be=(()=>{class r{constructor(t,n,i){this.route=t,this.router=n,this.session=i,this.loading=!1}ngOnInit(){this.projectId=+this.route.snapshot.parent.params.id,this.chartName=this.route.snapshot.params.chart,this.currentUser=this.session.getCurrentUser();let t=this.route.snapshot.parent.data;if(t){let n=t.projectResolver;this.roleName=n.role_name,this.projectName=n.name}}onVersionClick(t){this.router.navigateByUrl(`${this.router.url}/${t}`)}gotoProjectList(){this.router.navigateByUrl("/harbor/projects")}gotoChartList(){this.router.navigateByUrl(`/harbor/projects/${this.projectId}/helm-charts`)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(A.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["list-chart-version"]],decls:12,vars:9,consts:[[1,"breadcrumb"],[1,"back-icon"],["href","javascript:void(0)",3,"click"],[3,"projectId","projectName","chartName","roleName","hasSignedIn","versionClickEvt","backEvt"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3,"<"),e.qZA(),e.TgZ(4,"a",2),e.NdJ("click",function(){return n.gotoProjectList()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",1),e._uU(8,"<"),e.qZA(),e.TgZ(9,"a",2),e.NdJ("click",function(){return n.gotoChartList()}),e._uU(10),e.qZA()(),e.TgZ(11,"hbr-helm-chart-version",3),e.NdJ("versionClickEvt",function(a){return n.onVersionClick(a)})("backEvt",function(){return n.gotoChartList()}),e.qZA()()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,7,"SIDE_NAV.PROJECTS")),e.xp6(5),e.Oqu(n.projectName),e.xp6(1),e.Q6J("projectId",n.projectId)("projectName",n.projectName)("chartName",n.chartName)("roleName",n.roleName)("hasSignedIn",n.hasSignedIn))},dependencies:[fe,T.X$],styles:[".breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;color:#007cbb;font-size:16px;margin:5px}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:.5rem}.back-icon[_ngcontent-%COMP%]{color:#007cbb;font-size:16px}"]}),r})();function ve(r,o){if(1&r&&(e.TgZ(0,"tr")(1,"td",3),e._uU(2),e.qZA(),e.TgZ(3,"td",3),e._uU(4),e.qZA(),e.TgZ(5,"td",3)(6,"a",5),e._uU(7),e.qZA()()()),2&r){const t=o.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.version),e.xp6(2),e.s9C("href",t.repository,e.LSH),e.xp6(1),e.Oqu(t.repository)}}let Te=(()=>{class r{constructor(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-chart-detail-dependency"]],inputs:{dependencies:"dependencies"},decls:16,vars:10,consts:[[1,"row","flex-items-xs-center","dep-container"],[1,"col-md-12"],[1,"table"],[1,"left"],[4,"ngFor","ngForOf"],[3,"href"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead")(4,"tr")(5,"th",3),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"th",3),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",3),e._uU(12),e.ALo(13,"translate"),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,ve,8,4,"tr",4),e.qZA()()()()),2&t&&(e.xp6(6),e.Oqu(e.lcZ(7,4,"HELM_CHART.NAME")),e.xp6(3),e.Oqu(e.lcZ(10,6,"HELM_CHART.VERSION")),e.xp6(3),e.Oqu(e.lcZ(13,8,"HELM_CHART.REPO")),e.xp6(3),e.Q6J("ngForOf",n.dependencies))},dependencies:[C.sg,T.X$],styles:[".dep-container[_ngcontent-%COMP%]{margin-top:30px}"],changeDetection:0}),r})();var Ze=l(5016),k=l(5471);function Me(r,o){if(1&r&&(e._UZ(0,"div",22),e.ALo(1,"markdown")),2&r){const t=e.oxw();e.Q6J("innerHTML",e.lcZ(1,1,t.readme),e.oJD)}}function xe(r,o){1&r&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"HELM_CHART.NO_README")))}function Ae(r,o){1&r&&(e.TgZ(0,"td",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"HELM_CHART.SRC_REPO")," "))}function Oe(r,o){1&r&&e._UZ(0,"td",9)}function Le(r,o){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Ae,3,3,"td",23),e.YNc(2,Oe,1,0,"td",23),e.TgZ(3,"td",10)(4,"a",11),e._uU(5),e.qZA()()()),2&r){const t=o.$implicit,n=o.index;e.xp6(1),e.Q6J("ngIf",0===n),e.xp6(1),e.Q6J("ngIf",0!==n),e.xp6(2),e.s9C("href",t,e.LSH),e.xp6(1),e.Oqu(t)}}function Ee(r,o){1&r&&(e.TgZ(0,"td",9),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"HELM_CHART.MAINTAINERS")," "))}function ye(r,o){1&r&&e._UZ(0,"td",9)}function Pe(r,o){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Ee,3,3,"td",23),e.YNc(2,ye,1,0,"td",23),e.TgZ(3,"td",9)(4,"a",11),e._uU(5),e.qZA()()()),2&r){const t=o.$implicit,n=o.index;e.xp6(1),e.Q6J("ngIf",0===n),e.xp6(1),e.Q6J("ngIf",0!==n),e.xp6(2),e.MGl("href","mailto:",t.email,"",e.LSH),e.xp6(1),e.Oqu(t.name)}}function He(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",13),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"td",9)(5,"input",15,24),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.verifyCMD=i)}),e.qZA()(),e.TgZ(7,"td",9)(8,"span")(9,"clr-icon",17),e.NdJ("cbOnSuccess",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.onCopySuccess(i,"verify"))}),e.qZA()()()()}if(2&r){const t=e.MAs(6),n=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,5,"HELM_CHART.VERIFY_CHART")," "),e.xp6(3),e.Q6J("ngModel",n.verifyCMD),e.xp6(4),e.ekj("is-success",n.isCopied("verify")),e.Q6J("ngxClipboard",t)}}function De(r,o){1&r&&e._UZ(0,"div")}function Ie(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"td",9)(1,"span",25),e._UZ(2,"clr-icon",26),e.qZA(),e._uU(3,"\xa0"),e.TgZ(4,"a",27),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.downloadChart())}),e._uU(5),e.ALo(6,"translate"),e.qZA()()}2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"HELM_CHART.READY")))}function Ne(r,o){1&r&&(e.TgZ(0,"td",9)(1,"span",25),e._UZ(2,"clr-icon",28),e.qZA(),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&r&&(e.xp6(3),e.hij("\xa0",e.lcZ(4,1,"HELM_CHART.NOT_READY")," "))}function ke(r,o){1&r&&e._UZ(0,"hbr-label-piece",30),2&r&&e.Q6J("label",o.$implicit)("labelWidth",90)}function we(r,o){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"td"),e.TgZ(2,"td",9),e.YNc(3,ke,1,2,"hbr-label-piece",29),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.labels)}}let Se=(()=>{class r{constructor(t,n){this.errorHandler=t,this.helmChartService=n,this.copiedCMD=""}ngOnInit(){this.addCMD=`helm repo add --ca-file <ca file> --cert-file <cert file> --key-file <key file>     --username <username> --password <password> <repo name> ${this.repoURL}/chartrepo/${this.projectName}`,this.installCMD=`helm install --ca-file <ca file> --cert-file <cert file> --key-file <key file>     --username=<username> --password=<password> --version ${this.chartVersion} <repo name>/${this.chartName}`,this.verifyCMD=`helm verify --keyring <key path> ${this.chartName}-${this.chartVersion}.tgz`}isCopied(t){return this.copiedCMD===t}onCopySuccess(t,n){this.copiedCMD=n}get prov_ready(){return this.security&&this.security.signature&&this.security.signature.signed}downloadChart(){!this.summary||!this.summary.urls||this.summary.urls.length<1||this.helmChartService.downloadChart(this.projectName,`${this.summary.urls[0]}.prov`).subscribe(n=>{(0,_.Sv)(n)},n=>{this.errorHandler.error(n)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(L.q),e.Y36(I.Ph))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-chart-detail-summary"]],inputs:{summary:"summary",security:"security",repoURL:"repoURL",projectName:"projectName",chartName:"chartName",chartVersion:"chartVersion",readme:"readme",labels:"labels"},decls:96,vars:58,consts:[[1,"row"],[1,"col-md-12"],[1,"row","content-wrapper"],[1,"col-md-8","md-container","pl-1"],["class","md-div",3,"innerHTML",4,"ngIf"],[4,"ngIf"],[1,"col-md-4","summary-container","mt-1"],[1,"col-md-12","content-group"],[1,"table"],[1,"left"],[1,"left","text-wrapper"],[3,"href"],[4,"ngFor","ngForOf"],[1,"left","cmd-title"],[1,"left","cmd-content"],["type","text","readonly","",1,"cmd-content","clr-input",3,"ngModel","ngModelChange"],["addCMDInput",""],["shape","copy","size","24",3,"ngxClipboard","cbOnSuccess"],["installCMDInput",""],[4,"ngIf","ngIfThen","ngIfElse"],["signedContent",""],["unsignedContent",""],[1,"md-div",3,"innerHTML"],["class","left",4,"ngIf"],["verifyCMDInput",""],[1,"content-icon"],["shape","shield-check",1,"is-success"],["href","javascript:void(0)",3,"click"],["shape","shield-x",1,"is-error"],[3,"label","labelWidth",4,"ngFor","ngForOf"],[3,"label","labelWidth"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3),e.qZA()()(),e.TgZ(4,"div",2)(5,"div",3),e.YNc(6,Me,2,3,"div",4),e.YNc(7,xe,3,3,"div",5),e.qZA(),e.TgZ(8,"div",6)(9,"div",7)(10,"div")(11,"label"),e._uU(12),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"table",8)(15,"tbody")(16,"tr")(17,"td",9),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"td",10)(21,"a",11),e._uU(22),e.qZA()()(),e.YNc(23,Le,6,4,"tr",12),e.TgZ(24,"tr")(25,"td",9),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"td",9),e._uU(29),e.ALo(30,"harborDatetime"),e.qZA()(),e.YNc(31,Pe,6,4,"tr",12),e.TgZ(32,"tr")(33,"td",9),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"td",9),e._uU(37),e.qZA()()()()(),e.TgZ(38,"div",7)(39,"div")(40,"label"),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"table",8)(44,"tbody")(45,"tr")(46,"td",13),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"td",14)(50,"input",15,16),e.NdJ("ngModelChange",function(a){return n.addCMD=a}),e.qZA()(),e.TgZ(52,"td",9)(53,"span")(54,"clr-icon",17),e.NdJ("cbOnSuccess",function(a){return n.onCopySuccess(a,"add")}),e.qZA()()()(),e.TgZ(55,"tr")(56,"td",13),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"td",9)(60,"input",15,18),e.NdJ("ngModelChange",function(a){return n.installCMD=a}),e.qZA()(),e.TgZ(62,"td",9)(63,"span")(64,"clr-icon",17),e.NdJ("cbOnSuccess",function(a){return n.onCopySuccess(a,"install")}),e.qZA()()()(),e.YNc(65,He,10,7,"tr",5),e.qZA()()(),e.TgZ(66,"div",7)(67,"div")(68,"label"),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"table",8)(72,"tbody")(73,"tr")(74,"td",9),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.YNc(77,De,1,0,"div",19),e.YNc(78,Ie,7,3,"ng-template",null,20,e.W1O),e.YNc(80,Ne,5,3,"ng-template",null,21,e.W1O),e.qZA()()()(),e.TgZ(82,"div",7)(83,"div")(84,"label"),e._uU(85),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"table",8)(88,"tbody")(89,"tr")(90,"td",9),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.TgZ(93,"td",9),e._uU(94),e.qZA()(),e.YNc(95,we,4,1,"tr",5),e.qZA()()()()()),2&t){const i=e.MAs(51),a=e.MAs(61),s=e.MAs(79),f=e.MAs(81);e.xp6(3),e.Oqu(n.summary.description),e.xp6(3),e.Q6J("ngIf",n.readme),e.xp6(1),e.Q6J("ngIf",!n.readme),e.xp6(5),e.Oqu(e.lcZ(13,34,"HELM_CHART.OVERVIEW")),e.xp6(6),e.hij(" ",e.lcZ(19,36,"HELM_CHART.HOME")," "),e.xp6(3),e.s9C("href",n.summary.home,e.LSH),e.xp6(1),e.Oqu(n.summary.home),e.xp6(1),e.Q6J("ngForOf",n.summary.sources),e.xp6(3),e.hij(" ",e.lcZ(27,38,"HELM_CHART.CREATED")," "),e.xp6(3),e.hij(" ",e.lcZ(30,40,n.summary.created)," "),e.xp6(2),e.Q6J("ngForOf",n.summary.maintainers),e.xp6(3),e.hij(" ",e.lcZ(35,42,"HELM_CHART.APP_VERSION")," "),e.xp6(3),e.Oqu(n.summary.appVersion),e.xp6(4),e.Oqu(e.lcZ(42,44,"HELM_CHART.COMMAND")),e.xp6(6),e.hij(" ",e.lcZ(48,46,"HELM_CHART.ADD_REPO")," "),e.xp6(3),e.Q6J("ngModel",n.addCMD),e.xp6(4),e.ekj("is-success",n.isCopied("add")),e.Q6J("ngxClipboard",i),e.xp6(3),e.hij(" ",e.lcZ(58,48,"HELM_CHART.INSTALL_CHART")," "),e.xp6(3),e.Q6J("ngModel",n.installCMD),e.xp6(4),e.ekj("is-success",n.isCopied("install")),e.Q6J("ngxClipboard",a),e.xp6(1),e.Q6J("ngIf",n.prov_ready),e.xp6(4),e.Oqu(e.lcZ(70,50,"HELM_CHART.SECURITY")),e.xp6(6),e.hij(" ",e.lcZ(76,52,"HELM_CHART.PROV_FILE")," "),e.xp6(2),e.Q6J("ngIf",n.prov_ready)("ngIfThen",s)("ngIfElse",f),e.xp6(8),e.Oqu(e.lcZ(86,54,"HELM_CHART.LABELS")),e.xp6(6),e.hij(" ",e.lcZ(92,56,"HELM_CHART.LABELS")," "),e.xp6(3),e.Oqu(null==n.labels?null:n.labels.length),e.xp6(1),e.Q6J("ngIf",(null==n.labels?null:n.labels.length)>0)}},dependencies:[Z.Fj,Z.JJ,Z.On,c.qvL,c.MgK,C.sg,C.O5,Ze.y,H.q,T.X$,k.NO,q.Z],styles:[".content-wrapper[_ngcontent-%COMP%]{margin-top:20px;padding:0 0 0 15px}.content-wrapper[_ngcontent-%COMP%]   .md-container[_ngcontent-%COMP%]{border:solid 1px}.content-wrapper[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]{padding:0}.content-wrapper[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin-top:.5rem}.content-wrapper[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .content-group[_ngcontent-%COMP%]{margin-bottom:30px}.content-wrapper[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .content-icon[_ngcontent-%COMP%]{margin-right:6px}.content-wrapper[_ngcontent-%COMP%]   .summary-container[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{word-break:break-all}.content-wrapper[_ngcontent-%COMP%]   .cmd-title[_ngcontent-%COMP%]{white-space:nowrap;vertical-align:middle}.content-wrapper[_ngcontent-%COMP%]   .cmd-content[_ngcontent-%COMP%]{width:100%}"],changeDetection:0}),r})();function qe(r,o){1&r&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"HELM_CHART.SHOW_KV")))}function Re(r,o){1&r&&(e.TgZ(0,"div",9)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"HELM_CHART.SHOW_YAML")))}function Ve(r,o){if(1&r&&(e.TgZ(0,"tr")(1,"td",13),e._uU(2),e.qZA(),e.TgZ(3,"td",13),e._uU(4),e.qZA()()),2&r){const t=o.$implicit,n=e.oxw(2);e.xp6(2),e.Oqu(t),e.xp6(2),e.Oqu(n.values[t])}}function Ue(r,o){if(1&r&&(e.TgZ(0,"div",10)(1,"table",11)(2,"tbody"),e.YNc(3,Ve,5,2,"tr",12),e.qZA()()()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.objKeys(t.values))}}function Je(r,o){if(1&r&&(e.TgZ(0,"div",10),e._UZ(1,"div",14),e.ALo(2,"markdown"),e.ALo(3,"language"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,e.xi3(3,3,t.yaml,"yaml")),e.oJD)}}const V=function(r){return{"is-highlight":r}};let Fe=(()=>{class r{constructor(){this.valueMode=!1,this.valueHover=!1,this.yamlHover=!0,this.objKeys=Object.keys}get isValueMode(){return this.valueMode}isHovering(t){return"value"===t?this.valueHover:this.yamlHover}showYamlFile(t){this.valueMode=!t}mouseEnter(t){"value"===t?this.valueHover=!0:this.yamlHover=!0}mouseLeave(t){"value"===t?this.valueHover=!1:this.yamlHover=!1}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-chart-detail-value"]],inputs:{values:"values",yaml:"yaml"},decls:11,vars:10,consts:[[1,"row","flex-items-xs-between","values-header"],["class","title-container",4,"ngIf"],[1,"switch-container"],[1,"card-btn",3,"click","mouseenter","mouseleave"],["size","24","shape","view-list","title","list values",3,"ngClass"],[1,"list-btn",3,"click","mouseenter","mouseleave"],["size","24","shape","file","title","yaml file",3,"ngClass"],[1,"row","value-container"],["class","col-xs-8",4,"ngIf"],[1,"title-container"],[1,"col-xs-8"],[1,"table"],[4,"ngFor","ngForOf"],[1,"left"],[1,"yaml-container",3,"innerHTML"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,qe,4,3,"div",1),e.YNc(2,Re,4,3,"div",1),e.TgZ(3,"div",2)(4,"span",3),e.NdJ("click",function(){return n.showYamlFile(!1)})("mouseenter",function(){return n.mouseEnter("value")})("mouseleave",function(){return n.mouseLeave("value")}),e._UZ(5,"clr-icon",4),e.qZA(),e.TgZ(6,"span",5),e.NdJ("click",function(){return n.showYamlFile(!0)})("mouseenter",function(){return n.mouseEnter("yaml")})("mouseleave",function(){return n.mouseLeave("yaml")}),e._UZ(7,"clr-icon",6),e.qZA()()(),e.TgZ(8,"div",7),e.YNc(9,Ue,4,1,"div",8),e.YNc(10,Je,4,6,"div",8),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.valueMode),e.xp6(1),e.Q6J("ngIf",!n.valueMode),e.xp6(3),e.Q6J("ngClass",e.VKq(6,V,n.isValueMode||n.isHovering("value"))),e.xp6(2),e.Q6J("ngClass",e.VKq(8,V,!n.isValueMode||n.isHovering("yaml"))),e.xp6(2),e.Q6J("ngIf",n.valueMode),e.xp6(1),e.Q6J("ngIf",!n.valueMode))},dependencies:[c.qvL,c.MgK,C.mk,C.sg,C.O5,T.X$,k.Ay,k.NO],styles:[".value-container[_ngcontent-%COMP%]     pre{min-height:-moz-fit-content;min-height:fit-content;max-height:none!important}.values-header[_ngcontent-%COMP%]{margin-top:12px}.values-header[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{margin-left:15px}.values-header[_ngcontent-%COMP%]   .switch-container[_ngcontent-%COMP%]{margin-right:15px}pre[_ngcontent-%COMP%]{max-height:max-content;padding-left:21px}"],changeDetection:0}),r})();function je(r,o){1&r&&(e.TgZ(0,"span",6),e._uU(1," Loading... "),e.qZA())}function Qe(r,o){if(1&r&&(e.TgZ(0,"clr-tab-content",15),e._UZ(1,"hbr-chart-detail-summary",16),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("summary",t.chartDetail.metadata)("chartName",t.chartName)("repoURL",t.repoURL)("projectName",t.project.name)("chartVersion",t.chartVersion)("security",t.chartDetail.security)("readme",t.chartDetail.files["README.md"])("labels",t.chartDetail.labels)}}function Ye(r,o){if(1&r&&(e.TgZ(0,"div")(1,"clr-tabs")(2,"clr-tab")(3,"button",7),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.YNc(6,Qe,2,8,"clr-tab-content",8),e.qZA(),e.TgZ(7,"clr-tab")(8,"button",9),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"clr-tab-content",10),e._UZ(12,"hbr-chart-detail-dependency",11),e.qZA()(),e.TgZ(13,"clr-tab")(14,"button",12),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"clr-tab-content",13),e._UZ(18,"hbr-chart-detail-value",14),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,6,"HELM_CHART.SUMMARY")," "),e.xp6(5),e.hij(" ",e.lcZ(10,8,"HELM_CHART.DEPENDENCIES")," "),e.xp6(3),e.Q6J("dependencies",t.chartDetail.dependencies),e.xp6(3),e.hij(" ",e.lcZ(16,10,"HELM_CHART.VALUES")," "),e.xp6(3),e.Q6J("values",t.chartDetail.values)("yaml",t.chartDetail.files["values.yaml"])}}function $e(r,o){1&r&&(e.TgZ(0,"div")(1,"h6"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"HELM_CHART.NO_DETAIL")))}let Ke=(()=>{class r{constructor(t,n,i){this.errorHandler=t,this.systemInfoService=n,this.helmChartService=i,this.loading=!0,this.isMember=!1,this.repoURL=""}ngOnInit(){this.systemInfoService.getSystemInfo().subscribe(t=>{if(this.systemInfo=t,this.systemInfo.external_url)this.repoURL=`${this.systemInfo.external_url}`;else{let n="http://";this.systemInfo.has_ca_root&&(n="https://"),this.repoURL=`${n}${this.systemInfo.registry_url}`}},t=>this.errorHandler.error(t)),this.refresh()}get chartNameWithVersion(){return`${this.chartName}:${this.chartVersion}`}get isChartExist(){return!!this.chartDetail}refresh(){this.loading=!0,this.helmChartService.getChartDetail(this.project.name,this.chartName,this.chartVersion).pipe((0,v.x)(()=>{this.loading=!1})).subscribe(t=>{this.chartDetail=t},t=>{this.errorHandler.error(t)})}downloadChart(){this.chartDetail&&this.chartDetail.metadata&&this.chartDetail.metadata.urls&&!(this.chartDetail.metadata.urls.length<1)&&this.helmChartService.downloadChart(this.project.name,this.chartDetail.metadata.urls[0]).subscribe(n=>{(0,_.Sv)(n)},n=>{this.errorHandler.error(n)})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(L.q),e.Y36(h.Ob),e.Y36(I.Ph))},r.\u0275cmp=e.Xpm({type:r,selectors:[["hbr-chart-detail"]],inputs:{projectId:"projectId",project:"project",chartName:"chartName",chartVersion:"chartVersion",roleName:"roleName",hasSignedIn:"hasSignedIn",hasProjectAdminRole:"hasProjectAdminRole"},decls:16,vars:12,consts:[[1,"flex-container"],[1,"title-container"],[1,"chart-name"],[1,"btn","btn-secondary",3,"click"],["class","spinner spinner-lg detail-loading",4,"ngIf"],[4,"ngIf"],[1,"spinner","spinner-lg","detail-loading"],["clrTabLink","","id","summary-link"],["id","summary-content",4,"clrIfActive"],["clrTabLink","","id","depend-link"],["id","depend-content"],[3,"dependencies"],["clrTabLink","","id","value-link"],["id","value-content"],[3,"values","yaml"],["id","summary-content"],[3,"summary","chartName","repoURL","projectName","chartVersion","security","readme","labels"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div")(10,"button",3),e.NdJ("click",function(){return n.downloadChart()}),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.YNc(13,je,2,0,"span",4),e.YNc(14,Ye,19,12,"div",5),e.YNc(15,$e,4,3,"div",5),e.qZA()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,6,n.chartNameWithVersion)," "),e.xp6(3),e.hij(" ",e.lcZ(8,8,n.roleName)," "),e.xp6(4),e.hij(" ",e.lcZ(12,10,"HELM_CHART.DOWNLOAD")," "),e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading&&n.isChartExist),e.xp6(1),e.Q6J("ngIf",!n.loading&&!n.isChartExist))},dependencies:[c.tam,c.UkA,c.S4y,c.gKI,c.Iq$,c.dl,c.Qs7,C.O5,Te,Se,Fe,T.X$],styles:[".title-container[_ngcontent-%COMP%]{display:flex}.title-container[_ngcontent-%COMP%]   .chart-name[_ngcontent-%COMP%]{border-right:1px solid gray;font-size:27px;font-weight:400;padding-right:9px;margin-right:9px}.detail-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:108px!important;height:108px!important}.flex-container[_ngcontent-%COMP%]{display:flex;-webkit-display:flex;justify-content:space-between}.flex-container[_ngcontent-%COMP%]   .title-container[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),r})(),We=(()=>{class r{constructor(t,n,i){this.route=t,this.router=n,this.session=i}ngOnInit(){this.projectId=+this.route.snapshot.parent.params.id,this.chartName=this.route.snapshot.params.chart,this.chartVersion=this.route.snapshot.params.version,this.currentUser=this.session.getCurrentUser();let t=this.route.snapshot.parent.data;t&&(this.project=t.projectResolver,this.roleName=this.project.role_name,this.projectName=this.project.name,this.hasProjectAdminRole=this.project.has_project_admin_role)}gotoProjectList(){this.router.navigateByUrl("/harbor/projects")}gotoChartList(){this.router.navigateByUrl(`/harbor/projects/${this.projectId}/helm-charts`)}gotoChartVersion(){this.router.navigateByUrl(`/harbor/projects/${this.projectId}/helm-charts/${this.chartName}/versions`)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(d.gz),e.Y36(d.F0),e.Y36(A.m))},r.\u0275cmp=e.Xpm({type:r,selectors:[["project-chart-detail"]],decls:17,vars:12,consts:[[1,"breadcrumb"],[1,"back-icon"],[3,"click"],[3,"projectId","project","chartName","chartVersion","roleName"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"span",1),e._uU(3,"<"),e.qZA(),e.TgZ(4,"a",2),e.NdJ("click",function(){return n.gotoProjectList()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span",1),e._uU(8,"<"),e.qZA(),e.TgZ(9,"a",2),e.NdJ("click",function(){return n.gotoChartList()}),e._uU(10),e.qZA(),e.TgZ(11,"span",1),e._uU(12,"<"),e.qZA(),e.TgZ(13,"a",2),e.NdJ("click",function(){return n.gotoChartVersion()}),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e._UZ(16,"hbr-chart-detail",3),e.qZA()),2&t&&(e.xp6(5),e.Oqu(e.lcZ(6,8,"SIDE_NAV.PROJECTS")),e.xp6(5),e.Oqu(n.projectName),e.xp6(4),e.Oqu(e.lcZ(15,10,"HELM_CHART.CHARTVERSIONS")),e.xp6(2),e.Q6J("projectId",n.projectId)("project",n.project)("chartName",n.chartName)("chartVersion",n.chartVersion)("roleName",n.roleName))},dependencies:[Ke,T.X$],styles:[".breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;cursor:pointer;color:#007cbb;font-size:16px;margin:5px}.breadcrumb[_ngcontent-%COMP%]{margin-bottom:.5rem}.back-icon[_ngcontent-%COMP%]{color:#007cbb;font-size:16px}"]}),r})();var ze=l(6296);const Be=[{path:":chart/versions",component:be},{path:":chart/versions/:version",component:We}];let Ge=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[ze.m,d.Bz.forChild(Be)]}),r})()},8348:(w,O,l)=>{l.d(O,{z:()=>h});var e=l(4650),d=l(7579),A=l(8372),b=l(4006),E=l(6895),v=l(9375);const y=["inputElement"];function P(_,m){1&_&&e._UZ(0,"span",4)}let h=(()=>{class _{constructor(p){this.cd=p,this.placeHolder="",this.filterTerms=new d.x,this.isExpanded=!1,this.filterEvt=new e.vpe,this.openFlag=new e.vpe,this.readonly=null,this.expandMode=!1,this.withDivider=!1}set filterPlaceholder(p){this.placeHolder=p}ngOnInit(){this.filterTerms.pipe((0,A.b)(500)).subscribe(p=>{this.filterEvt.emit(p)})}valueChange(){this.filterTerms.next(this.currentValue&&this.currentValue.trim())}inputFocus(){this.openFlag.emit(this.isExpanded)}onClick(){this.expandMode||(this.isExpanded=!this.isExpanded,this.isExpanded&&(this.cd.detectChanges(),this.inputElement.nativeElement.focus()),this.openFlag.emit(this.isExpanded))}get isShowSearchBox(){return this.expandMode||!this.expandMode&&this.isExpanded}}return _.\u0275fac=function(p){return new(p||_)(e.Y36(e.sBO))},_.\u0275cmp=e.Xpm({type:_,selectors:[["hbr-filter"]],viewQuery:function(p,u){if(1&p&&e.Gf(y,5),2&p){let M;e.iGM(M=e.CRH())&&(u.inputElement=M.first)}},inputs:{readonly:"readonly",currentValue:"currentValue",filterPlaceholder:"filterPlaceholder",expandMode:"expandMode",withDivider:"withDivider",width:"width"},outputs:{filterEvt:"filterEvt",openFlag:"openFlag"},decls:5,vars:9,consts:[["shape","search","size","20",1,"search-btn",3,"click"],["type","text","autofocus","",1,"filter-input","clr-input",3,"hidden","placeholder","ngModel","keyup","focus","ngModelChange"],["inputElement",""],["class","filter-divider",4,"ngIf"],[1,"filter-divider"]],template:function(p,u){1&p&&(e.TgZ(0,"span")(1,"clr-icon",0),e.NdJ("click",function(){return u.onClick()}),e.qZA(),e.TgZ(2,"input",1,2),e.NdJ("keyup",function(){return u.valueChange()})("focus",function(){return u.inputFocus()})("ngModelChange",function(L){return u.currentValue=L}),e.qZA(),e.YNc(4,P,1,0,"span",3),e.qZA()),2&p&&(e.xp6(1),e.ekj("filter-icon",u.isShowSearchBox),e.xp6(1),e.Udp("width",u.width,"px"),e.s9C("placeholder",u.placeHolder),e.Q6J("hidden",!u.isShowSearchBox)("ngModel",u.currentValue),e.uIk("readOnly",u.readonly),e.xp6(2),e.Q6J("ngIf",u.withDivider))},dependencies:[b.Fj,b.JJ,b.On,E.O5,v.qvL],styles:[".filter-icon[_ngcontent-%COMP%]{position:relative;right:-20px}.filter-divider[_ngcontent-%COMP%]{display:inline-block;height:16px;width:1px;padding-top:12px;padding-bottom:12px;position:relative;top:9px;margin-right:6px;margin-left:6px}.search-btn[_ngcontent-%COMP%]{cursor:pointer}.search-btn[_ngcontent-%COMP%]:hover{color:#007cbb}.filter-input[_ngcontent-%COMP%]{padding-left:24px}"]}),_})()},6082:(w,O,l)=>{l.d(O,{q:()=>P});var e=l(6742),d=l(4650),A=l(6895),b=l(9375);function E(h,_){1&h&&d._UZ(0,"clr-icon",4)}function v(h,_){1&h&&d._UZ(0,"clr-icon",5)}const y=function(h,_,m){return{"background-color":h,color:_,border:m}};let P=(()=>{class h{constructor(){this.hasIcon=!0}ngOnChanges(){if(this.label){let m=this.label.color;m||(m="#FFFFFF"),this.labelColor=e.oW.find(p=>p.color===m)}}}return h.\u0275fac=function(m){return new(m||h)},h.\u0275cmp=d.Xpm({type:h,selectors:[["hbr-label-piece"]],inputs:{label:"label",labelWidth:"labelWidth",hasIcon:"hasIcon"},features:[d.TTD],decls:6,vars:10,consts:[[1,"label",3,"ngStyle"],["shape","organization",4,"ngIf"],["shape","administrator",4,"ngIf"],[1,"label-name"],["shape","organization"],["shape","administrator"]],template:function(m,p){1&m&&(d.TgZ(0,"label",0)(1,"span"),d.YNc(2,E,1,0,"clr-icon",1),d.YNc(3,v,1,0,"clr-icon",2),d.qZA(),d.TgZ(4,"span",3),d._uU(5),d.qZA()()),2&m&&(d.Udp("max-width",p.labelWidth,"px"),d.Q6J("ngStyle",d.kEZ(6,y,null==p.labelColor?null:p.labelColor.color,null==p.labelColor?null:p.labelColor.textColor,"#FFFFFF"===(null==p.labelColor?null:p.labelColor.color)?"1px solid #A1A1A1":"none")),d.xp6(2),d.Q6J("ngIf",p.hasIcon&&"p"===p.label.scope),d.xp6(1),d.Q6J("ngIf",p.hasIcon&&"g"===p.label.scope),d.xp6(2),d.Oqu(p.label.name))},dependencies:[A.O5,A.PC,b.qvL,b.MgK],styles:[".label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:inherit}.label[_ngcontent-%COMP%]   clr-icon[_ngcontent-%COMP%]{margin-right:3px;margin-top:3px}.label-name[_ngcontent-%COMP%]{min-width:0;overflow:hidden;text-overflow:ellipsis}"]}),h})()}}]);